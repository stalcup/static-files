function foo_Game(){var nb='',ob=0,pb='gwt.codesvr=',qb='gwt.hosted=',rb='gwt.hybrid',sb='foo.Game',tb='__gwt_marker_foo.Game',ub='<script id="',vb='"><\/script>',wb='SCRIPT',xb='#',yb='?',zb='/',Ab=1,Bb='base',Cb='img',Db='clear.cache.gif',Eb='meta',Fb='name',Gb='gwt:property',Hb='content',Ib='=',Jb='gwt:onPropertyErrorFn',Kb='Bad handler "',Lb='" for "gwt:onPropertyErrorFn"',Mb='gwt:onLoadErrorFn',Nb='" for "gwt:onLoadErrorFn"',Ob='Single-script hosted mode not yet implemented. See issue ',Pb='http://code.google.com/p/google-web-toolkit/issues/detail?id=2079',Qb='EC98F3CC3A65F0AD7A6E0721DF8C8993',Rb=':',Sb='DOMContentLoaded',Tb=50;var k=nb,l=ob,m=pb,n=qb,o=rb,p=sb,q=tb,r=ub,s=vb,t=wb,u=xb,v=yb,w=zb,A=Ab,B=Bb,C=Cb,D=Db,F=Eb,G=Fb,H=Gb,I=Hb,J=Ib,K=Jb,L=Kb,M=Lb,N=Mb,O=Nb,P=Ob,Q=Pb,R=Qb,S=Rb,T=Sb,U=Tb;var V=window,W=document,X,Y,Z=k,$={},_=[],ab=[],bb=[],cb=l,db,eb;if(!V.__gwt_stylesLoaded){V.__gwt_stylesLoaded={}}if(!V.__gwt_scriptsLoaded){V.__gwt_scriptsLoaded={}}function fb(){var b=false;try{var c=V.location.search;return (c.indexOf(m)!=-1||(c.indexOf(n)!=-1||V.external&&V.external.gwtOnLoad))&&c.indexOf(o)==-1}catch(a){}fb=function(){return b};return b}
function gb(){if(X&&Y){X(db,p,Z,cb)}}
function hb(){var e,f=q,g;W.write(r+f+s);g=W.getElementById(f);e=g&&g.previousSibling;while(e&&e.tagName!=t){e=e.previousSibling}function h(a){var b=a.lastIndexOf(u);if(b==-1){b=a.length}var c=a.indexOf(v);if(c==-1){c=a.length}var d=a.lastIndexOf(w,Math.min(c,b));return d>=l?a.substring(l,d+A):k}
;if(e&&e.src){Z=h(e.src)}if(Z==k){var i=W.getElementsByTagName(B);if(i.length>l){Z=i[i.length-A].href}else{Z=h(W.location.href)}}else if(Z.match(/^\w+:\/\//)){}else{var j=W.createElement(C);j.src=Z+D;Z=h(j.src)}if(g){g.parentNode.removeChild(g)}}
function ib(){var b=document.getElementsByTagName(F);for(var c=l,d=b.length;c<d;++c){var e=b[c],f=e.getAttribute(G),g;if(f){if(f==H){g=e.getAttribute(I);if(g){var h,i=g.indexOf(J);if(i>=l){f=g.substring(l,i);h=g.substring(i+A)}else{f=g;h=k}$[f]=h}}else if(f==K){g=e.getAttribute(I);if(g){try{eb=eval(g)}catch(a){alert(L+g+M)}}}else if(f==N){g=e.getAttribute(I);if(g){try{db=eval(g)}catch(a){alert(L+g+O)}}}}}}
__gwt_isKnownPropertyValue=function(a,b){return b in _[a]};__gwt_getMetaProperty=function(a){var b=$[a];return b==null?null:b};foo_Game.onScriptLoad=function(a){foo_Game=null;X=a;gb()};if(fb()){alert(P+Q);return}hb();ib();try{var jb;jb=R;var kb=jb.indexOf(S);if(kb!=-1){cb=Number(jb.substring(kb+A))}}catch(a){return}var lb;function mb(){if(!Y){Y=true;gb();if(W.removeEventListener){W.removeEventListener(T,mb,false)}if(lb){clearInterval(lb)}}}
if(W.addEventListener){W.addEventListener(T,function(){mb()},false)}var lb=setInterval(function(){if(/loaded|complete/.test(W.readyState)){mb()}},U)}
foo_Game();(function () {var $gwt_version = "2.8.2";var $wnd = window;var $doc = $wnd.document;var $moduleName, $moduleBase;var $stats = $wnd.__gwtStatsEvent ? function(a) {$wnd.__gwtStatsEvent(a)} : null;var $strongName = 'EC98F3CC3A65F0AD7A6E0721DF8C8993';function Ti(){}
function Pi(){}
function Eb(){}
function Ec(){}
function tc(){}
function Bc(){}
function kk(){}
function Im(){}
function Do(){}
function Fo(){}
function ts(){}
function bw(){}
function RA(){}
function CC(){}
function AD(){}
function ZD(){}
function $D(){}
function _D(){}
function aE(){}
function pE(){}
function Yw(){Yw=Pi}
function YA(){uy(this)}
function dA(){Sz(this)}
function Em(a){this.a=a}
function Gm(a){this.a=a}
function Lm(a){this.a=a}
function Nm(a){this.a=a}
function Pm(a){this.a=a}
function Rm(a){this.a=a}
function Tm(a){this.a=a}
function Ho(a){this.a=a}
function Cs(a){this.g=a}
function Fs(a){this.g=a}
function Ks(a){this.g=a}
function Ns(a){this.g=a}
function Ws(a){this.g=a}
function Zs(a){this.g=a}
function at(a){this.g=a}
function dt(a){this.g=a}
function gt(a){this.g=a}
function jt(a){this.g=a}
function mt(a){this.g=a}
function pt(a){this.g=a}
function st(a){this.g=a}
function vt(a){this.g=a}
function yt(a){this.g=a}
function Bt(a){this.g=a}
function Et(a){this.g=a}
function Ht(a){this.g=a}
function Kt(a){this.g=a}
function Nt(a){this.g=a}
function Qt(a){this.g=a}
function Tt(a){this.g=a}
function Wt(a){this.g=a}
function Zt(a){this.g=a}
function au(a){this.g=a}
function du(a){this.g=a}
function gu(a){this.g=a}
function ju(a){this.g=a}
function mu(a){this.g=a}
function dw(a){this.a=a}
function uw(a){this.a=a}
function Mw(a){this.a=a}
function Ow(a){this.a=a}
function Qw(a){this.a=a}
function Sw(a){this.a=a}
function Dw(a){this.b=a}
function bx(a){this.a=a}
function Mx(a){this.a=a}
function Ey(a){this.a=a}
function Yy(a){this.d=a}
function iz(a){this.a=a}
function mz(a){this.a=a}
function Bz(a){this.a=a}
function Fz(a){this.a=a}
function Jz(a){this.a=a}
function eB(a){this.a=a}
function fC(a){this.a=a}
function QC(a){this.c=a}
function rA(a){this.c=a}
function sE(a){this.a=a}
function oE(a,b){a.a=b}
function As(a,b){a.i=b}
function Iw(a,b){a.e=b}
function Kw(a,b){a.f=b}
function Fm(a,b){ym(a.a,b)}
function rE(a,b){iE(a.a,b)}
function Wr(a,b){aB(a.s,b)}
function Ew(a){Fm(a.f,a.c)}
function Hw(a){Fm(a.f,a.c)}
function yi(a){return a.e}
function ao(a,b){--a.T[b.i]}
function Xw(){Ub.call(this)}
function XA(){Ub.call(this)}
function Hx(){Ub.call(this)}
function Jx(){Ub.call(this)}
function Yx(){Ub.call(this)}
function ly(){Ub.call(this)}
function DC(){Ub.call(this)}
function xB(){xB=Pi;wB=zB()}
function yc(a){xc();wc.Lb(a)}
function DA(a){HE(a);this.a=a}
function vA(a){wA(a,a.length)}
function cw(a,b){a.a.Bc(a,b)}
function Ym(a,b){a.b.Zb(a,b)}
function Cw(a,b){a.a=b;zw(a)}
function cB(){this.a=new YA}
function OA(){OA=Pi;NA=new RA}
function Xb(){Xb=Pi;Wb=new Eb}
function qc(){qc=Pi;pc=new tc}
function nj(a){a.b=null;a.c=0}
function sj(a){return !!a&&a.b}
function Vw(a){Vb.call(this,a)}
function Ww(a){Vw.call(this,a)}
function ky(a){Vw.call(this,a)}
function my(a){Vb.call(this,a)}
function Ix(a){Vb.call(this,a)}
function Kx(a){Vb.call(this,a)}
function yD(a){Bz.call(this,a)}
function iy(){Sw.call(this,'')}
function Ub(){Mb(this);this.Jb()}
function Bq(){xq.call(this,YF,0)}
function Dq(){xq.call(this,ZF,9)}
function Xq(){xq.call(this,MF,1)}
function Ex(){Vb.call(this,null)}
function yE(a,b){a.splice(b,1)}
function zE(a,b){return Pc(a,b)}
function Gc(a,b){return ux(a,b)}
function ax(a,b){return a.a-b.a}
function Jj(a,b){return a.i-b.i}
function ij(a,b){return !!a.Tb(b)}
function ld(a){return a.l|a.m<<22}
function lx(a){kx(a);return a.k}
function mx(a){kx(a);return a.i}
function BB(){xB();return new wB}
function gc(){gc=Pi;!!(xc(),wc)}
function oc(){dc!=0&&(dc=0);fc=-1}
function Ji(){Hi==null&&(Hi=[])}
function Jq(){xq.call(this,EF,12)}
function Fq(){xq.call(this,$F,10)}
function Hq(){xq.call(this,DF,11)}
function Lq(){xq.call(this,HF,13)}
function Nq(){xq.call(this,JF,14)}
function Tq(){xq.call(this,CF,17)}
function Vq(){xq.call(this,BF,18)}
function Zq(){xq.call(this,IF,19)}
function _q(){xq.call(this,_F,20)}
function br(){xq.call(this,FF,21)}
function fr(){xq.call(this,GF,23)}
function jr(){xq.call(this,LF,25)}
function dr(){xq.call(this,aG,22)}
function Tj(a,b){Kj.call(this,a,b)}
function Wl(a,b){Kj.call(this,a,b)}
function Hm(a,b){this.a=a;this.c=b}
function Vm(a,b){this.a=a;this.b=b}
function Kj(a,b){this.g=a;this.i=b}
function vs(a,b){this.a=a;this.b=b}
function xq(a,b){Kj.call(this,a,b)}
function xz(a,b){this.d=a;this.e=b}
function dD(a,b){while(a.$c(b));}
function iE(a,b){oE(a,hE(a.a,b))}
function Vr(a,b){return bB(a.s,b)}
function bB(a,b){return a.a.Ob(b)}
function DB(a,b){return a.a.get(b)}
function Tr(a,b){return a.hb>=b.b}
function Yr(a,b){return a.Q[b.i]>0}
function io(a,b){return a.T[b.i]>0}
function vy(a){return a.d.c+a.e.c}
function Vy(a){return a.b<a.d.Rb()}
function Bk(a,b){return Nx(a.a,b.a)}
function Lx(a,b){return Nx(a.a,b.a)}
function ay(a,b){return HE(a),a===b}
function lo(a,b){return a.T[b.i]==0}
function cy(a,b){return a.substr(b)}
function HD(a,b){Kj.call(this,a,b)}
function XD(a,b){Kj.call(this,a,b)}
function nC(){eB.call(this,new UB)}
function nc(a){$wnd.clearTimeout(a)}
function oB(a){this.a=BB();this.b=a}
function GB(a){this.a=BB();this.b=a}
function mE(a,b){this.a=a;this.b=b}
function wE(a,b,c){a.splice(b,0,c)}
function gy(a,b){a.a+=''+b;return a}
function hy(a,b){a.a+=''+b;return a}
function zs(a,b){return -Gx(a.i,b.i)}
function Sc(a){return Tc(a.l,a.m,a.h)}
function dj(a){return !a?null:a.Vc()}
function Jd(a){return a==null?null:a}
function Fd(a){return typeof a===_E}
function Ci(a){return typeof a===_E}
function Ur(a,b){return Fj(a.c,b).a>0}
function Rr(a,b,c){return uk(a.j,b,c)}
function pm(a,b,c){return b+ZC(a.p)*c}
function FC(a){return a!=null?Kb(a):0}
function Sz(a){a.a=Kc($g,yF,1,0,5,1)}
function LD(){HD.call(this,'Head',1)}
function QD(){HD.call(this,'Tail',3)}
function ND(){HD.call(this,'Range',2)}
function lr(){xq.call(this,'CHARM',2)}
function nr(){xq.call(this,'HOOK',3)}
function Pq(){xq.call(this,'GUST',15)}
function Rq(){xq.call(this,'BLINK',16)}
function jy(a){Sw.call(this,(HE(a),a))}
function BE(a){if(!a){throw yi(new Hx)}}
function KE(a){if(!a){throw yi(new Jx)}}
function OE(a){if(!a){throw yi(new Ex)}}
function EE(a){if(!a){throw yi(new Xw)}}
function FE(a){if(!a){throw yi(new DC)}}
function SB(a,b){if(a.a){bC(b);aC(b)}}
function aA(a,b){BA(a.a,a.a.length,b)}
function xE(a,b,c){vE(c,0,a,b,c.length)}
function Tc(a,b,c){return {l:a,m:b,h:c}}
function Nx(a,b){return a<b?-1:a>b?1:0}
function Dd(a,b){return a!=null&&vd(a,b)}
function ad(a){return a.l+a.m*jF+a.h*kF}
function RE(a){return a.$H||(a.$H=++QE)}
function rD(a){return a.b=wd(Wy(a.a),19)}
function bA(a){return uE(a.a,a.a.length)}
function cC(a){dC.call(this,a,null,null)}
function tD(a){uD.call(this,a,(GD(),CD))}
function ww(){ww=Pi;vw=new xw((ek(),ck))}
function VE(){VE=Pi;SE=new Eb;UE=new Eb}
function Zm(a,b){this.b=a;this.a=a._b(b)}
function Eu(){this.b=new dA;this.a=new YA}
function gE(a,b){dE.call(this,a);this.a=b}
function hE(a,b){wd(a,31).vc(b);return a}
function xd(a){OE(a==null||Fd(a));return a}
function Ad(a){OE(a==null||Hd(a));return a}
function kx(a){if(a.k!=null){return}yx(a)}
function Nb(a,b){a.e=b;b!=null&&PE(b,dF,a)}
function Aw(a,b,c,d){a.b.fillText(b,c,d)}
function Bw(a,b,c){a.b.fillRect(0,0,b,c)}
function pp(a,b,c,d){aB(a.b,b);tp(a,b,c,d)}
function PE(b,c,d){try{b[c]=d}catch(a){}}
function wm(a,b,c){return b+(c-b)*YC(a.p)}
function $w(a,b){Yw();return a==b?0:a?1:-1}
function _b(a){return a==null?null:a.name}
function Hd(a){return typeof a==='string'}
function Ed(a){return typeof a==='boolean'}
function VA(a,b){b.$modCount=a.$modCount}
function uB(a,b){var c;c=a[tG];c.call(a,b)}
function vB(a,b){var c;c=a[tG];c.call(a,b)}
function qz(a,b){var c;c=a.e;a.e=b;return c}
function Mr(a,b){!!a.jb&&Mr(a.jb,b);fo(a,b)}
function QA(a,b){return PA(wd(a,6),wd(b,6))}
function fA(a){Sz(this);xE(this.a,0,a.yc())}
function Vb(a){this.f=a;Mb(this);this.Jb()}
function wv(){iv.call(this,KF,14,0,0,true)}
function Ov(){iv.call(this,$F,2,60,10,true)}
function hr(){xq.call(this,'RETALIATE',24)}
function Br(){xq.call(this,'MELEE_FOCUS',8)}
function yr(){xq.call(this,'RANGED_FOCUS',7)}
function sr(){xq.call(this,'AGILITY_HERO',5)}
function kv(){iv.call(this,ZF,0,140,15,true)}
function qv(){iv.call(this,aG,11,140,6,true)}
function Qv(){iv.call(this,DF,3,60,12,false)}
function nw(a){jw.call(this,'FLOOR',1,183,a)}
function rw(a){jw.call(this,'PATH',3,9604,a)}
function Uw(){Vb.call(this,'divide by zero')}
function Bd(a){return String.fromCharCode(a)}
function $b(a){return a==null?null:a.message}
function hc(a,b,c){return a.apply(b,c);var d}
function $r(a,b){tj(a.c,b,Ux(Fj(a.c,b).a-1))}
function sD(a){Xy(a.a);uj(a.c,a.b);a.b=null}
function jD(a){this.b=(HE(a),a);this.a=16464}
function Ck(a,b,c){this.c=a;this.d=b;this.a=c}
function wp(a,b,c){this.a=a;this.b=b;this.c=c}
function CE(a,b){if(!a){throw yi(new Ix(b))}}
function Wi(){Wi=Pi;Vi=$wnd.window.document}
function Wx(){Wx=Pi;Vx=Kc(Wg,lF,37,256,0,1)}
function ix(){ix=Pi;hx=Kc(Ng,lF,49,128,0,1)}
function Sv(){iv.call(this,EF,4,120,60,false)}
function mv(){iv.call(this,IF,9,150,22,false)}
function ov(){iv.call(this,_F,10,70,22,false)}
function uv(){iv.call(this,GF,13,70,22,false)}
function Cv(){iv.call(this,LF,17,96,12,false)}
function Kv(){iv.call(this,MF,20,50,70,false)}
function Uv(){iv.call(this,HF,5,100,45,false)}
function Wv(){iv.call(this,JF,6,100,18,false)}
function pr(){xq.call(this,'STRENGTH_HERO',4)}
function pw(a){jw.call(this,'TRAIL',2,9602,a)}
function Jw(a){a.a.width=1540;a.a.height=810}
function Mb(a){a.g&&a.e!==cF&&a.Jb();return a}
function qx(a){var b;b=px(a);Cx(a,b);return b}
function wd(a,b){OE(a==null||vd(a,b));return a}
function oC(a,b){pC(a,b,a.c.b,a.c);return true}
function sl(a,b){Kj.call(this,a,b);this.a=true}
function tl(a,b){Kj.call(this,a,b);this.a=false}
function Ev(){iv.call(this,YF,18,300,200,false)}
function yv(){iv.call(this,'NOOP',15,0,0,false)}
function Yv(){iv.call(this,'GUST',7,90,13,true)}
function $v(){iv.call(this,'BLINK',8,60,6,true)}
function Hj(){this.b=null;this.a=(OA(),OA(),NA)}
function NB(a,b,c){this.a=a;this.b=b;this.c=c}
function xC(a,b,c){this.d=a;this.b=c;this.a=b}
function dC(a,b,c){this.c=a;xz.call(this,b,c)}
function BA(a,b,c){DE(b,a.length);zA(a,0,b,c)}
function Tz(a,b,c){IE(b,a.a.length);wE(a.a,b,c)}
function Wz(a,b){GE(b,a.a.length);return a.a[b]}
function Fi(a){if(Ci(a)){return a|0}return ld(a)}
function PA(a,b){return HE(a),_w(a,(HE(b),b))}
function Zw(a,b){return $w((HE(a),a),(HE(b),b))}
function Fx(a,b){return Gx((HE(a),a),(HE(b),b))}
function YC(a){return _C(a,26)*uG+_C(a,27)*vG}
function Xx(a){return a==0||isNaN(a)?a:a<0?-1:1}
function dB(a){this.a=new ZA(a.Rb());pu(this,a)}
function uy(a){a.d=new oB(a);a.e=new GB(a);WA(a)}
function Fr(a,b){--a.rb;aB(a.ob,b);b.sc(a);Hr(a)}
function bC(a){a.a.b=a.b;a.b.a=a.a;a.a=a.b=null}
function sx(a){var b;b=px(a);b.j=a;b.e=1;return b}
function gk(a,b){b<0&&(b=0);b>255&&(b=255);a.a=b}
function hk(a,b){b<0&&(b=0);b>255&&(b=255);a.b=b}
function ik(a,b){b<0&&(b=0);b>255&&(b=255);a.c=b}
function jk(a,b){b<0&&(b=0);b>255&&(b=255);a.d=b}
function yk(a,b,c,d){Ak.call(this,a,b,c,d,false)}
function xk(a,b,c){Ak.call(this,a,b,c,null,false)}
function ep(a){Mo.call(this,5,8,1,1,'Hulk',72,a)}
function Oo(a){Mo.call(this,1,2,0.5,2,'Ape',97,a)}
function hn(a){fn.call(this,'GOLD',0,36,'Gold',a)}
function lw(a){jw.call(this,'DOWN_STAIRS',0,62,a)}
function vr(){xq.call(this,'INTELLIGENCE_HERO',6)}
function Gw(a){(Wi(),$wnd.window.console).log(a)}
function Gi(a){if(Ci(a)){return ''+a}return md(a)}
function Ic(a,b,c,d,e,f){return Jc(a,b,c,d,e,0,f)}
function ny(a,b){return Hd(b)?qy(a,b):!!lB(a.d,b)}
function CB(a,b){return !(a.a.get(b)===undefined)}
function Cd(a){return !Array.isArray(a)&&a.ed===Ti}
function Mc(a){return Array.isArray(a)&&a.ed===Ti}
function Gd(a){return a!=null&&Id(a)&&!(a.ed===Ti)}
function Id(a){return typeof a===$E||typeof a===aF}
function wA(a,b){var c;for(c=0;c<b;++c){a[c]=-1}}
function jE(a,b,c){if(a.a.nc(c)){a.b=true;b.bd(c)}}
function aD(a,b,c){a.c=b^1502;a.d=c^wG;a.a=false}
function qA(a){KE(a.b!=-1);Yz(a.c,a.a=a.b);a.b=-1}
function cd(a,b){return Tc(a.l&b.l,a.m&b.m,a.h&b.h)}
function oy(a,b){return Hd(b)?py(a,b):dj(lB(a.d,b))}
function yw(){ww();return Oc(Gc(Cg,1),lF,93,0,[vw])}
function sv(){iv.call(this,'HOOK',12,140,12,false)}
function Mv(){iv.call(this,'CHARM',21,100,80,false)}
function Ro(a){Mo.call(this,1,3,1,1,'Bandit',98,a)}
function $o(a){Mo.call(this,3,6,1,1,'Hellion',104,a)}
function kp(a){Mo.call(this,7,10,1,1,'Spider',115,a)}
function uc(a,b){!a&&(a=[]);a[a.length]=b;return a}
function Uz(a,b){Nc(a.a,a.a.length,b);return true}
function aB(a,b){var c;c=a.a.Kc(b,a);return c==null}
function uE(a,b){var c;c=a.slice(0,b);return Pc(c,a)}
function Nc(a,b,c){EE(c==null||Fc(a,c));return a[b]=c}
function HE(a){if(a==null){throw yi(new Yx)}return a}
function YE(){if(TE==256){SE=UE;UE=new Eb;TE=0}++TE}
function bE(a){if(!a.b){cE(a);a.c=true}else{bE(a.b)}}
function Rs(a,b){if(!b){return 0}return b.a-a.g.Bb}
function Ss(a,b){if(!b){return 0}return b.b-a.g.Cb}
function eE(a,b){cE(a);return new gE(a,new kE(b,a.a))}
function ry(a,b,c){return Hd(b)?sy(a,b,c):mB(a.d,b,c)}
function ko(a,b){return !b.rc()&&!b.qc()&&!bB(a.ob,b)}
function Xl(){Vl();return Oc(Gc(ce,1),lF,81,0,[Ul,Tl])}
function KC(){this.b=new eA;this.a=(OA(),OA(),NA)}
function jC(a){this.c=a;this.b=a.a.b.a;VA(a.a.c,this)}
function hD(a,b){this.e=a;this.d=(b&64)!=0?b|16384:b}
function Zn(a,b){Yn();this.a=a;qy(Xn,b)?Ad(py(Xn,b)):b}
function Xi(a,b,c,d){this.a=a;this.d=b;this.c=c;this.b=d}
function dE(a){if(!a){this.b=null;new dA}else{this.b=a}}
function Xo(a){Mo.call(this,2,5,1,1,'Elemental',101,a)}
function hp(a){Mo.call(this,6,9,0.25,4,'Pygmy',121,a)}
function jw(a,b,c,d){Kj.call(this,a,b);this.b=c;this.a=d}
function Kr(a,b,c,d){d=Kd(d*a.fb);b.lc(d,a,c,1,true)}
function $x(a,b){NE(b,a.length);return a.charCodeAt(b)}
function Wy(a){FE(a.b<a.d.Rb());return a.d.Qc(a.c=a.b++)}
function Xy(a){KE(a.c!=-1);a.d.Sc(a.c);a.b=a.c;a.c=-1}
function qy(a,b){return b==null?!!lB(a.d,null):CB(a.e,b)}
function EC(a,b){return Jd(a)===Jd(b)||a!=null&&Gb(a,b)}
function lB(a,b){return jB(a,b,kB(a,b==null?0:a.b.Jc(b)))}
function dy(a){return String.fromCharCode.apply(null,a)}
function bp(a){Mo.call(this,4,7,0.166,6,'Fragment',102,a)}
function Iv(){iv.call(this,'BLACK_HOLE_STUN',19,0,0,true)}
function Uj(){Sj();return Oc(Gc(Zd,1),lF,72,0,[Rj,Pj,Qj])}
function YD(){WD();return Oc(Gc(ki,1),lF,53,0,[TD,UD,VD])}
function py(a,b){return b==null?dj(lB(a.d,null)):DB(a.e,b)}
function ym(a,b){if(!a.r){return}if(!a.n){return}Pk(a,b)}
function iD(a){if(!a.d){a.d=new Yy(a.b);a.c=a.b.a.length}}
function rx(a,b){var c;c=px(a);Cx(a,c);c.e=b?8:0;return c}
function Ob(a,b){var c;c=lx(a.cd);return b==null?c:c+': '+b}
function $i(a,b){return b===a?'(this Map)':b==null?fF:Si(b)}
function zi(a,b){return Ai(cd(Ci(a)?Di(a):a,Ci(b)?Di(b):b))}
function IE(a,b){if(a<0||a>b){throw yi(new Vw(EG+a+FG+b))}}
function GE(a,b){if(a<0||a>=b){throw yi(new Vw(EG+a+FG+b))}}
function NE(a,b){if(a<0||a>=b){throw yi(new ky(EG+a+FG+b))}}
function ME(a,b){if(a>b||a<0){throw yi(new ky(CG+a+DG+b))}}
function zd(a,b){OE(a==null||a&&b&&a instanceof b);return a}
function yd(a){OE(a==null||Id(a)&&!(a.ed===Ti));return a}
function wx(a){if(a.Gc()){return null}var b=a.j;return Mi[b]}
function sy(a,b,c){return b==null?mB(a.d,null,c):EB(a.e,b,c)}
function kw(){iw();return Oc(Gc(Ag,1),lF,44,0,[ew,fw,hw,gw])}
function KD(){GD();return Oc(Gc(ii,1),lF,52,0,[CD,DD,ED,FD])}
function Kd(a){return Math.max(Math.min(a,bF),-2147483648)|0}
function mc(a){gc();$wnd.setTimeout(function(){throw a},0)}
function xc(){xc=Pi;var a,b;b=!Ac();a=new Ec;wc=b?new Bc:a}
function aC(a){var b;b=a.c.b.b;a.b=b;a.a=a.c.b;b.a=a.c.b.b=a}
function WA(a){var b,c;c=a;b=c.$modCount|0;c.$modCount=b+1}
function ux(a,b){var c=a.a=a.a||[];return c[b]||(c[b]=a.Cc(b))}
function dz(a,b){JE(b,a.a.length);this.c=a;this.a=0;this.b=b}
function xw(a){Kj.call(this,'GRANITE',0);this.b=9610;this.a=a}
function Rn(a){fn.call(this,'IRON_SPIKE',5,94,'Iron Spike',a)}
function Uo(a){Mo.call(this,1,4,0.25,4,'Carrion Beetle',99,a)}
function Gv(){iv.call(this,'PIT_OF_MALICE_STUN',1,0,0,true)}
function Dj(a,b){oj(a,b)?tj(a,b,Ux(Fj(a,b).a+1)):tj(a,b,Ux(1))}
function Ej(a,b,c){oj(a,b)?tj(a,b,Ux(Fj(a,b).a+c)):tj(a,b,Ux(c))}
function Gj(a,b){!!oj(a,b)&&Fj(a,b).a>0&&tj(a,b,Ux(Fj(a,b).a-1))}
function Ok(a,b,c,d,e){a.a=e;zw(a);a.b.fillText(b,c*11,(d+1)*15)}
function SD(a,b,c,d){HE(a);HE(b);HE(c);HE(d);return new ZD}
function tw(a,b,c){if(a<b){return b}if(a>c){return c}return a}
function Ei(a){var b;if(Ci(a)){b=a;return b==-0.?0:b}return kd(a)}
function kB(a,b){var c;c=a.a.get(b);return c==null?new Array:c}
function xj(a,b){var c;c=1-b;a.a[c]=yj(a.a[c],c);return yj(a,b)}
function fo(a,b){var c;c=1+((a.U+b)/20|0);c>a.cb&&a.fc(c);a.U+=b}
function az(a,b){this.a=a;Yy.call(this,a);IE(b,a.Rb());this.b=b}
function qB(a){this.e=a;this.b=this.e.a.entries();this.a=new Array}
function pA(a){FE(a.a<a.c.a.length);a.b=a.a++;return a.c.a[a.b]}
function wC(a){FE(a.b!=a.d.c);a.c=a.b;a.b=a.b.a;++a.a;return a.c.c}
function Ri(a){function b(){}
;b.prototype=a||{};return new b}
function Qb(b){if(!('stack' in b)){try{throw b}catch(a){}}return b}
function Dy(a,b){if(Dd(b,19)){return Yi(a.a,wd(b,19))}return false}
function eC(a,b){if(Dd(b,19)){return Yi(a.a,wd(b,19))}return false}
function Or(a){if(a.j.b){return new vs(a.j.b.c,a.j.b.d)}return null}
function Pr(a){if(a.j.c){return new vs(a.j.c.c,a.j.c.d)}return null}
function Qr(a){if(a.j.d){return new vs(a.j.d.c,a.j.d.d)}return null}
function Sr(a){if(a.j.e){return new vs(a.j.e.c,a.j.e.d)}return null}
function Yl(a){a*=10;a=Ei(Bi($wnd.Math.round(a)));a/=10;return a+''}
function xm(a,b,c){return Kd($wnd.Math.floor(b+(c-b+1)*YC(a.p)))}
function kc(a,b,c){var d;d=ic();try{return hc(a,b,c)}finally{lc(d)}}
function Fj(a,b){if(!oj(a,b)){return Ux(0)}return wd(dj(oj(a,b)),37)}
function UA(a,b){if(b.$modCount!=a.$modCount){throw yi(new XA)}}
function Vl(){Vl=Pi;Ul=new Wl('RANGED',0);Tl=new Wl('MELEE',1)}
function GD(){GD=Pi;CD=new HD('All',0);DD=new LD;ED=new ND;FD=new QD}
function gn(){en();return Oc(Gc(ue,1),lF,32,0,[$m,an,cn,dn,bn,_m])}
function qk(a){a.k=new KC;a.o=Ic(_d,[wF,xF],[273,21],0,[100,50],2)}
function Av(){iv.call(this,'BATTERY_ASSAULT_INTERRUPT',16,0,0,true)}
function iv(a,b,c,d,e){Kj.call(this,a,b);this.b=c;this.a=d;this.c=e}
function fn(a,b,c,d,e){Kj.call(this,a,b);this.c=c;this.b=d;this.a=e}
function ok(a,b,c,d){ek();jk(this,a);ik(this,b);hk(this,c);gk(this,d)}
function nk(a,b,c){ek();jk(this,a);ik(this,b);hk(this,c);gk(this,255)}
function pD(a,b){this.b=AF;this.d=a;this.e=b;this.c=this.d+(''+this.e)}
function IB(a){this.d=a;this.b=this.d.a.entries();this.a=this.b.next()}
function pC(a,b,c,d){var e;e=new CC;e.c=b;e.b=c;e.a=d;d.b=c.a=e;++a.b}
function Yz(a,b){var c;c=(GE(b,a.a.length),a.a[b]);yE(a.a,b);return c}
function oD(a,b){!a.a?(a.a=new jy(a.d)):hy(a.a,a.b);gy(a.a,b);return a}
function ty(a,b){return Hd(b)?b==null?nB(a.d,null):FB(a.e,b):nB(a.d,b)}
function hj(a,b){var c,d;c=b.Uc();d=a.Tb(c);return !!d&&EC(d.e,b.Vc())}
function _x(a,b){var c,d;c=(HE(a),a);d=(HE(b),b);return c==d?0:c<d?-1:1}
function Rc(a){var b,c,d;b=a&gF;c=a>>22&gF;d=a<0?hF:0;return Tc(b,c,d)}
function uj(a,b){var c;c=new AD;c.c=true;c.d=b.Vc();return vj(a,b.Uc(),c)}
function fE(a,b){var c;bE(a);c=new pE;c.a=b;a.a.Zc(new sE(c));return c.a}
function _z(a,b,c){var d;d=(GE(b,a.a.length),a.a[b]);Nc(a.a,b,c);return d}
function LA(a,b){var c;for(c=a.a.length-1;c>=1;c--){MA(a,c,$C(b,c+1))}}
function Kp(a){var b,c,d,e;for(c=a.a,d=0,e=c.length;d<e;++d){b=c[d];Pp(b)}}
function lc(a){a&&sc((qc(),pc));--dc;if(a){if(fc!=-1){nc(fc);fc=-1}}}
function bD(a,b){aD(a,Fi(zi(Ai(hd(Ci(b)?Di(b):b,24)),zG)),Fi(zi(b,zG)))}
function zD(a,b){xz.call(this,a,b);this.a=Kc(di,yF,64,2,0,1);this.b=true}
function kE(a,b){hD.call(this,b.Yc(),b.Xc()&-16449);HE(a);this.a=a;this.c=b}
function pn(a){fn.call(this,'POTION_OF_HEALING',1,33,'Potion of Healing',a)}
function eA(){Sz(this);CE(true,'Initial capacity must not be negative')}
function cc(){if(Date.now){return Date.now()}return (new Date).getTime()}
function jc(b){gc();return function(){return kc(b,this,arguments);var a}}
function Hp(){Fp();return Oc(Gc(Me,1),lF,43,0,[xp,yp,Cp,Ap,Bp,Ep,zp,Dp])}
function by(a,b){b=ey(b);return a.replace(new RegExp('PriorityAction','g'),b)}
function Er(a,b,c){_n(a,b,c);Kk&&a.n&&Gw('d'+a.k.e+'s'+a.sb+': '+a.o+': '+b)}
function zA(a,b,c,d){var e;d=(OA(),!d?NA:d);e=a.slice(b,c);AA(e,a,b,c,-b,d)}
function Kc(a,b,c,d,e,f){var g;g=Lc(e,d);e!=10&&Oc(Gc(a,f),b,c,e,g);return g}
function Pc(a,b){Hc(b)!=10&&Oc(Ib(b),b.dd,b.__elementTypeId$,Hc(b),a);return a}
function TB(a,b){var c;c=wd(ty(a.c,b),60);if(c){bC(c);return c.e}return null}
function Xz(a,b,c){for(;c<a.a.length;++c){if(EC(b,a.a[c])){return c}}return -1}
function IC(a){var b;b=a.b.a.length==0?null:Wz(a.b,0);b!=null&&JC(a,0);return b}
function sc(a){var b,c;if(a.b){c=null;do{b=a.b;a.b=null;c=vc(b,c)}while(a.b);a.b=c}}
function rc(a){var b,c;if(a.a){c=null;do{b=a.a;a.a=null;c=vc(b,c)}while(a.a);a.a=c}}
function MB(a){if(a.a.d!=a.c){return DB(a.a,a.b.value[0])}return a.b.value[1]}
function kd(a){if(dd(a,(rd(),qd))<0){return -ad(fd(a))}return a.l+a.m*jF+a.h*kF}
function Cu(a,b){var c;c=wd(oy(a.a,b),37);if(!c){return false}Du(a,c.a);return true}
function Cx(a,b){var c;if(!a){return}b.j=a;var d=wx(b);if(!d){Mi[a]=[b];return}d.cd=b}
function rC(a,b){var c;c=b.c;b.a.b=b.b;b.b.a=b.a;b.a=b.b=null;b.c=null;--a.b;return c}
function px(a){var b;b=new nx;b.k='Class$'+(a?'S'+a:''+b.g);b.b=b.k;b.i=b.k;return b}
function Qi(a,b,c){var d=function(){return a.apply(d,arguments)};b.apply(d,c);return d}
function Ii(){Ji();var a=Hi;for(var b=0;b<arguments.length;b++){a.push(arguments[b])}}
function LE(a){if(!a){throw yi(new Kx('Unable to add element to queue'))}}
function DE(a,b){if(0>a){throw yi(new Ix(BG+a))}if(a>b){throw yi(new Ww(CG+a+DG+b))}}
function RB(a,b){HE(b);while(a.b<a.d.Rb()){rE(b,(FE(a.b<a.d.Rb()),a.d.Qc(a.c=a.b++)))}}
function JC(a,b){var c;c=Yz(a.b,a.b.a.length-1);if(b<a.b.a.length){_z(a.b,b,c);GC(a,b)}}
function xi(a){var b;if(Dd(a,17)){return a}b=a&&a[dF];if(!b){b=new Zb(a);yc(b)}return b}
function Sx(a){var b,c;if(a==0){return 32}else{c=0;for(b=1;(b&a)==0;b<<=1){++c}return c}}
function Ny(a,b){var c,d;for(c=0,d=a.Rb();c<d;++c){if(EC(b,a.Qc(c))){return c}}return -1}
function fm(a){var b;b=new Ks(a.o);while(true){Is(b);if(b.i==0){return false}Js(b);Am(a)}}
function yj(a,b){var c,d;c=1-b;d=a.a[c];a.a[c]=d.a[b];d.a[b]=a;a.b=true;d.b=false;return d}
function Li(a,b){typeof window===$E&&typeof window['$gwt']===$E&&(window['$gwt'][a]=b)}
function wn(a){fn.call(this,'SCROLL_OF_BLESSING',2,63,'Scroll of Blessing',a)}
function Kn(a){fn.call(this,'SCROLL_OF_BANISHMENT',4,63,'Scroll of Banishment',a)}
function Dn(a){fn.call(this,'SCROLL_OF_MAGIC_MAPPING',3,63,'Scroll of Magic Mapping',a)}
function rd(){rd=Pi;nd=Tc(gF,gF,524287);od=Tc(0,0,iF);pd=Rc(1);Rc(2);qd=Rc(0)}
function vp(){this.c=new dA;this.b=new cB;this.a=Ic(Ne,[wF,VF],[133,35],0,[100,50],2)}
function qp(a){a.c.a=Kc($g,yF,1,0,5,1);a.b.a.Hc();a.a=Ic(Ne,[wF,VF],[133,35],0,[100,50],2)}
function lk(a,b,c){jk(this,Kd(a*255));ik(this,Kd(b*255));hk(this,Kd(c*255));gk(this,255)}
function UB(){uy(this);this.b=new cC(this);this.c=new YA;this.b.b=this.b;this.b.a=this.b}
function JE(a,b){if(a>b){throw yi(new Vw(CG+a+', size: '+b))}if(0>a){throw yi(new Ix(BG+a))}}
function Au(a,b){if(ny(a.a,b)){return false}ry(a.a,b,Ux(a.b.a.length));Uz(a.b,b);return true}
function Bu(a,b){var c;if(a.b.a.length==0){return null}c=$C(b,a.b.a.length);return Du(a,c)}
function sp(a,b,c){var d;d=a.a[b][c];if(!d){return null}if(d.S||d.Z<=0){return null}return d}
function Ai(a){var b;b=a.h;if(b==0){return a.l+a.m*jF}if(b==hF){return a.l+a.m*jF-kF}return a}
function Zz(a,b){var c;c=Xz(a,b,0);if(c==-1){return false}GE(c,a.a.length);yE(a.a,c);return true}
function uD(a,b){var c;this.c=a;c=new dA;pj(a,c,b,a.b,null,false,null,false);this.a=new az(c,0)}
function Hc(a){return a.__elementTypeCategory$==null?10:a.__elementTypeCategory$}
function bm(a){var b,c,d;b=0;for(d=0;d<50;d++){for(c=0;c<100;c++){!a.u[c][d]&&++b}}return b}
function JA(a){var b,c,d;d=0;for(c=a.xc();c.Mc();){b=c.Nc();d=d+(b!=null?Kb(b):0);d=d|0}return d}
function bo(a){var b,c,d,e;for(c=ul(),d=0,e=c.length;d<e;++d){b=c[d];a.T[b.i]>0&&--a.T[b.i]}}
function Di(a){var b,c,d,e;e=a;d=0;if(e<0){e+=kF;d=hF}c=Kd(e/jF);b=Kd(e-c*jF);return Tc(b,c,d)}
function jd(a,b){var c,d,e;c=a.l-b.l;d=a.m-b.m+(c>>22);e=a.h-b.h+(d>>22);return Tc(c&gF,d&gF,e&hF)}
function Tk(a,b){var c,d;c=a.o;for(d=0;d<3;d++){Cw(b,c.eb[d]);Aw(b,c.db[d],11,(d+50+1+1)*15)}}
function _n(a,b,c){var d;for(d=1;d>=0;d--){a.eb[d+1]=a.eb[d];a.db[d+1]=a.db[d]}a.db[0]=b;a.eb[0]=c}
function FB(a,b){var c;c=a.a.get(b);if(c===undefined){++a.d}else{vB(a.a,b);--a.c;WA(a.b)}return c}
function ru(a,b){var c,d;HE(b);for(d=b.xc();d.Mc();){c=d.Nc();if(!a.wc(c)){return false}}return true}
function KA(a){var b,c,d;d=1;for(c=a.xc();c.Mc();){b=c.Nc();d=31*d+(b!=null?Kb(b):0);d=d|0}return d}
function fd(a){var b,c,d;b=~a.l+1&gF;c=~a.m+(b==0?1:0)&gF;d=~a.h+(b==0&&c==0?1:0)&hF;return Tc(b,c,d)}
function gx(a){var b;if(a<128){b=(ix(),hx)[a];!b&&(b=hx[a]=new bx(a));return b}return new bx(a)}
function Nr(a){var b,c;if(a.j.a){b=a.j.a.c;c=a.j.a.d;if(a.r[b][c]){return new vs(b,c)}}return null}
function Iy(a){if(a.a.Mc()){return true}if(a.a!=a.d){return false}a.a=new qB(a.e.d);return a.a.Mc()}
function Gx(a,b){if(a<b){return -1}if(a>b){return 1}if(a==b){return 0}return isNaN(a)?isNaN(b)?0:1:-1}
function zc(a){var b=/function(?:\s+([\w$]+))?\s*\(/;var c=b.exec(a);return c&&c[1]||'anonymous'}
function Ts(a){var b;this.g=a;Ml&&(this.c=(b=new Mp(Oc(Gc(Nd,1),PF,23,15,[10,40,40,1])),Kp(b),b))}
function Zc(a){var b,c,d;b=~a.l+1&gF;c=~a.m+(b==0?1:0)&gF;d=~a.h+(b==0&&c==0?1:0)&hF;a.l=b;a.m=c;a.h=d}
function $c(a){var b,c;c=Rx(a.h);if(c==32){b=Rx(a.m);return b==32?Rx(a.l)+32:b+20-10}else{return c-12}}
function tj(a,b,c){var d,e;d=new zD(b,c);e=new AD;a.b=rj(a,a.b,d,e);e.b||++a.c;a.b.b=false;return e.d}
function oj(a,b){var c,d,e;e=a.b;while(e){c=QA(b,e.d);if(c==0){return e}d=c<0?0:1;e=e.a[d]}return null}
function Oc(a,b,c,d,e){e.cd=a;e.dd=b;e.ed=Ti;e.__elementTypeId$=c;e.__elementTypeCategory$=d;return e}
function Gp(a,b,c,d,e,f,g){Kj.call(this,a,b);this.f=c;this.d=d;this.a=e;this.b=f;this.c=f;this.e=g}
function Mo(a,b,c,d,e,f,g){this.e=a;this.b=b;this.f=c;this.d=d;this.c=e;this.g=f;this.a=g;Uz(Jo,this)}
function sC(){this.a=new CC;this.c=new CC;this.a.a=this.c;this.c.b=this.a;this.a.b=this.c.a=null;this.b=0}
function Jy(a){this.e=a;this.d=new IB(this.e.e);this.a=this.d;this.b=Iy(this);this.$modCount=a.$modCount}
function Rp(a,b){this.b=a;this.c=b;this.d=Ic(Md,[wF,WF],[75,23],15,[b,a],2);this.a=Kc(Md,WF,23,b,15,1)}
function mk(a,b,c,d){ek();jk(this,Kd(a*255));ik(this,Kd(b*255));hk(this,Kd(c*255));gk(this,Kd(d*255))}
function cD(){XC();var a,b,c;c=WC+++Date.now();a=Kd($wnd.Math.floor(c*xG))&zG;b=Kd(c-a*yG);aD(this,a,b)}
function ZA(a){CE(a>=0,'Negative initial capacity');CE(true,'Non-positive load factor');uy(this)}
function Sj(){Sj=Pi;Rj=new Tj('STRENGTH',0);Pj=new Tj('AGILITY',1);Qj=new Tj('INTELLIGENCE',2)}
function WD(){WD=Pi;TD=new XD('CONCURRENT',0);UD=new XD('IDENTITY_FINISH',1);VD=new XD('UNORDERED',2)}
function Fw(a,b){var c,d;c=zd(b,$wnd.KeyboardEvent);a.d=new Zn(c.key,(d=c.code,c.key.length==1,d));tm(a.e.a)}
function ds(a,b){var c,d;if(b>a.s.a.Rb()){return}c=new fA(a.s);d=(GE(b,c.a.length),wd(c.a[b],13));es(a,d)}
function Wc(a,b,c,d,e){var f;f=hd(a,b);c&&Zc(f);if(e){a=Yc(a,b);d?(Qc=fd(a)):(Qc=Tc(a.l,a.m,a.h))}return f}
function jB(a,b,c){var d,e,f;for(e=0,f=c.length;e<f;++e){d=c[e];if(a.b.Ic(b,d.Uc())){return d}}return null}
function pu(a,b){var c,d,e,f;HE(b);c=false;for(e=b.xc();e.Mc();){d=e.Nc();c=c|(f=a.a.Kc(d,a),f==null)}return c}
function om(a){var b,c;while(true){b=Kd(YC(a.p)*100);c=Kd(YC(a.p)*50);if(!a.u[b][c]){return new vs(b,c)}}}
function Qs(a,b){var c;if(!b){return null}a.e=Rr(a.g,b.a,b.b);Yz(a.e,0);c=wd(Wz(a.e,0),21);return new vs(c.c,c.d)}
function oo(a){var b,c;for(c=new rA(a.X.b[a.Bb][a.Cb]);c.a<c.c.a.length;){b=wd(pA(c),40);b.c>0&&b.d.Ac(b.a,a)}}
function Ux(a){var b,c;if(a>-129&&a<128){b=a+128;c=(Wx(),Vx)[b];!c&&(c=Vx[b]=new Mx(a));return c}return new Mx(a)}
function Zr(a){var b,c,d;as(a);c=2500;a.n||(c=c/12|0);d=a.sb-a.nb;b=d<=1;b?(a.j=new zk(a.k,a.Bb,a.Cb,a,c)):wk(a.j)}
function Ak(a,b,c,d,e){qk(this);this.i=a;this.s=a.u;this.f=b;this.g=c;this.n=d;this.q=e;this.p=2500;sk(this)}
function zk(a,b,c,d,e){qk(this);this.i=a;this.s=a.u;this.f=b;this.g=c;this.n=d;this.q=false;this.p=e;sk(this)}
function nx(){this.g=jx++;this.k=null;this.i=null;this.f=null;this.d=null;this.b=null;this.j=null;this.a=null}
function Zb(a){Xb();Mb(this);this.e=a;a!=null&&PE(a,dF,this);this.f=a==null?fF:Si(a);this.a='';this.b=a;this.a=''}
function _w(a,b){Yw();return Hd(a)?_x(a,Ad(b)):Fd(a)?Fx(a,xd(b)):Ed(a)?Zw(a,(OE(b==null||Ed(b)),b)):a.Ub(b)}
function Ib(a){return Hd(a)?dh:Fd(a)?Qg:Ed(a)?Mg:Cd(a)?a.cd:Mc(a)?a.cd:a.cd||Array.isArray(a)&&Gc(Pd,1)||Pd}
function Dm(a,b,c,d){return Nx($wnd.Math.abs(c.a-a)+$wnd.Math.abs(c.b-b),$wnd.Math.abs(d.a-a)+$wnd.Math.abs(d.b-b))}
function Bi(a){if(-17592186044416<a&&a<kF){return a<0?$wnd.Math.ceil(a):$wnd.Math.floor(a)}return Ai(ed(a))}
function cE(a){if(a.b){cE(a.b)}else if(a.c){throw yi(new Kx("Stream already terminated, can't be modified or used"))}}
function iw(){iw=Pi;ew=new lw((ek(),ck));fw=new nw(ck);hw=new pw(new nk(210,105,30));gw=new rw(new nk(210,105,30))}
function en(){en=Pi;$m=new hn((ek(),dk));an=new pn(bk);cn=new wn(Zj);dn=new Dn(fk(Wj));bn=new Kn(fk(Xj));_m=new Rn(Zj)}
function fk(a){var b;b=new kk;jk(b,Kd(a.d*0.5+127.5));ik(b,Kd(a.c*0.5+127.5));hk(b,Kd(a.b*0.5+127.5));gk(b,a.a);return b}
function MA(a,b,c){var d;d=(GE(b,a.a.length),a.a[b]);_z(a,b,(GE(c,a.a.length),a.a[c]));GE(c,a.a.length);Nc(a.a,c,d)}
function fy(a,b){var c,d,e;ME(b,a.length);e='';for(d=0;d<b;){c=$wnd.Math.min(d+10000,b);e+=dy(a.slice(d,c));d=c}return e}
function qu(a,b){var c,d;for(d=a.xc();d.Mc();){c=d.Nc();if(Jd(b)===Jd(c)||b!=null&&Gb(b,c)){return true}}return false}
function rp(a){var b,c;for(c=new rA(a.c);c.a<c.c.a.length;){b=wd(pA(c),89);pp(a,b.a,b.b,b.c)}a.c.a=Kc($g,yF,1,0,5,1)}
function ul(){rl();return Oc(Gc(be,1),lF,24,0,[$k,jl,il,kl,dl,fl,pl,nl,gl,al,ll,Zk,ml,hl,ql,ol,bl,cl,el,_k])}
function jv(){hv();return Oc(Gc(ug,1),lF,13,0,[bv,cv,Uu,dv,Wu,$u,Nu,Xu,Ru,Tu,fv,_u,Yu,gv,ev,av,Ou,Vu,Pu,Qu,Zu,Su])}
function Aq(){wq();return Oc(Gc(pf,1),lF,9,0,[$p,hq,aq,gq,vq,Yp,kq,qq,oq,pq,cq,rq,eq,jq,Zp,fq,_p,mq,nq,bq,tq,iq,lq,uq,sq,dq])}
function yA(a,b,c,d,e,f,g,h){var i;i=c;while(f<g){i>=d||b<c&&h.Wb(a[b],a[i])<=0?Nc(e,f++,a[b++]):Nc(e,f++,a[i++])}}
function xA(a,b,c,d){var e,f,g;for(e=b+1;e<c;++e){for(f=e;f>b&&d.Wb(a[f-1],a[f])>0;--f){g=a[f];Nc(a,f,a[f-1]);Nc(a,f-1,g)}}}
function Pp(a){var b,c;for(c=0;c<a.c;c++){a.a[c]=-1+2*$wnd.Math.random();for(b=0;b<a.b;b++){a.d[c][b]=-1+2*$wnd.Math.random()}}}
function EB(a,b,c){var d;d=a.a.get(b);a.a.set(b,c===undefined?null:c);if(d===undefined){++a.c;WA(a.b)}else{++a.d}return d}
function Vz(a,b){var c,d;c=CA(b,Kc($g,yF,1,b.a.length,5,1));d=c.length;if(d==0){return false}xE(a.a,a.a.length,c);return true}
function Vc(a,b){if(a.h==iF&&a.m==0&&a.l==0){b&&(Qc=Tc(0,0,0));return Sc((rd(),pd))}b&&(Qc=Tc(a.l,a.m,a.h));return Tc(0,0,0)}
function Si(a){var b;if(Array.isArray(a)&&a.ed===Ti){return lx(Ib(a))+'@'+(b=Kb(a)>>>0,b.toString(16))}return a.toString()}
function gm(a){var b;while(true){if(bs(a.o)){if(a.o.Z>0){dm(a)}else{break}}else{km(a);im(a);b=fm(a);if(b){break}}}a.o.Z>0&&hm(a)}
function em(a){var b;while(true){if(bs(a.o)){if(a.o.Z>(a.o.kb/2|0)){dm(a)}else{break}}else{km(a);im(a);b=fm(a);if(b){break}}}}
function np(a,b,c){var d,e;while(true){d=Kd(YC(c.p)*100);e=Kd(YC(c.p)*50);if(!c.u[d][e]&&!sp(c.i,d,e)){aB(a.b,b);tp(a,b,d,e);return}}}
function Xr(a,b,c){a.n&&Bi(Date.now());mo(a,b,c);if(a.k.g[a.Bb][a.Cb]){Ym(a.k.g[a.Bb][a.Cb],a);Nc(a.k.g[a.Bb],a.Cb,null)}}
function vn(a,b){if(Fj(b.c,a).a<=0){return}Gj(b.c,a);$n(b,(rl(),$k),25);Er(b,'You feel a calm blessing wash over you.',(ek(),$j))}
function Bx(a,b){var c=0;while(!b[c]||b[c]==''){c++}var d=b[c++];for(;c<b.length;c++){if(!b[c]||b[c]==''){continue}d+=a+b[c]}return d}
function cA(a,b){var c,d;d=a.a.length;b.length<d&&(b=zE(new Array(d),b));for(c=0;c<d;++c){Nc(b,c,a.a[c])}b.length>d&&Nc(b,d,null);return b}
function CA(a,b){var c,d;d=a.a.length;b.length<d&&(b=zE(new Array(d),b));for(c=0;c<d;++c){Nc(b,c,a.a[c])}b.length>d&&Nc(b,d,null);return b}
function Zi(a,b){var c,d,e;for(d=a.Pb().xc();d.Mc();){c=wd(d.Nc(),19);e=c.Uc();if(Jd(b)===Jd(e)||b!=null&&Gb(b,e)){return c}}return null}
function ic(){var a;if(dc!=0){a=cc();if(a-ec>2000){ec=a;fc=$wnd.setTimeout(oc,10)}}if(dc++==0){rc((qc(),pc));return true}return false}
function Ac(){if(Error.stackTraceLimit>0){$wnd.Error.stackTraceLimit=Error.stackTraceLimit=64;return true}return 'stack' in new Error}
function km(a){var b;b=0;do{++b;Xr(a.o,0,0);Am(a)}while((a.o.Z<a.o.kb||a.o.hb<a.o.lb)&&!bs(a.o));Er(a.o,'Rested '+b+' turns.',(ek(),$j))}
function Gr(a,b){var c,d;c=Fj(a.c,b.b).a;d=$wnd.Math.min(b.b.Xb()-c,b.a);if(d>0){Ej(a.c,b.b,d);Er(a,'Picked up '+d+' '+b.b.b+'(s).',b.b.a)}}
function qC(a,b){var c,d;IE(b,a.b);if(b>=a.b>>1){d=a.c;for(c=a.b;c>b;--c){d=d.b}}else{d=a.a.a;for(c=0;c<b;++c){d=d.a}}return new xC(a,b,d)}
function XE(a){VE();var b,c,d;c=':'+a;d=UE[c];if(d!=null){return Kd((HE(d),d))}d=SE[c];b=d==null?WE(a):Kd((HE(d),d));YE();UE[c]=b;return b}
function Kb(a){return Hd(a)?XE(a):Fd(a)?Kd((HE(a),a)):Ed(a)?(HE(a),a)?1231:1237:Cd(a)?a.Fb():Mc(a)?RE(a):!!a&&!!a.hashCode?a.hashCode():RE(a)}
function Gb(a,b){return Hd(a)?ay(a,b):Fd(a)?(HE(a),a===b):Ed(a)?(HE(a),a===b):Cd(a)?a.Db(b):Mc(a)?a===b:!!a&&!!a.equals?a.equals(b):Jd(a)===Jd(b)}
function go(a,b){a.cb=b;if(b<=4){++a.rb}else{a.O+=2;a.G+=2;a.K+=2}a.bc('Gained a new level! Welcome to level '+a.cb+'.',new ok(255,255,0,255))}
function No(a){Ko();var b,c,d;d=new dA;for(c=new rA(Jo);c.a<c.c.a.length;){b=wd(pA(c),26);a>=b.e&&a<=b.b&&(Nc(d.a,d.a.length,b),true)}return d}
function AE(a){switch(typeof(a)){case 'string':return XE(a);case _E:return Kd(a);case 'boolean':return Yw(),a?1231:1237;default:return RE(a);}}
function $C(a,b){var c,d;BE(b>0);if((b&-b)==b){return Kd(b*_C(a,31)*4.6566128730773926E-10)}do{c=_C(a,31);d=c%b}while(c-d+(b-1)<0);return Kd(d)}
function Zl(a){var b,c,d,e;b=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);for(d=0;d<100;d++){for(e=0;e<50;e++){c=a[d][e];b[d][e]=!c?9:c.a/10|0}}return b}
function vd(a,b){if(Hd(a)){return !!ud[b]}else if(a.dd){return !!a.dd[b]}else if(Fd(a)){return !!td[b]}else if(Ed(a)){return !!sd[b]}return false}
function Yk(a,b){var c,d;for(d=0;d<50;d++){for(c=0;c<100;c++){if(!sp(a.i,c,d)){continue}Cw(b,new ok(64,255,64,64));b.b.fillRect(c*11,d*15,11,15)}}}
function pj(a,b,c,d,e,f,g,h){var i,j;if(!d){return}i=d.a[0];!!i&&pj(a,b,c,i,e,f,g,h);qj(a,c,d.d,e,f,g,h)&&b.vc(d);j=d.a[1];!!j&&pj(a,b,c,j,e,f,g,h)}
function Ju(a){var b,c;for(b=a.d;b<a.d+a.f;b++){for(c=a.e;c<a.e+a.c;c++){if(a.a){if((b+c+a.d+a.e+1)%2==0){continue}}Nc(a.b.u[b],c,null)}}return a.a}
function qj(a,b,c,d,e,f,g){var h,i;if(b._c()&&(i=QA(c,d),i<0||!e&&i==0)){return false}if(b.ad()&&(h=QA(c,f),h>0||!g&&h==0)){return false}return true}
function Yi(a,b){var c,d,e;c=b.Uc();e=b.Vc();d=a.Qb(c);if(!(Jd(e)===Jd(d)||e!=null&&Gb(e,d))){return false}if(d==null&&!a.Ob(c)){return false}return true}
function bd(a,b){var c,d,e;e=a.h-b.h;if(e<0){return false}c=a.l-b.l;d=a.m-b.m+(c>>22);e+=d>>22;if(e<0){return false}a.l=c&gF;a.m=d&gF;a.h=e&hF;return true}
function _r(a){var b,c;np(a.X.i,a,a.X);for(c=0;c<50;c++){for(b=0;b<100;b++){a.q[b][c]=false;a.t[b][c]=false}}as(a);a.j=new yk(a.k,a.Bb,a.Cb,a);a.v=0}
function Yc(a,b){var c,d,e;if(b<=22){c=a.l&(1<<b)-1;d=e=0}else if(b<=44){c=a.l;d=a.m&(1<<b-22)-1;e=0}else{c=a.l;d=a.m;e=a.h&(1<<b-44)-1}return Tc(c,d,e)}
function Ko(){Ko=Pi;Jo=new dA;new Oo(new nk(180,140,100));new Ro((ek(),Yj));new Uo(bk);new Xo(Xj);new $o(ak);new bp(_j);new ep($j);new hp($j);new kp(bk)}
function Js(a){var b,c,d;if(!a.b||a.b.a.length==0){Xr(a.g,xm(a.g.k,-1,1),xm(a.g.k,-1,1));return}d=wd(Yz(a.b,0),21);b=d.c-a.g.Bb;c=d.d-a.g.Cb;Xr(a.g,b,c)}
function zw(a){var b,c,d,e;e=a.a.d;d=a.a.c;c=a.a.b;b=a.a.a;b==255?(a.b.fillStyle='rgb('+e+AF+d+AF+c+')'):(a.b.fillStyle='rgb('+e+AF+d+AF+c+AF+b/255+')')}
function Lc(a,b){var c=new Array(b);var d;switch(a){case 14:case 15:d=0;break;case 16:d=false;break;default:return c;}for(var e=0;e<b;++e){c[e]=d}return c}
function Mp(a){var b;new YA;this.b=a;if(a.length==0){return}this.a=Kc(Oe,yF,94,a.length-1,0,1);for(b=0;b<this.a.length;b++){this.a[b]=new Rp(a[b],a[b+1])}}
function Op(a,b){var c,d,e,f,g,h;oC(b,a.b);oC(b,a.c);for(d=a.a,e=0,f=d.length;e<f;++e){c=d[e];oC(b,c)}for(h=0;h<a.c;h++){for(g=0;g<a.b;g++){oC(b,a.d[h][g])}}}
function Du(a,b){var c,d;if(b>=a.b.a.length){return null}d=Wz(a.b,b);ty(a.a,d);c=Yz(a.b,a.b.a.length-1);if(b<a.b.a.length){ry(a.a,c,Ux(b));_z(a.b,b,c)}return d}
function um(a,b,c,d,e){var f,g,h,i;for(f=-d;f<=d;f++){for(g=-d;g<=d;g++){h=b+f;i=c+g;if(h<0||i<0||h>=100||i>=50){continue}Uz(a.b[h][i],new Xi(e.a,e.d,e.c,e.b))}}}
function dd(a,b){var c,d,e,f,g,h,i,j;i=a.h>>19;j=b.h>>19;if(i!=j){return j-i}e=a.h;h=b.h;if(e!=h){return e-h}d=a.m;g=b.m;if(d!=g){return d-g}c=a.l;f=b.l;return c-f}
function Ki(b,c,d,e){Ji();var f=Hi;$moduleName=c;$moduleBase=d;wi=e;function g(){for(var a=0;a<f.length;a++){f[a]()}}
if(b){try{ZE(g)()}catch(a){b(c,a)}}else{ZE(g)()}}
function Qp(a,b,c){var d,e,f,g,h;g=Kc(Md,WF,23,a.c,15,1);for(f=0;f<a.c;f++){h=a.d[f];e=a.a[f];for(d=0;d<a.b;d++){e+=b[d]*h[d]}c&&(e=$wnd.Math.max(e,0));g[f]=e}return g}
function Yn(){Yn=Pi;Xn=new YA;sy(Xn,'ArrowLeft','Left');sy(Xn,'ArrowRight','Right');sy(Xn,'ControlLeft','Ctrl');sy(Xn,'ControlRight','Ctrl');sy(Xn,'NumpadEnter','Enter')}
function ey(a){var b;b=0;while(0<=(b=a.indexOf('\\',b))){NE(b+1,a.length);a.charCodeAt(b+1)==36?(a=a.substr(0,b)+'$'+cy(a,++b)):(a=a.substr(0,b)+(''+cy(a,++b)))}return a}
function Jc(a,b,c,d,e,f,g){var h,i,j,k,l;k=e[f];j=f==g-1;h=j?d:0;l=Lc(h,k);d!=10&&Oc(Gc(a,g-f),b[f],c[f],h,l);if(!j){++f;for(i=0;i<k;++i){l[i]=Jc(a,b,c,d,e,f,g)}}return l}
function zB(){function b(){try{return (new Map).entries().next().done}catch(a){return false}}
if(typeof Map===aF&&Map.prototype.entries&&b()){return Map}else{return AB()}}
function XC(){XC=Pi;var a,b,c,d;UC=Kc(Md,WF,23,25,15,1);VC=Kc(Md,WF,23,33,15,1);d=1.52587890625E-5;for(b=32;b>=0;b--){VC[b]=d;d*=0.5}c=1;for(a=24;a>=0;a--){UC[a]=c;c*=0.5}}
function wk(a){var b,c,d;a.k.b.a=Kc($g,yF,1,0,5,1);a.r=0;a.a=null;a.b=null;a.c=null;a.d=null;a.e=null;for(c=0;c<100;c++){for(d=0;d<50;d++){b=a.o[c][d];!!b&&vk(a,c,d,b.a,b)}}}
function su(a){var b,c,d;d=new pD('[',']');for(c=a.xc();c.Mc();){b=c.Nc();oD(d,b===a?'(this Collection)':b==null?fF:Si(b))}return !d.a?d.c:d.e.length==0?d.a.a:d.a.a+(''+d.e)}
function HC(a,b){var c,d;HE(b);d=a.b.a.length;Uz(a.b,b);while(d>0){c=d;d=(d-1)/2|0;if(QA(Wz(a.b,d),b)<=0){_z(a.b,c,b);return true}_z(a.b,c,Wz(a.b,d))}_z(a.b,d,b);return true}
function on(a,b){var c,d,e;if(Fj(b.c,a).a<=0){return}Gj(b.c,a);c=xm(b.k,140,160);d=b.Z+c;b.Z=d;e=$wnd.Math.min(b.Z,b.kb);b.Z=e;Er(b,'Drank healing potion for '+c+SF,(ek(),bk))}
function Yb(a){var b;if(a.c==null){b=Jd(a.b)===Jd(Wb)?null:a.b;a.d=b==null?fF:Gd(b)?_b(yd(b)):Hd(b)?'String':lx(Ib(b));a.a=a.a+': '+(Gd(b)?$b(yd(b)):b+'');a.c='('+a.d+') '+a.a}}
function wj(a,b,c,d){var e,f;f=b;e=f.d==null||QA(c.d,f.d)>0?1:0;while(f.a[e]!=c){f=f.a[e];e=QA(c.d,f.d)>0?1:0}f.a[e]=d;d.b=c.b;d.a[0]=c.a[0];d.a[1]=c.a[1];c.a[0]=null;c.a[1]=null}
function op(a,b,c,d){var e;e=a.a[b.Bb][b.Cb];if(!!e&&!e.S){throw yi(new Vb('should never try to spawn a monster ('+b.o+') on top of another monster - '+e.ic()))}Uz(a.c,new wp(b,c,d))}
function Lp(a,b){var c;if(b.length!=a.a[0].b){throw yi(new Vb('Expected '+a.a[0].b+' values but received '+b.length))}for(c=0;c<a.a.length;c++){b=Qp(a.a[c],b,c<a.a.length-1)}return b}
function Qn(a){var b,c;b=Nr(a);if(!jo(a,b.a,b.b)){throw yi(new Vb("can't throw at something that is out of line of sight"))}$r(a,_m);c=sp(a.k.i,b.a,b.b);eo(a,c,'thrown iron spike',0.5)}
function Cn(a,b){var c,d;if(Fj(b.c,a).a<=0){return}Gj(b.c,a);Er(b,'The dungeon crystalizes in your mind.',(ek(),$j));for(c=0;c<100;c++){for(d=0;d<50;d++){b.q[c][d]=true;b.r[c][d]=true}}}
function qm(a,b,c,d){var e,f,g,h,i,j;h=new dA;for(e=-d;e<=d;e++){for(f=-d;f<=d;f++){i=b+e;j=c+f;if(i<0||j<0||i>=100||j>=50){continue}g=sp(a.i,i,j);!!g&&(Nc(h.a,h.a.length,g),true)}}return h}
function Ni(){Mi={};!Array.isArray&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==='[object Array]'});function b(){return (new Date).getTime()}
!Date.now&&(Date.now=b)}
function eo(a,b,c,d){var e,f,g;f=a.mc();io(a,(rl(),cl))&&(f+=24);e=b.lc(Kd(f*d),a,c,0,true);if(io(a,gl)){g=e*0.75;a.bc('You leach '+Kd(g)+' health!',(ek(),bk));a.Z=$wnd.Math.min(a.Z+g,a.kb)}}
function gd(a,b){var c,d,e;b&=63;if(b<22){c=a.l<<b;d=a.m<<b|a.l>>22-b;e=a.h<<b|a.m>>22-b}else if(b<44){c=0;d=a.l<<b-22;e=a.m<<b-22|a.l>>44-b}else{c=0;d=0;e=a.l<<b-44}return Tc(c&gF,d&gF,e&hF)}
function jm(a,b){var c;while(b-->0){up(a.i);c=Lr(a.o,a);Am(a);if(!c||c.i<=0||a.o.Z<=0){break}if(a.i.b.a.Rb()==1&&a.o.Bb==a.s.a&&a.o.Cb==a.s.b){break}if(!!Nr(a.o)&&a.o.Z<=(a.o.kb/2|0)){break}}}
function zm(a){var b,c,d,e,f;d=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);for(e=1;e<99;e++){for(f=1;f<49;f++){for(b=-1;b<2;b++){for(c=-1;c<2;c++){d[e][f]+=a[e+b][f+c]}}d[e][f]=d[e][f]/9|0}}return d}
function up(a){var b,c,d,e;c=(e=(new iz(a.b.a)).a.Pb().xc(),new mz(e));while(c.a.Mc()){d=(b=wd(c.a.Nc(),19),wd(b.Uc(),35));if(d.S||d.Z<=0){c.a.Oc();a.a[d.Bb][d.Cb]==d&&Nc(a.a[d.Bb],d.Cb,null)}}}
function bs(a){var b,c,d,e;for(d=(e=(new iz(a.k.i.b.a)).a.Pb().xc(),new mz(e));d.a.Mc();){c=(b=wd(d.a.Nc(),19),wd(b.Uc(),35));if(c==a||a.wb==c.wb){continue}if(a.r[c.Bb][c.Cb]){return true}}return false}
function Is(a){if(bs(a.g)){a.i=0;return}a.a=Or(a.g);if(!a.a){a.i=0;return}if(a.a.a==a.g.Bb&&a.a.b==a.g.Cb){a.i=0;return}a.b=Rr(a.g,a.a.a,a.a.b);Yz(a.b,0);if(a.b.a.length==0){a.i=0;return}a.i=mF}
function cs(a,b){var c,d,e,f;e=new fA(new Fz(a.c));f=0;for(c=0;c<e.a.length;c++){if(Fj(a.c,(GE(c,e.a.length),e.a[c])).a>0){if(f==b){d=(GE(c,e.a.length),wd(e.a[c],32));d.$b(a)}++f}else{continue}}}
function vc(b,c){var d,e,f,g;for(e=0,f=b.length;e<f;e++){g=b[e];try{g[1]?g[0].fd()&&(c=uc(c,g)):g[0].fd()}catch(a){a=xi(a);if(Dd(a,17)){d=a;gc();mc(Dd(d,67)?wd(d,67).Kb():d)}else throw yi(a)}}return c}
function GC(a,b){var c,d,e,f,g,h;c=a.b.a.length;e=Wz(a.b,b);while(b*2+1<c){d=(f=2*b+1,g=f+1,h=f,g<c&&QA(Wz(a.b,g),Wz(a.b,f))<0&&(h=g),h);if(QA(e,Wz(a.b,d))<0){break}_z(a.b,b,Wz(a.b,d));b=d}_z(a.b,b,e)}
function Ui(){var a,b,c,d;a=zd((Wi(),Vi).getElementById('game-canvas'),$wnd.HTMLCanvasElement);Hk=true;Ml=false;Ik=0;Kk=true;Gk=false;Nk=true;b=Kd($wnd.Math.random()*10000);c=new Lw(a);d=new Bm(b,c);Jw(d.n)}
function $n(a,b,c){var d;d=' for '+c+' seconds';c>100000&&(d='');b.a?a.bc('You gain '+(b.g!=null?b.g:''+b.i)+d+'.',(ek(),$j)):a.bc('You are afflicted with '+(b.g!=null?b.g:''+b.i)+d+'.',(ek(),bk));a.T[b.i]=c}
function AA(a,b,c,d,e,f){var g,h,i,j;g=d-c;if(g<7){xA(b,c,d,f);return}i=c+e;h=d+e;j=i+(h-i>>1);AA(b,a,i,j,-e,f);AA(b,a,j,h,-e,f);if(f.Wb(a[j-1],a[j])<=0){while(c<d){Nc(b,c++,a[i++])}return}yA(a,i,j,h,b,c,d,f)}
function tp(a,b,c,d){var e;Nc(a.a[b.Bb],b.Cb,null);b.nb=b.sb;b.Bb=c;b.Cb=d;e=a.a[b.Bb][b.Cb];if(!!e&&!e.S){throw yi(new Vb('should never try to spawn a monster on top of another monster'))}Nc(a.a[b.Bb],b.Cb,b)}
function vE(a,b,c,d,e){var f,g,h,i,j;if(Jd(a)===Jd(c)){a=a.slice(b,b+e);b=0}h=c;for(g=b,i=b+e;g<i;){f=$wnd.Math.min(g+10000,i);e=f-g;j=a.slice(g,f);j.splice(0,0,d,0);Array.prototype.splice.apply(h,j);g=f;d+=e}}
function mB(a,b,c){var d,e,f,g;g=b==null?0:a.b.Jc(b);e=(d=a.a.get(g),d==null?new Array:d);if(e.length==0){a.a.set(g,e)}else{f=jB(a,b,e);if(f){return f.Wc(c)}}Nc(e,e.length,new xz(b,c));++a.c;WA(a.b);return null}
function Cm(a,b,c){var d,e,f,g,h,i;d=Kc(Ld,QF,23,9,15,1);g=0;for(e=-1;e<2;e++){for(f=-1;f<2;f++){h=b+e;i=c+f;if(h<0||i<0||h>=100||i>=50){d[g++]=79;continue}a.u[h][i]?(d[g++]=35):(d[g++]=32)}}return fy(d,d.length)}
function Lr(a,b){var c,d;if(a.S){return null}a.d=null;for(d=new rA(a.a);d.a<d.c.a.length;){c=wd(pA(d),12);c.tc();vl!=0&&As(c,c.i+YC(b.p)*vl)}aA(a.a,null);a.d=wd(Wz(a.a,0),12);if(a.d.i>0){a.d.uc();return a.d}return null}
function ZC(a){var b,c,d,e;if(a.a){a.a=false;return a.b}do{d=2*(_C(a,26)*uG+_C(a,27)*vG)-1;e=2*(_C(a,26)*uG+_C(a,27)*vG)-1;c=d*d+e*e}while(c>=1);b=c==0?0:$wnd.Math.sqrt(-2*$wnd.Math.log(c)/c);a.b=e*b;a.a=true;return d*b}
function sm(a,b,c,d){var e,f,g;e=new dA;for(f=b-d;f<=b+d;f++){for(g=c-d;g<=c+d;g++){if(f<0||g<0||f>=100||g>=50){continue}!a.u[f][g]&&!sp(a.i,f,g)&&Uz(e,new vs(f,g))}}if(e.a.length==0){return null}aA(e,new Vm(b,c));return e}
function rm(a,b,c){var d,e,f;d=new dA;for(e=b-1;e<=b+1;e++){for(f=c-1;f<=c+1;f++){if(e<0||f<0||e>=100||f>=50){continue}!a.u[e][f]&&!sp(a.i,e,f)&&Uz(d,new vs(e,f))}}if(d.a.length==0){return null}return wd(Wz(d,xm(a,0,d.a.length-1)),18)}
function dm(a){var b,c,d,e,f;while(true){b=Nr(a.o);if(!b){break}f=Rr(a.o,b.a,b.b);GE(0,f.a.length);f.a.splice(0,1);if(f.a.length==0){break}e=wd(Yz(f,0),21);c=e.c-a.o.Bb;d=e.d-a.o.Cb;Xr(a.o,c,d);Am(a);if(a.o.Z<(a.o.kb/2|0)){break}}}
function im(a){var b,c,d,e,f;while(true){d=Qr(a.o);if(!d){break}f=Rr(a.o,d.a,d.b);Yz(f,0);if(f.a.length==0){break}while(true){if(f.a.length==0){break}if(bs(a.o)){break}e=wd(Yz(f,0),21);b=e.c-a.o.Bb;c=e.d-a.o.Cb;Xr(a.o,b,c);Am(a)}if(bs(a.o)){break}}}
function hm(a){var b,c,d,e,f;f=a.o.k.s;if(!f){return}e=Rr(a.o,f.a,f.b);GE(0,e.a.length);e.a.splice(0,1);if(e.a.length==0){return}while(true){if(e.a.length==0){break}if(bs(a.o)){break}d=wd(Yz(e,0),21);b=d.c-a.o.Bb;c=d.d-a.o.Cb;Xr(a.o,b,c);Am(a)}if(bs(a.o)){return}}
function Rx(a){var b,c,d;if(a<0){return 0}else if(a==0){return 32}else{d=-(a>>16);b=d>>16&16;c=16-b;a=a>>b;d=a-256;b=d>>16&8;c+=b;a<<=b;d=a-4096;b=d>>16&4;c+=b;a<<=b;d=a-16384;b=d>>16&2;c+=b;a<<=b;d=a>>14;b=d&~(d>>1);return c+2-b}}
function hd(a,b){var c,d,e,f,g;b&=63;c=a.h;d=(c&iF)!=0;d&&(c|=-1048576);if(b<22){g=c>>b;f=a.m>>b|c<<22-b;e=a.l>>b|a.m<<22-b}else if(b<44){g=d?hF:0;f=c>>b-22;e=a.m>>b-22|c<<44-b}else{g=d?hF:0;f=d?gF:0;e=c>>b-44}return Tc(e&gF,f&gF,g&hF)}
function Oi(a,b,c){var d=Mi,h;var e=d[a];var f=e instanceof Array?e[0]:null;if(e&&!f){_=e}else{_=(h=b&&b.prototype,!h&&(h=Mi[b]),Ri(h));_.dd=c;!b&&(_.ed=Ti);d[a]=_}for(var g=3;g<arguments.length;++g){arguments[g].prototype=_}f&&(_.cd=f)}
function nB(a,b){var c,d,e,f,g;f=b==null?0:a.b.Jc(b);d=(c=a.a.get(f),c==null?new Array:c);for(g=0;g<d.length;g++){e=d[g];if(a.b.Ic(b,e.Uc())){if(d.length==1){d.length=0;uB(a.a,f)}else{d.splice(g,1)}--a.c;WA(a.b);return e.Vc()}}return null}
function hv(){hv=Pi;bv=new kv;cv=new Gv;Uu=new Ov;dv=new Qv;Wu=new Sv;$u=new Uv;Nu=new Wv;Xu=new Yv;Ru=new $v;Tu=new mv;fv=new ov;_u=new qv;Yu=new sv;gv=new uv;ev=new wv;av=new yv;Ou=new Av;Vu=new Cv;Pu=new Ev;Qu=new Iv;Zu=new Kv;Su=new Mv}
function yx(a){if(a.Fc()){var b=a.c;b.Gc()?(a.k='['+b.j):!b.Fc()?(a.k='[L'+b.ic()+';'):(a.k='['+b.ic());a.b=b.Dc()+'[]';a.i=b.Ec()+'[]';return}var c=a.f;var d=a.d;d=d.split('/');a.k=Bx('.',[c,Bx('$',d)]);a.b=Bx('.',[c,Bx('.',d)]);a.i=d[d.length-1]}
function Sk(a,b,c){var d,e,f,g;d=a.o;Cw(b,(ek(),ck));Aw(b,'LEARN PERK ('+d.rb+'):',zF,(++c+1)*15);Cw(b,new nk(128,128,255));g=0;for(f=ho(d).xc();f.Mc();){e=wd(f.Nc(),9);Aw(b,'l'+Bd(97+g++&65535)+'). '+(e.g!=null?e.g:''+e.i),zF,(++c+1)*15)}return c}
function _C(a,b){var c,d,e,f,g,h;f=a.c*wG+a.d*1502;h=a.d*wG+11;c=$wnd.Math.floor(h*xG);f+=c;h-=c*yG;f%=yG;a.c=f;a.d=h;if(b<=24){return $wnd.Math.floor(a.c*UC[b])}else{e=a.c*(1<<b-24);g=$wnd.Math.floor(a.d*VC[b]);d=e+g;d>=2147483648&&(d-=4294967296);return d}}
function mm(a){var b,c,d,e,f,g,h;c=null;for(g=0;g<100;g++){for(h=0;h<50;h++){f=(GE(0,a.a.length),wd(a.a[0],27)).o[g][h];if(!f){continue}b=new Ck(g,h,0);for(e=new rA(a);e.a<e.c.a.length;){d=wd(pA(e),27);b.a+=d.o[g][h].a}(!c||c.a<b.a)&&(c=b)}}return new vs(c.c,c.d)}
function _c(a){var b,c,d;c=a.l;if((c&c-1)!=0){return -1}d=a.m;if((d&d-1)!=0){return -1}b=a.h;if((b&b-1)!=0){return -1}if(b==0&&d==0&&c==0){return -1}if(b==0&&d==0&&c!=0){return Sx(c)}if(b==0&&d!=0&&c==0){return Sx(d)+22}if(b!=0&&d==0&&c==0){return Sx(b)+44}return -1}
function sk(a){var b,c;c=new Ck(a.f,a.g,0);LE(HC(a.k,c));Nc(a.o[c.c],c.d,c);++a.j;vk(a,a.f,a.g,0,c);while(a.k.b.a.length!=0){b=wd(IC(a.k),21);rk(a,-1,-1,14,b);rk(a,1,-1,14,b);rk(a,-1,1,14,b);rk(a,1,1,14,b);rk(a,0,-1,10,b);rk(a,-1,0,10,b);rk(a,1,0,10,b);rk(a,0,1,10,b)}}
function ed(a){var b,c,d,e,f;if(isNaN(a)){return rd(),qd}if(a<-9223372036854775808){return rd(),od}if(a>=9223372036854775807){return rd(),nd}e=false;if(a<0){e=true;a=-a}d=0;if(a>=kF){d=Kd(a/kF);a-=d*kF}c=0;if(a>=jF){c=Kd(a/jF);a-=c*jF}b=Kd(a);f=Tc(b,c,d);e&&Zc(f);return f}
function Lw(a){this.a=a;this.b=zd(a.getContext('2d'),$wnd.CanvasRenderingContext2D);this.c=new Dw(this.b);Wi();$wnd.window.setTimeout(Qi(Mw.prototype.Mb,Mw,[this]),1000);Vi.addEventListener('keydown',new Ow(this));$wnd.window.window.addEventListener('resize',new Qw(this))}
function Wp(a){Vp();var b,c,d,e,f,g,h;h=new cB;for(e=0;e<16;e++){c=Kd(1+YC(a.p)*3);b=new dA;for(g=0;g<c;g++){Uz(b,gx(32))}while(b.a.length<9){Uz(b,gx(35))}LA(b,a.p);d=Kc(Ld,QF,23,9,15,1);for(f=0;f<9;f++){d[f]=(GE(f,b.a.length),wd(b.a[f],49)).a}aB(h,fy(d,d.length))}return h}
function Xp(a){Vp();var b,c,d,e,f,g,h;h=new cB;for(e=0;e<16;e++){c=Kd(1+YC(a.p)*3);b=new dA;for(g=0;g<c;g++){Uz(b,gx(35))}while(b.a.length<9){Uz(b,gx(32))}LA(b,a.p);d=Kc(Ld,QF,23,9,15,1);for(f=0;f<9;f++){d[f]=(GE(f,b.a.length),wd(b.a[f],49)).a}aB(h,fy(d,d.length))}return h}
function tk(a,b,c){var d,e,f,g,h,i,j,k;i=new dA;h=a.o[b][c];if(!h){for(f=-1;f<2;f++){for(g=-1;g<2;g++){j=b+f;k=c+g;if(j<0||k<0||j>=100||k>=50){continue}d=a.o[j][k];if(!d){continue}(!h||h.a>d.a)&&(h=d)}}}Nc(i.a,i.a.length,h);e=h;while(e.a>0){e=e.b;Nc(i.a,i.a.length,e)}return i}
function wq(){wq=Pi;$p=new Bq;hq=new Xq;aq=new lr;gq=new nr;vq=new pr;Yp=new sr;kq=new vr;qq=new yr;oq=new Br;pq=new Dq;cq=new Fq;rq=new Hq;eq=new Jq;jq=new Lq;Zp=new Nq;fq=new Pq;_p=new Rq;mq=new Tq;nq=new Vq;bq=new Zq;tq=new _q;iq=new br;lq=new dr;uq=new fr;sq=new hr;dq=new jr}
function Hr(a){var b;a.tb=a.O+a.cb*a.ub;a.A=a.G+a.cb*a.B;a._=a.K+a.cb*a.ab;a.kb=Kd(a.M+a.tb*20);a.lb=Kd(a.N+a._*12);a.$=a.J+a.tb*0.1;a.ib=a._*0.05;a.R=(b=a.I,a.P==(Sj(),Rj)?(b+=a.tb):a.P==Pj?(b+=a.A):a.P==Qj&&(b+=a._),b);a.D=a.H+a.A*0.1666;a.gb=a.L;if(a.sb==0){a.hb=a.lb;a.Z=a.kb}}
function mo(a,b,c){var d,e,f;if(io(a,(rl(),ql))){a.bc("Can't move while stunned!",(ek(),ck));return}if(b==0&&c==0){return}e=a.Bb+b;f=a.Cb+c;a.nb=a.sb;if(e<0||f<0||e>=100||f>=50){return}if(a.X.u[e][f]){return}d=sp(a.X.i,e,f);if(d){if(d.wb==a.wb){return}co(a,d);return}tp(a.X.i,a,e,f)}
function WE(a){var b,c,d,e;b=0;d=a.length;e=d-4;c=0;while(c<e){b=(NE(c+3,a.length),a.charCodeAt(c+3)+(NE(c+2,a.length),31*(a.charCodeAt(c+2)+(NE(c+1,a.length),31*(a.charCodeAt(c+1)+(NE(c,a.length),31*(a.charCodeAt(c)+31*b)))))));b=b|0;c+=4}while(c<d){b=b*31+$x(a,c++)}b=b|0;return b}
function $z(a,b){var c,d,e,f;HE(b);e=null;f=0;for(d=0;d<a.a.length;++d){c=a.a[d];if(Dd(wd(c,12),78)||Dd(wd(c,12),38)||Dd(wd(c,12),79)||Dd(wd(c,12),80)||Dd(wd(c,12),71)||Dd(wd(c,12),59)){if(e==null){e=uE(a.a,d);f=d}}else e!=null&&Nc(e,f++,c)}if(e==null){return false}a.a=e;return true}
function po(a,b){this.wb=new bw;this.ob=new nC;this.T=Kc(Nd,PF,23,ul().length,15,1);this.Q=Kc(Nd,PF,23,jv().length,15,1);vA(this.T);this.db=Oc(Gc(dh,1),lF,2,6,['.','.','.']);this.eb=Oc(Gc($d,1),yF,10,0,[(ek(),ck),ck,ck]);this.X=a;this.Ab=b;this.lb=this.dc();this.kb=this.cc();this.U=0}
function rj(a,b,c,d){var e,f;if(!b){return c}else{e=QA(c.d,b.d);if(e==0){d.d=qz(b,c.e);d.b=true;return b}f=e<0?0:1;b.a[f]=rj(a,b.a[f],c,d);if(sj(b.a[f])){if(sj(b.a[1-f])){b.b=true;b.a[0].b=false;b.a[1].b=false}else{sj(b.a[f].a[f])?(b=yj(b,1-f)):sj(b.a[f].a[1-f])&&(b=xj(b,1-f))}}}return b}
function Uk(a,b,c){var d,e,f,g,h;f=a.o;Cw(b,(ek(),ck));Aw(b,'PERKS:',zF,(++c+1)*15);Cw(b,new nk(128,255,255));for(h=(e=(new iz(f.ob.a)).a.Pb().xc(),new mz(e));h.a.Mc();){g=(d=wd(h.a.Nc(),19),wd(d.Uc(),9));Aw(b,g.g!=null?g.g:''+g.i,zF,(++c+1)*15)}f.ob.a.Rb()==0&&Aw(b,'none',zF,(++c+1)*15);return c}
function uk(a,b,c){var d,e,f,g,h,i,j,k;g=a.o[b][c];if(!g){for(e=-1;e<2;e++){for(f=-1;f<2;f++){j=b+e;k=c+f;if(j<0||k<0||j>=100||k>=50){continue}d=a.o[j][k];if(!d){continue}(!g||g.a>d.a)&&(g=d)}}}if(!g){return new dA}i=g;h=g;while(!!i&&i.a>0){h=i;i=i.b}return new fA(new DA(Oc(Gc(_d,1),xF,21,0,[i,h])))}
function co(a,b){if(io(a,(rl(),ql))){a.bc("Can't attack while stunned!",(ek(),ck));return}eo(a,b,'a strike',1);if(io(a,fl)&&YC(a.X.p)<0.2){a.bc('Inner Beast procs another attack!',(ek(),$j));eo(a,b,'a beast strike',1)}if(io(a,pl)){a.bc('You strafe for another attack!',(ek(),$j));eo(a,b,'a strike',1)}}
function Lo(a,b){var c,d,e;e=new fs(b);e.n=false;e.wb=aw;e.o=a.c;e.u=a.g;e.i=a.a;e.a.a=Kc($g,yF,1,0,5,1);Vz(e.a,a.oc(e));for(d=new Yy(a.pc());d.b<d.d.Rb();){c=(FE(d.b<d.d.Rb()),wd(d.d.Qc(d.c=d.b++),9));Fr(e,c)}e.b=false;e.O*=a.f/2/2;e.G*=a.f/2/2;e.K*=a.f/2/2;e.ub*=a.f/2/2;e.B*=a.f/2/2;e.ab*=a.f/2/2;return e}
function Pk(a,b){var c;b.b.font='16px Courier New';if(a.o.Z<=0){Cw(b,(ek(),Vj));Bw(b,a.n.a.clientWidth,a.n.a.clientHeight);Cw(b,bk);c='You were killed by a '+a.o.bb.ic()+' on dungeon level '+a.e+'. You accumulated '+a.o.Y+' gold and reached player level '+a.o.cb+'.';b.b.fillText(c,11,390);return}Wk(a,b);return}
function yB(){if(!Object.create||!Object.getOwnPropertyNames){return false}var a='__proto__';var b=Object.create(null);if(b[a]!==undefined){return false}var c=Object.getOwnPropertyNames(b);if(c.length!=0){return false}b[a]=42;if(b[a]!==42){return false}if(Object.getOwnPropertyNames(b).length==0){return false}return true}
function md(a){var b,c,d,e,f;if(a.l==0&&a.m==0&&a.h==0){return '0'}if(a.h==iF&&a.m==0&&a.l==0){return '-9223372036854775808'}if(a.h>>19!=0){return '-'+md(fd(a))}c=a;d='';while(!(c.l==0&&c.m==0&&c.h==0)){e=Rc(1000000000);c=Uc(c,e,true);b=''+ld(Qc);if(!(c.l==0&&c.m==0&&c.h==0)){f=9-b.length;for(;f>0;f--){b='0'+b}}d=b+d}return d}
function jo(a,b,c){var d,e,f,g,h,i,j;b<a.Bb?(b+=0.5):b>a.Bb&&(b-=0.5);c<a.Cb?(c+=0.5):c>a.Cb&&(c-=0.5);d=b-a.Bb;e=c-a.Cb;h=$wnd.Math.max($wnd.Math.abs(d),$wnd.Math.abs(e));d/=h;e/=h;i=a.Bb;j=a.Cb;while(h>0){f=Kd(i+0.5);g=Kd(j+0.5);if(b==f&&c==g){break}if(!(a.Bb==f&&a.Cb==g)&&!!a.X.u[f][g]){return false}i+=d;j+=e;--h}return true}
function Rk(a,b,c){var d,e,f,g,h,i,j;i=a.o;Cw(b,(ek(),ck));Aw(b,'INV:',zF,(++c+1)*15);j=0;for(h=(f=(new yD((new Fz(i.c)).a)).a.Sb(),new Jz(f));Vy(h.a.a);){g=(e=rD(h.a),wd(e.Uc(),32));d=Fj(i.c,g).a;if(d==0){continue}Cw(b,g.a);Aw(b,'u'+Bd(97+j++&65535)+'). '+d+' '+g.b+'(s)',zF,(++c+1)*15)}j==0&&Aw(b,'empty',zF,(++c+1)*15);return c}
function nm(a,b,c){var d,e,f,g,h,i,j;e=null;for(i=b-4;i<=b+4;i++){for(j=c-4;j<=c+4;j++){if(i<0||j<0||i>=100||j>=50){continue}h=(GE(0,a.a.length),wd(a.a[0],27)).o[i][j];if(!h){continue}d=new Ck(i,j,0);for(g=new Yy(a);g.b<g.d.Rb();){f=(FE(g.b<g.d.Rb()),wd(g.d.Qc(g.c=g.b++),27));d.a+=f.o[i][j].a}(!e||e.a<d.a)&&(e=d)}}return new vs(e.c,e.d)}
function Qk(a,b,c){var d,e,f,g,h,i,j,k;k=a.o;Cw(b,(ek(),ck));Aw(b,'EFFECTS:',zF,(++c+1)*15);Cw(b,new nk(128,128,255));j=false;for(g=ul(),h=0,i=g.length;h<i;++h){f=g[h];if(k.T[f.i]<=0){continue}d=k.T[f.i];e=' ('+d+' duration)';d>100000&&(e=' (passive)');j=true;Aw(b,(f.g!=null?f.g:''+f.i)+e,zF,(++c+1)*15)}j||Aw(b,'none',zF,(++c+1)*15);return c}
function $l(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;g=new Eu;for(m=0;m<100;m++){for(n=0;n<50;n++){i=Cm(a,m,n);j=new vs(m,n);b.a.Ob(i)&&Au(g,j)}}while(g.b.a.length>d){Bu(g,a.p)}while(c-->0&&g.b.a.length!=0){h=wd(Bu(g,a.p),18);Nc(a.u[h.a],h.b,null);for(e=-1;e<2;e++){for(f=-1;f<2;f++){k=h.a+e;l=h.b+f;i=Cm(a,k,l);j=new vs(k,l);b.a.Ob(i)?Au(g,j):Cu(g,j)}}}}
function lm(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;g=new Eu;for(m=0;m<100;m++){for(n=0;n<50;n++){i=Cm(a,m,n);j=new vs(m,n);b.a.Ob(i)&&Au(g,j)}}while(g.b.a.length>d){Bu(g,a.p)}while(c-->0&&g.b.a.length!=0){h=wd(Bu(g,a.p),18);Nc(a.u[h.a],h.b,new uw((ww(),vw)));for(e=-1;e<2;e++){for(f=-1;f<2;f++){k=h.a+e;l=h.b+f;i=Cm(a,k,l);j=new vs(k,l);b.a.Ob(i)?Au(g,j):Cu(g,j)}}}}
function _l(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;e=null;f=null;d=1000;for(i=new rA(b);i.a<i.c.a.length;){h=wd(pA(i),50);j=h.d+(h.f/2|0);k=h.e+(h.c/2|0);for(m=new rA(c);m.a<m.c.a.length;){l=wd(pA(m),50);n=l.d+(l.f/2|0);o=l.e+(l.c/2|0);g=$wnd.Math.abs(n-j)+$wnd.Math.abs(o-k);g=Kd(g*(1-Lk+Lk*YC(a.p)));if(g<d){e=h;f=l;d=g}}}return Oc(Gc(Zf,1),yF,50,0,[e,f])}
function no(a,b,c,d){a.vb=true;b=$wnd.Math.max(b-a.hc(),0);a.Z=a.Z-b;a.xb=Kd(a.xb+b);if(a.Z<=0){Er(a.X.o,'The '+a.ic()+' dies.',(ek(),ck));a.S=true;a.bb=c;c.ec(1+Kd(YC(a.X.p)*a.Ab.e))}c==a.X.o&&(b<=0?Er(a.X.o,'You attack the '+a.ic()+' with '+d+' but do no damage.',(ek(),ck)):Er(a.X.o,'You hit the '+a.ic()+' with '+d+' for '+Kd(b)+SF,(ek(),ck)));return b}
function Fp(){Fp=Pi;xp=new Gp('ANT',0,97,'ant',(ek(),bk),3,2);yp=new Gp('CANINE',1,99,'canine',new nk(210,105,30),5,3);Cp=new Gp('KOBOLD',2,107,'kobold',$j,7,4);Ap=new Gp('GOBLIN',3,103,'goblin',_j,3,6);Bp=new Gp('HOBBIT',4,104,'hobbit',Yj,10,3);Ep=new Gp('XAN',5,120,'xan',ak,7,7);zp=new Gp('DRAGON',6,68,'dragon',bk,15,15);Dp=new Gp('PLAYER',7,64,'player',dk,20,5)}
function Jn(a,b){var c,d,e;if(Fj(b.c,a).a<=0){return}Gj(b.c,a);c=Nr(b);if(!c){Er(b,'You read the scroll but nothing happens.',(ek(),ck));return}if(!jo(b,c.a,c.b)){throw yi(new Vb("can't banish something that is out of line of sight"))}e=sp(b.k.i,c.a,c.b);Er(b,'Holy power attempts to banish the '+e.ic()+'.',(ek(),Wj));d=140;d=Kd(d*b.fb);e.lc(d,b,'banishment',1,true)}
function Xk(a,b,c){var d,e,f,g,h,i,j,k;h=a.o;Cw(b,(ek(),ck));Aw(b,'SKILLS:',zF,(++c+1)*15);Cw(b,new nk(128,128,255));k=0;for(j=(g=(new iz(h.s.a)).a.Pb().xc(),new mz(g));j.a.Mc();){i=(f=wd(j.a.Nc(),19),wd(f.Uc(),13));d=h.Q[i.i];e=d>0?AF+d+'cd':'';Aw(b,'c'+Bd(97+k++&65535)+'). '+(i.g!=null?i.g:''+i.i)+' ('+i.b+'mp'+e+')',zF,(++c+1)*15)}k==0&&Aw(b,'none',zF,(++c+1)*15);return c}
function Xc(a,b,c,d,e,f){var g,h,i,j,k,l,m;j=$c(b)-$c(a);g=gd(b,j);i=Tc(0,0,0);while(j>=0){h=bd(a,g);if(h){j<22?(i.l|=1<<j,undefined):j<44?(i.m|=1<<j-22,undefined):(i.h|=1<<j-44,undefined);if(a.l==0&&a.m==0&&a.h==0){break}}k=g.m;l=g.h;m=g.l;g.h=l>>>1;g.m=k>>>1|(l&1)<<21;g.l=m>>>1|(k&1)<<21;--j}c&&Zc(i);if(f){if(d){Qc=fd(a);e&&(Qc=jd(Qc,(rd(),pd)))}else{Qc=Tc(a.l,a.m,a.h)}}return i}
function Fc(a,b){var c;switch(Hc(a)){case 6:return Hd(b);case 7:return Fd(b);case 8:return Ed(b);case 3:return Array.isArray(b)&&(c=Hc(b),!(c>=14&&c<=16));case 11:return b!=null&&typeof b===aF;case 12:return b!=null&&(typeof b===$E||typeof b==aF);case 0:return vd(b,a.__elementTypeId$);case 2:return Id(b)&&!(b.ed===Ti);case 1:return Id(b)&&!(b.ed===Ti)||vd(b,a.__elementTypeId$);default:return true;}}
function rl(){rl=Pi;$k=new sl('BLESSED',0);jl=new sl(BF,1);il=new sl(CF,2);kl=new sl(DF,3);dl=new sl(EF,4);fl=new sl(FF,5);pl=new sl(GF,6);nl=new sl('SAND_KING',7);gl=new sl(HF,8);al=new sl(IF,9);ll=new sl('REVEALED',10);Zk=new sl(JF,11);ml=new tl(KF,12);hl=new tl('INTERRUPTED',13);ql=new tl('STUNNED',14);ol=new tl('SILENCED',15);bl=new sl('DOPPLE',16);cl=new sl(LF,17);el=new sl(MF,18);_k=new sl('CHARMED',19)}
function fs(a){po.call(this,a,(Fp(),Dp));this.c=new Hj;this.s=new nC;this.a=new dA;this.p=new YA;this.q=Ic(vi,[wF,cG],[84,23],16,[100,50],2);this.r=Ic(vi,[wF,cG],[84,23],16,[100,50],2);this.t=Ic(vi,[wF,cG],[84,23],16,[100,50],2);this.n=true;this.v=0;this.b=false;this.i=(ek(),dk);this.u=64;this.k=a;this.o=(Jp(),Ip[xm(a,0,Ip.length-1)]);Dj(this.c,(en(),an));Dj(this.c,bn);Dj(this.c,cn);Ej(this.c,_m,10);this.a=new dA;Ir(this);Hr(this)}
function Ku(a,b){var c,d,e,f,g,h,i;e=Kd(YC(a.b.p)*a.f)+a.d;f=Kd(YC(a.b.p)*a.c)+a.e;h=Kd(YC(a.b.p)*b.f)+b.d;i=Kd(YC(a.b.p)*b.c)+b.e;e=(e/2|0)*2;f=(f/2|0)*2;h=(h/2|0)*2;i=(i/2|0)*2;c=h-e;d=i-f;c=c>0?1:c<0?-1:0;d=d>0?1:d<0?-1:0;g=YC(a.b.p)>0.5;while(e!=h||f!=i){f==i||g&&e!=h?(e+=c):(f+=d);if(!(e>0&&f>0&&e<100&&f<50)){break}Nc(a.b.u[e],f,null)}g=!g;while(e!=h||f!=i){f==i||g&&e!=h?(e+=c):(f+=d);if(!(e>0&&f>0&&e<100&&f<50)){break}Nc(a.b.u[e],f,null)}}
function es(a,b){var c,d;if(io(a,(rl(),hl))){Er(a,"Can't cast while interrupted!",(ek(),ck));return}if(io(a,ql)){Er(a,bG,(ek(),ck));return}if(io(a,ol)){Er(a,bG,(ek(),ck));return}if(b.b>a.hb){Er(a,'Not enough mana!',(ek(),bk));return}if(a.Q[b.i]>0){Er(a,"Can't use that, it's still on cooldown!",(ek(),bk));return}a.hb-=b.b;c=Nr(a);if(b.c&&!c){Er(a,"Can't use that, you need a target!",(ek(),bk));return}d=c?sp(a.k.i,c.a,c.b):null;b.Ac(a,d);a.Q[b.i]=b.a}
function Jr(a){var b,c,d,e,f;b=new fs(a.k);b.n=false;b.jb=a;nj(b.c);b.o=a.o;b.u=a.u;b.i=a.i;b.D=a.D;b.F=a.F;b.K=a.K/9;b.O=a.O/9;b.G=a.G/9;b.ab=a.ab/9;b.ub=a.ub/9;b.B=a.B/9;b._=a._/9;b.tb=a.tb/9;b.A=a.A/9;b.U=a.U;b.V=a.V;b.cb=a.cb;b.fb=a.fb;b.hb=0;b.lb=0;$z(b.a,new ts);$n(b,(rl(),bl),8);$n(b,ol,bF);for(f=(d=(new iz(a.ob.a)).a.Pb().xc(),new mz(d));f.a.Mc();){e=(c=wd(f.a.Nc(),19),wd(c.Uc(),9));(e.qc()||e.rc())&&Fr(b,e)}b.I=a.I/8;b.Z=a.Z/5;b.kb=a.kb/5|0;return b}
function rk(a,b,c,d,e){var f,g,h,i,j;i=e.c+b;j=e.d+c;if(i<0||j<0||i>=100||j>=50){return}!!sp(a.i.i,i,j)&&sp(a.i.i,i,j)!=a.n&&(d=Kd(d*Ll));a.i.t[i][j].a==(iw(),gw)&&(d-=2);if(a.q){if(a.s[i][j]){d*=2;d+=20}}f=e.a+d;if(f>a.p){return}if(i<0||j<0||i>=100||j>=50){return}h=a.o[i][j];!h&&f<100&&!!a.n&&a.n.r[i][j]&&!!sp(a.i.i,i,j)&&a.n.wb!=sp(a.i.i,i,j).wb&&++a.r;if(!h||h.a>f){g=new Ck(i,j,e.a+d);vk(a,i,j,f,g);if(!a.q&&!!a.s[i][j]){return}g.b=e;LE(HC(a.k,g));Nc(a.o[g.c],g.d,g);++a.j;return}}
function ho(a){var b,c,d,e,f;b=new dA;if(a.rb==0){return b}if(!a.P){return wd(fE((d=eE(new gE(null,new jD(new DA(Aq()))),new Do),SD(new _D,new $D,new aE,Oc(Gc(ki,1),lF,53,0,[(WD(),UD)])),d),(e=new dA,e)),33)}if(!a.W){return wd(fE((d=eE(new gE(null,new jD(new DA(Aq()))),new Fo),SD(new _D,new $D,new aE,Oc(Gc(ki,1),lF,53,0,[(WD(),UD)])),d),(e=new dA,e)),33)}return wd(fE((f=eE(new gE(null,new jD(new DA(Aq()))),new Ho(a)),SD(new _D,new $D,new aE,Oc(Gc(ki,1),lF,53,0,[(WD(),UD)])),f),(c=new dA,c)),33)}
function Vp(){Vp=Pi;Up=new dB(new DA(Oc(Gc(dh,1),lF,2,6,['### #####','# #######','##### ###','####### #',' ## ## ##','   ######','## ## ## ','######   ','### ## ##','  #######','## ## ###','#######  ',' ## #####','#  ######','##### ## ','######  #',''])));Tp=new dB(new DA(Oc(Gc(dh,1),lF,2,6,['  #  ####','#  #  ###','####  #  ','###  #  #',''])));Sp=new dB(new DA(Oc(Gc(dh,1),lF,2,6,['## ##    ',' ## ##   ','    ## ##','   ## ## ',''])));new dB(new DA(Oc(Gc(dh,1),lF,2,6,[' #  #    ','    ##   ','    #  # ','    #  # ',''])))}
function Lu(a){var b,c,d;this.b=a;this.a=YC(a.p)<0.1;while(true){this.d=Kd(YC(a.p)*87)+2;this.e=Kd(YC(a.p)*37)+2;this.f=Kd(YC(a.p)*10)+3;this.c=Kd(YC(a.p)*10)+3;this.d=(this.d/2|0)*2;this.e=(this.e/2|0)*2;this.f=(this.f/2|0)*2;this.c=(this.c/2|0)*2;if(this.a){this.f%2==0&&++this.f;this.c%2==0&&++this.c}this.d=tw(this.d,0,99);this.e=tw(this.e,0,49);this.f=tw(this.f,1,99-this.d);this.c=tw(this.c,1,49-this.e);b=false;for(c=this.d-1;c<this.d+this.f;c++){for(d=this.e-1;d<this.e+this.c;d++){if(!this.b.u[c][d]){b=true;break}}if(b){break}}if(b){continue}break}}
function Ir(a){Uz(a.a,new Cs(a));Uz(a.a,new Ts(a));Uz(a.a,new Fs(a));Uz(a.a,new dt(a));Uz(a.a,new Ks(a));Uz(a.a,new gt(a));Uz(a.a,new at(a));Uz(a.a,new Zs(a));Uz(a.a,new Ws(a));if(Hk){Uz(a.a,new pt(a));Uz(a.a,new mt(a));Uz(a.a,new st(a));Uz(a.a,new jt(a));Uz(a.a,new Ns(a));Uz(a.a,new gu(a));Uz(a.a,new mu(a));Uz(a.a,new ju(a));Uz(a.a,new au(a));Uz(a.a,new Bt(a));Uz(a.a,new Kt(a));Uz(a.a,new Tt(a));Uz(a.a,new vt(a));Uz(a.a,new Ht(a));Uz(a.a,new du(a));Uz(a.a,new Qt(a));Uz(a.a,new Zt(a));Uz(a.a,new Nt(a));Uz(a.a,new yt(a));Uz(a.a,new Wt(a));Uz(a.a,new Et(a))}}
function Uc(a,b,c){var d,e,f,g,h,i;if(b.l==0&&b.m==0&&b.h==0){throw yi(new Uw)}if(a.l==0&&a.m==0&&a.h==0){c&&(Qc=Tc(0,0,0));return Tc(0,0,0)}if(b.h==iF&&b.m==0&&b.l==0){return Vc(a,c)}i=false;if(b.h>>19!=0){b=fd(b);i=true}g=_c(b);f=false;e=false;d=false;if(a.h==iF&&a.m==0&&a.l==0){e=true;f=true;if(g==-1){a=Sc((rd(),nd));d=true;i=!i}else{h=hd(a,g);i&&Zc(h);c&&(Qc=Tc(0,0,0));return h}}else if(a.h>>19!=0){f=true;a=fd(a);d=true;i=!i}if(g!=-1){return Wc(a,g,i,f,c)}if(dd(a,b)<0){c&&(f?(Qc=fd(a)):(Qc=Tc(a.l,a.m,a.h)));return Tc(0,0,0)}return Xc(d?a:Tc(a.l,a.m,a.h),b,i,f,e,c)}
function Vk(a,b,c){var d;d=a.o;Ok(b,'DMG: '+Yl(d.R),101,c++,(ek(),ck));Ok(b,'AC:  '+Yl(d.D),101,c++,ck);Ok(b,'RES: '+Yl(d.gb),101,c++,ck);++c;Ok(b,'STR: '+Yl(d.tb)+(d.P==(Sj(),Rj)?' *':''),101,c++,ck);Ok(b,'AGI: '+Yl(d.A)+(d.P==Pj?' *':''),101,c++,ck);Ok(b,'INT: '+Yl(d._)+(d.P==Qj?' *':''),101,c++,ck);++c;Ok(b,'HP:  '+Gi(Bi($wnd.Math.round(d.Z)))+'/'+d.kb+' +'+Yl(d.$),101,c++,bk);Ok(b,'MP:  '+Gi(Bi($wnd.Math.round(d.hb)))+'/'+d.lb+' +'+Yl(d.ib),101,c++,new nk(128,128,255));++c;Ok(b,'GLD: '+d.Y,101,c++,dk);Ok(b,'DUN: '+a.e,101,c++,new nk(210,105,30));Ok(b,'EXP: '+d.U,101,c++,$j);Ok(b,'LVL: '+d.cb,101,c++,$j);return c}
function vk(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p;if(!a.n){return}if(d<100){k=sp(a.i.i,b,c);(!a.a||e.a<a.a.a)&&(e.c==a.f&&e.d==a.g||a.n.r[b][c]&&!!k&&a.n.wb!=k.wb&&(a.a=e))}d<5000&&(!a.d||e.a<a.d.a)&&a.n.q[b][c]&&!!a.i.g[b][c]&&(a.d=e);if(d<500&&(!a.i.u[e.c][e.d]||a.q)){p=a.n.t[b][c];o=a.n.q[b][c];n=Ol;l=a.i.c[b][c];if(!a.c){p&&l>=Jl&&(a.c=e)}else{m=a.n.k.c[a.c.c][a.c.d];(e.a<a.c.a||l-(e.a/n|0)>m-(a.c.a/n|0))&&p&&l>=Jl&&(a.c=e)}if(!a.e){o&&l>=Pl&&(a.e=e)}else{m=a.n.k.c[a.e.c][a.e.d];g=e.a/n|0;h=a.e.a/n|0;i=l-g;j=m-h;(!a.e||i>j)&&o&&l>=Pl&&(a.e=e)}}if(d<10000){f=(b+c)/4|0;(!a.b||e.a+f<a.b.a)&&!a.n.q[b][c]&&a.i.a[b][c]<9&&(a.b=e)}}
function as(a){var b,c,d,e,f,g,h,i,j;for(i=0;i<50;i++){for(g=0;g<100;g++){a.r[g][i]=false}}a.t[a.Bb][a.Cb]=true;if(io(a,(rl(),ml))){a.r[a.Bb][a.Cb]=a.q[a.Bb][a.Cb]=true;return}c=(e=(new iz(a.p)).a.Pb().xc(),new mz(e));while(c.a.Mc()){d=(b=wd(c.a.Nc(),19),wd(b.Uc(),35));f=wd(oy(a.p,d),37).a;f>0&&(a.r[d.Bb][d.Cb]=true);--f;f<=0?c.a.Oc():ry(a.p,d,Ux(f))}for(j=-a.qb;j<a.qb;j++){if(a.Cb+j<0||a.Cb+j>=50){continue}for(h=-a.qb;h<a.qb;h++){if(h*h+j*j>a.qb*a.qb){continue}if(a.Bb+h<0||a.Bb+h>=100){continue}if(a.Cb+j<0||a.Cb+j>=50){continue}if(jo(a,a.Bb+h,a.Cb+j)){a.r[a.Bb+h][a.Cb+j]=a.q[a.Bb+h][a.Cb+j]=true;d=sp(a.k.i,a.Bb+h,a.Cb+j);!!d&&d!=a&&ry(a.p,d,Ux(Sl))}}}}
function vj(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(!a.b){return false}g=null;m=null;i=new zD(null,null);e=1;i.a[1]=a.b;l=i;while(l.a[e]){j=e;h=m;m=l;l=l.a[e];d=QA(b,l.d);e=d<0?0:1;d==0&&(!c.c||EC(l.e,c.d))&&(g=l);if(!(!!l&&l.b)&&!sj(l.a[e])){if(sj(l.a[1-e])){m=m.a[j]=yj(l,e)}else if(!sj(l.a[1-e])){n=m.a[1-j];if(n){if(!sj(n.a[1-j])&&!sj(n.a[j])){m.b=false;n.b=true;l.b=true}else{f=h.a[1]==m?1:0;sj(n.a[j])?(h.a[f]=xj(m,j)):sj(n.a[1-j])&&(h.a[f]=yj(m,j));l.b=h.a[f].b=true;h.a[f].a[0].b=false;h.a[f].a[1].b=false}}}}}if(g){c.b=true;c.d=g.e;if(l!=g){k=new zD(l.d,l.e);wj(a,i,g,k);m==g&&(m=k)}m.a[m.a[1]==l?1:0]=l.a[!l.a[0]?1:0];--a.c}a.b=i.a[1];!!a.b&&(a.b.b=false);return c.b}
function ek(){ek=Pi;Vj=new nk(0,0,0);Yj=new nk(127,127,127);new lk(mF,mF,mF);new lk(nF,nF,nF);new lk(oF,oF,oF);new lk(pF,pF,pF);new lk(0.5,0.5,0.5);new lk(qF,qF,qF);new lk(rF,rF,rF);new lk(0.75,0.75,0.75);Zj=new lk(sF,sF,sF);new lk(tF,tF,tF);new lk(uF,uF,uF);new lk(vF,vF,vF);ck=new nk(255,255,255);bk=new nk(255,0,0);_j=new nk(255,127,0);dk=new nk(255,255,0);new nk(127,255,0);$j=new nk(0,255,0);Xj=new nk(0,255,255);Wj=new nk(0,0,255);new nk(127,0,255);new nk(255,0,255);ak=new nk(255,0,127);new ok(0,0,0,63);new ok(0,0,0,31);new ok(0,0,0,15);new ok(0,0,0,7);new ok(255,255,255,191);new ok(255,255,255,127);new ok(255,255,255,63);new ok(255,255,255,31);new lk(sF,sF,1);new lk(vF,vF,1)}
function Jp(){Jp=Pi;Ip=Oc(Gc(dh,1),lF,2,6,['Sige','Cuther','Narder','Giles','Walstio','Reyny Page','Stiny','Jamas Hammal','Lany','Gery','Wine','Withuw','Leofge','Cere','Hames','Brege','Aelwith','Helmund','Arhorht','Heri','Ryany','Duca','Piersym','George Erell','Gyles','Gylew','Rancis','Stiny Neray','Wyny Enyn','Algald','Nichye Tere','Jamart','Rarder','Osbryth','Ralphye','Stomart Rawley','Normod','Riffin Wente','Harder Nette','Brica','Symond','Berny Keselw','Bealda','Gauwilh','Ferther','Warder','Tomas Horne','Gilas','Cyne','Rewalt','Symas','Bryany Noke','Geoffrey Dene','Gari','Harrey Villey','Wisym Folcey','Arles','Arlew','Wulfa','George Hancey','Wiasi','Siwiu','Ansfrin','Eodwyth','Nielan Bexley'])}
function Am(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;rp(a.i);up(a.i);for(k=(m=(new iz(a.i.b.a)).a.Pb().xc(),new mz(m));k.a.Mc();){i=(e=wd(k.a.Nc(),19),wd(e.Uc(),35));i.vb=false}for(j=(l=(new iz(a.i.b.a)).a.Pb().xc(),new mz(l));j.a.Mc();){i=(e=wd(j.a.Nc(),19),wd(e.Uc(),35));if(i.S){continue}i.ac()}up(a.i);++a.o.v;Zr(a.o);for(o=0;o<100;o++){for(q=0;q<50;q++){!a.b[o][q]&&Nc(a.b[o],q,new dA);h=a.b[o][q];g=new rA(h);while(g.a<g.c.a.length){d=wd(pA(g),40);d.c==0&&qA(g);--d.c}}}for(p=0;p<50;p++){for(n=0;n<100;n++){if(!!a.u[n][p]&&!!sp(a.i,n,p)){throw yi(new Vb('monster stuck in wall'))}}}for(c=new rA(a.o.a);c.a<c.c.a.length;){b=wd(pA(c),12);ny(a.f,b)||ry(a.f,b,new sC);f=wd(oy(a.f,b),33);f.vc(b.i);f.Rb()>Mk&&f.Sc(0)}}
function Bm(a,b){this.d=Oc(Gc(fe,1),yF,56,0,[new Hm(new Lm(this),1),new Hm(new Nm(this),0.1836734693877551),new Hm(new Pm(this),1),new Hm(new Rm(this),1),new Hm(new Tm(this),1)]);this.b=Ic(Ch,[wF,{3:1,7:1,4:1,16:1,83:1,5:1,271:1,293:1,294:1,100:1,272:1,295:1}],[294,15],0,[100,50],2);this.k=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);this.u=Ic(Dg,[wF,{296:1,3:1,4:1,5:1}],[296,57],0,[100,50],2);this.a=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);this.q=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);this.c=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);this.t=Ic(Bg,[wF,{297:1,3:1,4:1,5:1}],[297,58],0,[100,50],2);this.g=Ic(ve,[wF,{298:1,3:1,4:1,5:1}],[298,88],0,[100,50],2);this.i=new vp;this.p=new cD;this.f=new YA;this.n=b;bD(this.p,a);this.o=new fs(this);cm(this);Iw(b,new Em(this));Kw(b,new Gm(this))}
function vm(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a.j=new dA;n=new dA;c=om(a);b=new xk(a,c.a,c.b);Uz(a.j,c);Nc(n.a,n.a.length,b);o=new dA;for(d=0;d<4;d++){i=mm(n);h=new xk(a,i.a,i.b);for(e=0;e<a.j.a.length;e++){p=(GE(e,n.a.length),wd(n.a[e],27));l=tk(p,i.a,i.b);Nc(o.a,o.a.length,l)}Uz(a.j,i);Nc(n.a,n.a.length,h)}for(m=new rA(o);m.a<m.c.a.length;){l=wd(pA(m),33);for(k=l.xc();k.Mc();){j=wd(k.Nc(),21);s=j.c;u=j.d;++a.k[s][u];a.k[s][u]>4&&Nc(a.t[s],u,new dw((iw(),gw)))}}f=new dA;for(t=0;t<100;t++){for(u=0;u<50;u++){a.k[t][u]>0&&Uz(f,Ux(a.k[t][u]))}}BA(f.a,f.a.length,null);q=wd(Wz(f,f.a.length*3/4|0),37);g=wd(Wz(f,f.a.length/2|0),37);for(r=0;r<100;r++){for(u=0;u<50;u++){a.k[r][u]>=q.a?Nc(a.t[r],u,new dw((iw(),gw))):a.k[r][u]>=g.a&&Nc(a.t[r],u,new dw((iw(),hw)))}}}
function AB(){function e(){this.obj=this.createObject()}
;e.prototype.createObject=function(a){return Object.create(null)};e.prototype.get=function(a){return this.obj[a]};e.prototype.set=function(a,b){this.obj[a]=b};e.prototype[tG]=function(a){delete this.obj[a]};e.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)};e.prototype.entries=function(){var b=this.keys();var c=this;var d=0;return {next:function(){if(d>=b.length)return {done:true};var a=b[d++];return {value:[a,c.get(a)],done:false}}}};if(!yB()){e.prototype.createObject=function(){return {}};e.prototype.get=function(a){return this.obj[':'+a]};e.prototype.set=function(a,b){this.obj[':'+a]=b};e.prototype[tG]=function(a){delete this.obj[':'+a]};e.prototype.keys=function(){var a=[];for(var b in this.obj){b.charCodeAt(0)==58&&a.push(b.substring(1))}return a}}return e}
function tm(a){var b,c,d,e;b=a.n.d;try{switch(b.a){case '7':Xr(a.o,-1,-1);Am(a);break;case '8':Xr(a.o,0,-1);Am(a);break;case '9':Xr(a.o,1,-1);Am(a);break;case '6':Xr(a.o,1,0);Am(a);break;case '3':Xr(a.o,1,1);Am(a);break;case '2':Xr(a.o,0,1);Am(a);break;case '1':Xr(a.o,-1,1);Am(a);break;case '4':Xr(a.o,-1,0);Am(a);break;case '5':Xr(a.o,0,0);Am(a);}c=b.a;d=(NE(0,c.length),c.charCodeAt(0));if(d==105){e=a.t[a.o.Bb][a.o.Cb];if(e){cw(e,a.o);Am(a)}}if(a.o.e){if(d>=97&&d<=122){cs(a.o,d-97);a.o.e=false;Am(a);return}}if(a.o.g){if(d>=97&&d<=122){ds(a.o,d-97);a.o.g=false;Am(a);return}}if(a.o.f){if(d>=97&&d<=122){Fr(a.o,wd(ho(a.o).Qc((NE(0,c.length),c.charCodeAt(0)-97)),9));a.o.f=false;Am(a);return}}d==97&&em(a);d==102&&gm(a);d==70&&jm(a,1000);d==114&&km(a);d==101&&fm(a);d==108&&im(a);if(d==112){Lr(a.o,a);Am(a)}d==117&&(a.o.e=true);d==99&&(a.o.g=true);d==108&&a.o.rb>0&&(a.o.f=true)}finally{Hw(a.n)}}
function am(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G;n=new cB;for(F=0;F<100;F++){for(G=0;G<50;G++){!a.u[F][G]&&aB(n,new vs(F,G))}}i=new dA;while(n.a.Rb()!=0){j=(q=(new iz(n.a)).a.Pb().xc(),new mz(q));m=(e=wd(j.a.Nc(),19),wd(e.Uc(),18));j.a.Oc();r=new xk(a,m.a,m.b);g=new dA;Nc(i.a,i.a.length,g);for(G=0;G<50;G++){for(D=0;D<100;D++){if(r.o[D][G]){s=new vs(D,G);Nc(g.a,g.a.length,s);n.a.Lc(s)!=null}}}}aA(i,new Im);k=0;l=new dA;d=new dA;for(h=new rA(i);h.a<h.c.a.length;){g=wd(pA(h),33);if(k>2249){Nc(d.a,d.a.length,g);continue}k+=g.Rb();Nc(l.a,l.a.length,g)}for(c=new rA(d);c.a<c.c.a.length;){b=wd(pA(c),33);for(t=b.xc();t.Mc();){s=wd(t.Nc(),18);Nc(a.u[s.a],s.b,new uw((ww(),vw)))}}if(l.a.length>1){u=(GE(0,l.a.length),wd(l.a[0],33));for(p=new rA(l);p.a<p.c.a.length;){o=wd(pA(p),33);if(u==o){continue}f=wd(u.Qc(0),18);v=wd(o.Qc(0),18);C=new Ak(a,f.a,f.b,null,true);w=tk(C,v.a,v.b);for(B=new rA(w);B.a<B.c.a.length;){A=wd(pA(B),21);Nc(a.u[A.c],A.d,null)}}}}
function Wk(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C;Cw(b,(ek(),Vj));Bw(b,a.n.a.clientWidth,a.n.a.clientHeight);for(A=0;A<50;A++){for(v=0;v<100;v++){f=ck;r=32;if(a.o.r[v][A]){k=a.o.Bb-v;l=a.o.Cb-A;q=k*k+l*l;n=q>1?0.5+4/(q-1):1;n>1&&(n=1)}else{n=0.25}if(!a.o.q[v][A]){continue}s=a.t[v][A];if(s){f=s.a.a;r=s.a.b}u=a.u[v][A];if(u){f=u.a.a;r=u.a.b}m=a.g[v][A];if(m){f=m.b.a;r=m.b.c}if(a.o.r[v][A]){p=sp(a.i,v,A);if(p){f=p.gc();r=p.jc()}}if(r==32){continue}f=new mk(f.d/255*n,f.c/255*n,f.b/255*n,f.a/255);b.a=f;zw(b);b.b.fillText(''+String.fromCharCode(r),v*11,(A+1)*15);if(v==a.o.Bb&&A==a.o.Cb){Cw(b,new ok(128,255,128,128));b.b.fillRect(v*11,A*15,11,15)}}}for(B=0;B<50;B++){for(v=0;v<100;v++){for(d=new rA(a.b[v][B]);d.a<d.c.a.length;){c=wd(pA(d),40);Cw(b,c.b);b.b.fillRect(v*11,B*15,11,15)}}}for(C=0;C<50;C++){for(v=0;v<100;v++){for(h=a.d,i=0,j=h.length;i<j;++i){g=h[i];if(!g.b){continue}o=g.a.Vb();Cw(b,ck);t=o[v][C]*g.c;if(t==0){break}Aw(b,''+Bd(Kd(48+t)&65535),v*11,(C+1)*15);break}}}Gk&&Yk(a,b);Cw(b,ck);w=Vk(a,b,1);++w;w=Rk(a,b,w);++w;w=Xk(a,b,w);++w;w=Qk(a,b,w);++w;w=Uk(a,b,w);if(a.o.rb>0){++w;Sk(a,b,w)}Tk(a,b);e=a.o.d;!!e&&Ok(b,by(mx(e.cd),''),a.o.Bb+2,a.o.Cb+2,ck)}
function cm(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db;qp(a.i);for(rb=0;rb<100;rb++){for(Ab=0;Ab<50;Ab++){a.k[rb][Ab]=0;Nc(a.u[rb],Ab,new uw((ww(),vw)));Nc(a.t[rb],Ab,new dw((iw(),fw)));Nc(a.g[rb],Ab,null);a.a[rb][Ab]=0;a.q[rb][Ab]=0;a.c[rb][Ab]=0;Nc(a.b[rb],Ab,new dA)}}e=Kd($wnd.Math.floor(3*YC(a.p)));if(e==0){i=new dA;V=new dA;q=YC(a.p)<0.3;ob=YC(a.p)<0.3;U=Kd(YC(a.p)*26)+5;q&&(U=U/2|0);ob&&(U=U/2|0);U=$wnd.Math.max(U,3);for(s=0;s<U;s++){Uz(V,new Lu(a))}if(q){S=(GE(0,V.a.length),wd(V.a[0],50));S.d<50&&S.d+S.f>50||(S.d=49)}if(ob){S=(GE(1,V.a.length),wd(V.a[1],50));S.e<25&&S.e+S.c>25||(S.e=24)}Lk=0.5+YC(a.p);Uz(i,wd(Yz(V,0),50));while(V.a.length>0){p=_l(a,i,V);o=p[0];ib=p[1];Nc(i.a,i.a.length,ib);Zz(V,ib);Ku(o,ib)}for(T=new rA(i);T.a<T.c.a.length;){S=wd(pA(T),50);Ju(S)}if(q){for(sb=0;sb<100;sb++){for(Ab=0;Ab<50;Ab++){!a.u[sb][Ab]&&Nc(a.u[100-sb],Ab,null)}}}if(ob){for(sb=0;sb<100;sb++){for(Ab=0;Ab<50;Ab++){!a.u[sb][Ab]&&Nc(a.u[sb],50-Ab,null)}}}}else if(e==1){N=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);for(db=1;db<14;db+=2){Z=Kd($wnd.Math.floor(-db+(db+1)*YC(a.p)));$=Kd($wnd.Math.floor(-db+(db+1)*YC(a.p)));gb=Kd($wnd.Math.ceil((100-Z)/db|0));hb=Kd($wnd.Math.ceil((50-$)/db|0));for(eb=0;eb<gb;eb++){for(fb=0;fb<hb;fb++){h=Kd($wnd.Math.floor(1001*YC(a.p)));bb=eb*db+Z;cb=fb*db+$;for(l=0;l<db;l++){for(n=0;n<db;n++){sb=bb+l;Ab=cb+n;if(sb<0||sb>=100||Ab<0||Ab>=50){continue}db==1?(N[sb][Ab]=h):(N[sb][Ab]=Kd(N[sb][Ab]*0.75+h*0.25))}}}}}R=new dA;for(tb=0;tb<100;tb++){for(Ab=0;Ab<50;Ab++){Uz(R,Ux(N[tb][Ab]))}}BA(R.a,R.a.length,null);B=wd(Wz(R,R.a.length/2|0),37).a;for(ub=0;ub<100;ub++){for(Ab=0;Ab<50;Ab++){N[ub][Ab]>B&&Nc(a.u[ub],Ab,null)}}}else if(e==2){N=Ic(Nd,[wF,PF],[30,23],15,[100,50],2);for(db=1;db<10;db+=2){ab=Kd($wnd.Math.ceil((5000/db|0)/db|0));while(ab>0){--ab;h=Kd($wnd.Math.floor(1001*YC(a.p)));sb=Kd($wnd.Math.floor(101*YC(a.p)))-(db/2|0);Ab=Kd($wnd.Math.floor(51*YC(a.p)))-(db/2|0);for(k=0;k<db;k++){for(m=0;m<db;m++){yb=sb+k;Cb=Ab+m;if(yb<0||yb>=100||Cb<0||Cb>=50){continue}N[yb][Cb]=Kd(N[yb][Cb]*0.7+h*0.3)}}}}N=zm(N);R=new dA;for(tb=0;tb<100;tb++){for(Ab=0;Ab<50;Ab++){Uz(R,Ux(N[tb][Ab]))}}BA(R.a,R.a.length,null);B=wd(Wz(R,R.a.length/2|0),37).a;for(ub=0;ub<100;ub++){for(Ab=0;Ab<50;Ab++){N[ub][Ab]>B&&Nc(a.u[ub],Ab,null)}}}for(Bb=0;Bb<50;Bb++){for(sb=0;sb<100;sb++){(sb==0||Bb==0||sb==99||Bb==49)&&Nc(a.u[sb],Bb,new uw((ww(),vw)))}}am(a);c=Kd($wnd.Math.floor(6*YC(a.p)));if(Fk){if(c==0){for(X=Kd($wnd.Math.floor(2+9*YC(a.p)));X>=0;X--){$l(a,Wp(a),Kd($wnd.Math.floor(2*YC(a.p)))==0?100:800,Kd($wnd.Math.floor(2*YC(a.p)))==0?3:30)}if(YC(a.p)<0.5){for(W=300;W>=0;W--){$l(a,Xp(a),Kd($wnd.Math.floor(2*YC(a.p)))==0?100:800,60)}}}else if(c==1){for(W=Kd($wnd.Math.floor(2+9*YC(a.p)));W>=0;W--){$l(a,(Vp(),Db=new fA(Up),LA(Db,a.p),new dB(new dz(Db,Db.a.length/2|0))),Kd($wnd.Math.floor(2*YC(a.p)))==0?100:800,Kd($wnd.Math.floor(2*YC(a.p)))==0?3:30)}}else if(c==2){for(W=Kd($wnd.Math.floor(2+9*YC(a.p)));W>=0;W--){lm(a,Xp(a),Kd($wnd.Math.floor(2*YC(a.p)))==0?100:800,Kd($wnd.Math.floor(2*YC(a.p)))==0?3:30)}}else c==3?lm(a,(Vp(),Tp),50,50):c==4&&$l(a,(Vp(),Sp),50,50)}np(a.i,a.o,a);_r(a.o);if(YC(a.p)<0.5){vm(a);if(YC(a.p)<0.5){Q=Kd($wnd.Math.floor(2+4*YC(a.p)));for(K=new rA(a.j);K.a<K.c.a.length;){J=wd(pA(K),18);for(k=-Q;k<=Q;k++){for(m=-Q;m<=Q;m++){sb=J.a+k;Ab=J.b+m;if(sb<0||Ab<0||sb>=100||Ab>=50){continue}a.k[sb][Ab]==0&&(k==Q||k==-Q||m==Q||m==-Q?Nc(a.u[sb],Ab,new uw((ww(),vw))):Nc(a.u[sb],Ab,null))}}}}}while(true){sb=Kd(YC(a.p)*100);Ab=Kd(YC(a.p)*50);if(a.u[sb][Ab]){continue}Nc(a.t[sb],Ab,new dw((iw(),ew)));a.s=new vs(sb,Ab);break}L=new yk(a,a.o.Bb,a.o.Cb,a.o);if(!L.o[a.s.a][a.s.b]){lb=new Ak(a,a.o.Bb,a.o.Cb,a.o,true);kb=tk(lb,a.s.a,a.s.b);for(I=new rA(kb);I.a<I.c.a.length;){H=wd(pA(I),21);Nc(a.u[H.c],H.d,null)}}for(vb=0;vb<100;vb++){for(Ab=0;Ab<50;Ab++){if(a.u[vb][Ab]){for(k=-1;k<2;k++){for(m=-1;m<2;m++){mb=vb+k;nb=Ab+m;if(mb<0||nb<0||mb>=100||nb>=50){++a.a[tw(mb,0,99)][tw(nb,0,49)];continue}++a.a[mb][nb]}}}}}for(wb=0;wb<100;wb++){for(Ab=0;Ab<50;Ab++){if(a.u[wb][Ab]){for(k=-3;k<4;k++){for(m=-3;m<4;m++){mb=wb+k;nb=Ab+m;if(mb<0||nb<0||mb>=100||nb>=50){++a.q[tw(mb,0,99)][tw(nb,0,49)];continue}++a.q[mb][nb]}}}}}for(xb=0;xb<100;xb++){for(Ab=0;Ab<50;Ab++){b=a.a[xb][Ab];d=a.q[xb][Ab];g=d*9/49;j=Kd($wnd.Math.floor(b*(1-Nl)+g*Nl+1));a.c[xb][Ab]=j}}pb=bm(a);for(u=(en(),Oc(Gc(ue,1),lF,32,0,[$m,an,cn,dn,bn,_m])),v=0,w=u.length;v<w;++v){t=u[v];jb=t.Yb(a);while(jb>0){qb=Kd(YC(a.p)*100);Ab=Kd(YC(a.p)*50);if(a.u[qb][Ab]){continue}Nc(a.g[qb],Ab,new Zm(t,a));--jb}}if(Nk){G=No(a.e);D=pb/80|0;for(s=0;s<D;s++){P=null;F=wd(Wz(G,xm(a,0,G.a.length-1)),26);for(A=0;A<F.d;A++){C=Lo(F,a);C.cb=a.e;Hr(C);np(a.i,C,a);if(!P){np(C.X.i,C,C.X)}else{O=rm(a,C.Bb,C.Cb);O?tp(a.i,C,O.a,O.b):np(C.X.i,C,C.X)}P=C}}}for(r=0;r<Ik;r++){f=new fs(a);f.n=false;f.b=true;np(a.i,f,a)}Y=0;for(zb=0;zb<50;zb++){for(qb=0;qb<100;qb++){if(!!a.u[qb][zb]&&!!sp(a.i,qb,zb)){throw yi(new Vb('monster stuck in wall : '+sp(a.i,qb,zb)))}a.t[qb][zb].a==(iw(),ew)&&++Y}}if(Y==0){throw yi(new Vb('no stairs'))}a.o.j=new yk(a,a.o.Bb,a.o.Cb,a.o);M=uk(a.o.j,a.s.a,a.s.b);if(M.a.length==0){throw yi(new Vb("can't reach stairs, player at "+a.o.Bb+AF+a.o.Cb+' and stairs at '+a.s))}++a.e}
var $E='object',_E='number',aF='function',bF=2147483647,cF='__noinit__',dF='__java$exception',eF={3:1,25:1,14:1,17:1},fF='null',gF=4194303,hF=1048575,iF=524288,jF=4194304,kF=17592186044416,lF={3:1,7:1,4:1,11:1,5:1},mF=0.10000000149011612,nF=0.20000000298023224,oF=0.30000001192092896,pF=0.4000000059604645,qF=0.6000000238418579,rF=0.699999988079071,sF=0.800000011920929,tF=0.8500000238418579,uF=0.8999999761581421,vF=0.949999988079071,wF={3:1,7:1,4:1,16:1,5:1},xF={273:1,3:1,4:1,11:1,5:1},yF={3:1,4:1,5:1},zF=1111,AF=', ',BF='MANA_SHIELD',CF='MANA_BREAK',DF='REFRACTION',EF='GOD_STRENGTH',FF='INNER_BEAST',GF='STRAFE',HF='INSATIABLE_HUNGER',IF='DIABOLIC_EDICT',JF='BATTERY_ASSAULT',KF='SAND_IN_EYES',LF='FIRE_BRAND',MF='ICE_BLOCK',NF=1.399999976158142,OF=1.100000023841858,PF={30:1,3:1,4:1},QF={3:1,4:1},RF={32:1,3:1,6:1,8:1},SF=' health.',TF={26:1},UF={3:1,4:1,11:1,5:1},VF={133:1,3:1,4:1,5:1},WF={75:1,3:1,4:1},XF={9:1,3:1,6:1,8:1},YF='BLACK_HOLE',ZF='PIT_OF_MALICE',$F='DOPPLEGANGER',_F='SAND_STORM',aG='LIGHTNING_BOLT',bG="Can't cast while stunned!",cG={84:1,3:1,4:1},dG={12:1,6:1},eG=0.009999999776482582,fG=1.2000000476837158,gG=1.2999999523162842,hG=1.7000000476837158,iG=1.850000023841858,jG={29:1,28:1,31:1},kG={29:1,28:1,31:1,48:1},lG={13:1,3:1,6:1,8:1},mG=3.141592653589793,nG=6.283185307179586,oG=0.5235987755982988,pG={44:1,3:1,6:1,8:1},qG={29:1,28:1,62:1,31:1,33:1},rG={3:1,4:1,61:1},sG={3:1,4:1,29:1,28:1,31:1,48:1},tG='delete',uG=1.4901161193847656E-8,vG=1.1102230246251565E-16,wG=15525485,xG=5.9604644775390625E-8,yG=16777216,zG=16777215,AG={3:1,6:1,8:1,52:1},BG='fromIndex: 0 > toIndex: ',CG='fromIndex: 0, toIndex: ',DG=', length: ',EG='Index: ',FG=', Size: ';var _,Mi,Hi,wi=-1;Ni();Oi(1,null,{},Eb);_.Db=function Fb(a){return this===a};_.Eb=function Hb(){return this.cd};_.Fb=function Jb(){return RE(this)};_.Gb=function Lb(){var a;return lx(Ib(this))+'@'+(a=Kb(this)>>>0,a.toString(16))};_.equals=function(a){return this.Db(a)};_.hashCode=function(){return this.Fb()};_.toString=function(){return this.Gb()};var sd,td,ud;Oi(101,1,{},nx);_.Cc=function ox(a){var b;b=new nx;b.e=4;a>1?(b.c=ux(this,a-1)):(b.c=this);return b};_.Dc=function tx(){kx(this);return this.b};_.ic=function vx(){return lx(this)};_.Ec=function xx(){return mx(this)};_.Fc=function zx(){return (this.e&4)!=0};_.Gc=function Ax(){return (this.e&1)!=0};_.Gb=function Dx(){return ((this.e&2)!=0?'interface ':(this.e&1)!=0?'':'class ')+(kx(this),this.k)};_.e=0;_.g=0;var jx=1;var $g=qx(1);var Pg=qx(101);Oi(17,1,{3:1,17:1});_.Hb=function Pb(a){return new Error(a)};_.Ib=function Rb(){return this.f};_.Jb=function Sb(){var a,b,c;c=this.f==null?null:this.f.replace(new RegExp('\n','g'),' ');b=(a=lx(this.cd),c==null?a:a+': '+c);Nb(this,Qb(this.Hb(b)));yc(this)};_.Gb=function Tb(){return Ob(this,this.Ib())};_.e=cF;_.g=true;var eh=qx(17);Oi(25,17,{3:1,25:1,17:1});var Sg=qx(25);Oi(14,25,eF,Vb);var _g=qx(14);Oi(86,14,eF);var Xg=qx(86);Oi(140,86,eF);var Rd=qx(140);Oi(67,140,{67:1,3:1,25:1,14:1,17:1},Zb);_.Ib=function ac(){Yb(this);return this.c};_.Kb=function bc(){return Jd(this.b)===Jd(Wb)?null:this.b};var Wb;var Od=qx(67);var Pd=qx(0);Oi(274,1,{});var Qd=qx(274);var dc=0,ec=0,fc=-1;Oi(163,274,{},tc);var pc;var Sd=qx(163);var wc;Oi(285,1,{});var Wd=qx(285);Oi(141,285,{},Bc);_.Lb=function Cc(a){var b={},j;var c=[];a['fnStack']=c;var d=arguments.callee.caller;while(d){var e=(xc(),d.name||(d.name=zc(d.toString())));c.push(e);var f=':'+e;var g=b[f];if(g){var h,i;for(h=0,i=g.length;h<i;h++){if(g[h]===d){return}}}(g||(b[f]=[])).push(d);d=d.caller}};var Td=qx(141);Oi(286,285,{});_.Lb=function Dc(a){};var Vd=qx(286);Oi(142,286,{},Ec);var Ud=qx(142);var Qc;var nd,od,pd,qd;var Vi;Oi(40,1,{40:1},Xi);_.c=0;var Xd=qx(40);Oi(287,1,{61:1});_.Nb=function _i(a){return Yi(this,a)};_.Ob=function aj(a){return !!Zi(this,a)};_.Db=function bj(a){var b,c,d;if(a===this){return true}if(!Dd(a,61)){return false}d=wd(a,61);if(this.Rb()!=d.Rb()){return false}for(c=d.Pb().xc();c.Mc();){b=wd(c.Nc(),19);if(!this.Nb(b)){return false}}return true};_.Qb=function cj(a){return dj(Zi(this,a))};_.Fb=function ej(){return JA(this.Pb())};_.Rb=function fj(){return this.Pb().Rb()};_.Gb=function gj(){var a,b,c;c=new pD('{','}');for(b=this.Pb().xc();b.Mc();){a=wd(b.Nc(),19);oD(c,$i(this,a.Uc())+'='+$i(this,a.Vc()))}return !c.a?c.c:c.e.length==0?c.a.a:c.a.a+(''+c.e)};var th=qx(287);Oi(289,287,{61:1});_.Nb=function jj(a){return hj(this,a)};_.Ob=function kj(a){return ij(this,a)};_.Pb=function lj(){return new Bz(this)};_.Qb=function mj(a){return dj(this.Tb(a))};var xh=qx(289);Oi(108,289,{3:1,61:1});_.Sb=function zj(){return new tD(this)};_.Pb=function Aj(){return new yD(this)};_.Tb=function Bj(a){return oj(this,a)};_.Rb=function Cj(){return this.c};_.c=0;var ji=qx(108);Oi(167,108,{3:1,61:1},Hj);_.Qb=function Ij(a){return Fj(this,a)};var Yd=qx(167);Oi(8,1,{3:1,6:1,8:1});_.Ub=function Lj(a){return Jj(this,wd(a,8))};_.Db=function Mj(a){return this===a};_.Fb=function Nj(){return RE(this)};_.Gb=function Oj(){return this.g!=null?this.g:''+this.i};_.i=0;var Rg=qx(8);Oi(72,8,{72:1,3:1,6:1,8:1},Tj);var Pj,Qj,Rj;var Zd=rx(72,Uj);Oi(10,1,{10:1},kk,lk,mk,nk,ok);_.Gb=function pk(){return 'Color [r='+this.d+', g='+this.c+', b='+this.b+', a='+this.a+']'};_.a=0;_.b=0;_.c=0;_.d=0;var Vj,Wj,Xj,Yj,Zj,$j,_j,ak,bk,ck,dk;var $d=qx(10);Oi(27,1,{27:1},xk,yk,zk,Ak);_.f=0;_.g=0;_.j=0;_.p=0;_.q=false;_.r=0;var ae=qx(27);Oi(21,1,{21:1,6:1},Ck);_.Ub=function Dk(a){return Bk(this,wd(a,21))};_.Gb=function Ek(){return 'Node [x='+this.c+', y='+this.d+', cost='+this.a+']'};_.a=0;_.c=0;_.d=0;var _d=qx(21);var Fk=true,Gk=false,Hk=false,Ik=3,Jk=70000,Kk=true,Lk=uF,Mk=100,Nk=false;Oi(24,8,{24:1,3:1,6:1,8:1},sl,tl);_.a=false;var Zk,$k,_k,al,bl,cl,dl,el,fl,gl,hl,il,jl,kl,ll,ml,nl,ol,pl,ql;var be=rx(24,ul);var vl=0,wl=2,xl=vF,yl=1.25,zl=vF,Al=6,Bl=10,Cl=10,Dl=0.25,El=NF,Fl=tF,Gl=4,Hl=OF,Il=3,Jl=6,Kl=5,Ll=1,Ml=false,Nl=0.6499999761581421,Ol=30,Pl=4,Ql=1.600000023841858,Rl=0.5,Sl=7;Oi(81,8,{81:1,3:1,6:1,8:1},Wl);var Tl,Ul;var ce=rx(81,Xl);Oi(135,1,{},Bm);_.e=1;_.r=true;var ne=qx(135);Oi(149,1,{},Em);var de=qx(149);Oi(150,1,{},Gm);var ee=qx(150);Oi(56,1,{56:1},Hm);_.b=false;_.c=0;var fe=qx(56);Oi(148,1,{},Im);_.Db=function Km(a){return this===a};_.Wb=function Jm(a,b){return -Nx(wd(a,33).Rb(),wd(b,33).Rb())};var ge=qx(148);Oi(143,1,{},Lm);_.Vb=function Mm(){return this.a.a};var he=qx(143);Oi(144,1,{},Nm);_.Vb=function Om(){return this.a.q};var ie=qx(144);Oi(145,1,{},Pm);_.Vb=function Qm(){return this.a.c};var je=qx(145);Oi(146,1,{},Rm);_.Vb=function Sm(){return this.a.k};var ke=qx(146);Oi(147,1,{},Tm);_.Vb=function Um(){return Zl(this.a.o.j.o)};var le=qx(147);Oi(151,1,{},Vm);_.Db=function Xm(a){return this===a};_.Wb=function Wm(a,b){return Dm(this.a,this.b,a,b)};_.a=0;_.b=0;var me=qx(151);Oi(88,1,{88:1},Zm);_.a=0;var ve=qx(88);Oi(32,8,RF);_.c=0;var $m,_m,an,bn,cn,dn;var ue=rx(32,gn);Oi(171,32,RF,hn);_.Xb=function jn(){return 999999};_.Yb=function kn(a){return Kd(pm(a,a.e+10,10))};_.Zb=function ln(a,b){b.Y+=a.a;Er(b,'Got $'+a.a+'.',(ek(),dk))};_.$b=function mn(a){};_._b=function nn(a){return 1+Kd(YC(a.p)*10)};var oe=rx(171,null);Oi(172,32,RF,pn);_.Xb=function qn(){return Il};_.Yb=function rn(a){return Cl};_.Zb=function sn(a,b){Gr(b,a)};_.$b=function tn(a){on(this,a)};_._b=function un(a){return 1};var pe=rx(172,null);Oi(173,32,RF,wn);_.Xb=function xn(){return 5};_.Yb=function yn(a){return Bl};_.Zb=function zn(a,b){Gr(b,a)};_.$b=function An(a){vn(this,a)};_._b=function Bn(a){return 1};var qe=rx(173,null);Oi(174,32,RF,Dn);_.Xb=function En(){return 5};_.Yb=function Fn(a){return Kd(pm(a,Dl,2))};_.Zb=function Gn(a,b){Gr(b,a)};_.$b=function Hn(a){Cn(this,a)};_._b=function In(a){return 1};var re=rx(174,null);Oi(175,32,RF,Kn);_.Xb=function Ln(){return 5};_.Yb=function Mn(a){return Al};_.Zb=function Nn(a,b){Gr(b,a)};_.$b=function On(a){Jn(this,a)};_._b=function Pn(a){return 1};var se=rx(175,null);Oi(176,32,RF,Rn);_.Xb=function Sn(){return 50};_.Yb=function Tn(a){return Kd($wnd.Math.floor(3+YC(a.p)))};_.Zb=function Un(a,b){Gr(b,a)};_.$b=function Vn(a){Qn(a)};_._b=function Wn(a){return Kd($wnd.Math.floor(10+11*YC(a.p)))};var te=rx(176,null);Oi(226,1,{},Zn);var Xn;var we=qx(226);Oi(35,1,{35:1});_.ac=function qo(){var a,b,c,d,e,f,g,h,i,j,k,l,m;--this.pb;oo(this);l=null;m=false;for(j=(k=(new iz(this.X.i.b.a)).a.Pb().xc(),new mz(k));j.a.Mc();){i=(h=wd(j.a.Nc(),19),wd(h.Uc(),35));if(Dd(i,42)){m=jo(this,i.Bb,i.Cb);if(m){l=wd(i,42);break}}}if(io(this,(rl(),ml))){m=false;this.mb=false}bo(this);if((m||this.mb)&&YC(this.X.p)>this.C){if(m){this.mb=true;this.yb=l.Bb;this.zb=l.Cb}f=this.yb-this.Bb;g=this.zb-this.Cb;d=f>0?1:f<0?-1:0;e=g>0?1:g<0?-1:0;a=Ic(Nd,[wF,PF],[30,23],15,[3,2],2);for(c=0;c<3;c++){a[c][0]=d;a[c][1]=e}if(f*f>g*g){a[1][1]=0;a[2][0]=0}else{a[1][0]=0;a[2][1]=0}for(b=0;b<3;b++){d=a[b][0];e=a[b][1];if(!this.X.u[this.Bb+d][this.Cb+e]){break}}this.kc(d,e)}else{f=xm(this.X,-1,1);g=xm(this.X,-1,1);this.kc(f,g)}};_.bc=function ro(a,b){_n(this,a,b)};_.cc=function so(){return this.Ab.b};_.dc=function to(){return this.Ab.c};_.ec=function uo(a){fo(this,a)};_.fc=function vo(a){go(this,a)};_.gc=function wo(){return this.Ab.a};_.hc=function xo(){return this.D};_.ic=function yo(){return this.Ab.d};_.jc=function zo(){return this.Ab.f};_.kc=function Ao(a,b){mo(this,a,b)};_.lc=function Bo(a,b,c,d,e){return no(this,a,b,c)};_.mc=function Co(){var a;a=Dd(this,42)?1:El;return YC(this.X.p)*(this.Ab.e+this.cb)*a};_.A=0;_.B=1.690000057220459;_.C=0.3;_.D=0;_.F=1;_.G=16.1299991607666;_.H=0.31;_.I=28.26;_.J=2.17;_.K=17.729999542236328;_.L=0.25;_.M=200;_.N=75;_.O=19.969999313354492;_.R=0;_.S=false;_.U=0;_.V=0;_.Y=0;_.Z=0;_.$=0;_._=0;_.ab=1.8200000524520874;_.cb=1;_.fb=1;_.gb=0;_.hb=0;_.ib=0;_.kb=0;_.lb=0;_.mb=false;_.nb=0;_.pb=0;_.qb=7;_.rb=3;_.sb=0;_.tb=0;_.ub=2.3399999141693115;_.vb=false;_.xb=0;_.yb=0;_.zb=0;_.Bb=10;_.Cb=10;var Ne=qx(35);Oi(160,1,{},Do);_.nc=function Eo(a){return wd(a,9).rc()};var xe=qx(160);Oi(161,1,{},Fo);_.nc=function Go(a){return wd(a,9).qc()};var ye=qx(161);Oi(162,1,{},Ho);_.nc=function Io(a){return ko(this.a,a)};var ze=qx(162);Oi(26,1,TF);_.b=0;_.d=0;_.e=0;_.f=0;_.g=0;var Jo;var Je=qx(26);Oi(177,26,TF,Oo);_.oc=function Po(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new Ns(a),new dt(a)]))};_.pc=function Qo(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),vq),oq]))};var Ae=qx(177);Oi(178,26,TF,Ro);_.oc=function So(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new Ns(a),new dt(a),new Fs(a),new Ks(a),new Zs(a),new jt(a),new mt(a),new pt(a),new Bt(a)]))};_.pc=function To(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),Yp),oq,_p]))};var Be=qx(178);Oi(179,26,TF,Uo);_.oc=function Vo(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a),new Ks(a)]))};_.pc=function Wo(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),vq),oq]))};var Ce=qx(179);Oi(180,26,TF,Xo);_.oc=function Yo(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a),new au(a)]))};_.pc=function Zo(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),kq),qq,lq,nq]))};var De=qx(180);Oi(181,26,TF,$o);_.oc=function _o(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a),new Ks(a),new mu(a),new Nt(a)]))};_.pc=function ap(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),Yp),oq,uq,dq]))};var Ee=qx(181);Oi(182,26,TF,bp);_.oc=function cp(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a),new gu(a),new Kt(a)]))};_.pc=function dp(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),kq),qq,rq,cq]))};var Fe=qx(182);Oi(183,26,TF,ep);_.oc=function fp(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a)]))};_.pc=function gp(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),vq),oq,sq,nq]))};var Ge=qx(183);Oi(184,26,TF,hp);_.oc=function ip(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a),new Ns(a),new Tt(a)]))};_.pc=function jp(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),Yp),qq,fq]))};var He=qx(184);Oi(185,26,TF,kp);_.oc=function lp(a){return new DA(Oc(Gc(Xf,1),UF,12,0,[new Cs(a),new dt(a),new Zt(a)]))};_.pc=function mp(){return new DA(Oc(Gc(pf,1),lF,9,0,[(wq(),Yp),oq,jq]))};var Ie=qx(185);Oi(164,1,{},vp);var Le=qx(164);Oi(89,1,{89:1},wp);_.b=0;_.c=0;var Ke=qx(89);Oi(43,8,{43:1,3:1,6:1,8:1},Gp);_.b=0;_.c=0;_.e=0;_.f=0;var xp,yp,zp,Ap,Bp,Cp,Dp,Ep;var Me=rx(43,Hp);var Ip;Oi(255,1,{},Mp);_.Gb=function Np(){var a,b,c,d,e,f,g,h,i,j,k,l;l=new sC;oC(l,this.a.length);for(g=this.b,h=0,i=g.length;h<i;++h){f=g[h];oC(l,f)}for(b=this.a,c=0,d=b.length;c<d;++c){a=b[c];Op(a,l)}e=new iy;for(k=qC(l,0);k.b!=k.d.c;){j=xd(wC(k));hy((e.a+=''+j,e),',')}return e.a};var Pe=qx(255);Oi(94,1,{94:1},Rp);_.b=0;_.c=0;var Oe=qx(94);var Sp,Tp,Up;Oi(9,8,XF);_.qc=function yq(){return false};_.rc=function zq(){return false};var Yp,Zp,$p,_p,aq,bq,cq,dq,eq,fq,gq,hq,iq,jq,kq,lq,mq,nq,oq,pq,qq,rq,sq,tq,uq,vq;var pf=rx(9,Aq);Oi(200,9,XF,Bq);_.sc=function Cq(a){Wr(a,(hv(),Pu))};var $e=rx(200,null);Oi(209,9,XF,Dq);_.sc=function Eq(a){Wr(a,(hv(),bv))};var Qe=rx(209,null);Oi(210,9,XF,Fq);_.sc=function Gq(a){Wr(a,(hv(),Uu))};var Re=rx(210,null);Oi(211,9,XF,Hq);_.sc=function Iq(a){Wr(a,(hv(),dv))};var Se=rx(211,null);Oi(212,9,XF,Jq);_.sc=function Kq(a){Wr(a,(hv(),Wu))};var Te=rx(212,null);Oi(213,9,XF,Lq);_.sc=function Mq(a){Wr(a,(hv(),$u))};var Ue=rx(213,null);Oi(214,9,XF,Nq);_.sc=function Oq(a){Wr(a,(hv(),Nu))};var Ve=rx(214,null);Oi(215,9,XF,Pq);_.sc=function Qq(a){Wr(a,(hv(),Xu))};var We=rx(215,null);Oi(216,9,XF,Rq);_.sc=function Sq(a){Wr(a,(hv(),Ru))};var Xe=rx(216,null);Oi(217,9,XF,Tq);_.sc=function Uq(a){$n(a,(rl(),il),bF)};var Ye=rx(217,null);Oi(218,9,XF,Vq);_.sc=function Wq(a){$n(a,(rl(),jl),bF)};var Ze=rx(218,null);Oi(201,9,XF,Xq);_.sc=function Yq(a){Wr(a,(hv(),Zu))};var gf=rx(201,null);Oi(219,9,XF,Zq);_.sc=function $q(a){Wr(a,(hv(),Tu))};var _e=rx(219,null);Oi(220,9,XF,_q);_.sc=function ar(a){Wr(a,(hv(),fv))};var af=rx(220,null);Oi(221,9,XF,br);_.sc=function cr(a){$n(a,(rl(),fl),bF)};var bf=rx(221,null);Oi(222,9,XF,dr);_.sc=function er(a){Wr(a,(hv(),_u))};var cf=rx(222,null);Oi(223,9,XF,fr);_.sc=function gr(a){Wr(a,(hv(),gv))};var df=rx(223,null);Oi(224,9,XF,hr);_.sc=function ir(a){a.V=15};var ef=rx(224,null);Oi(225,9,XF,jr);_.sc=function kr(a){Wr(a,(hv(),Vu))};var ff=rx(225,null);Oi(202,9,XF,lr);_.sc=function mr(a){Wr(a,(hv(),Su))};var hf=rx(202,null);Oi(203,9,XF,nr);_.sc=function or(a){Wr(a,(hv(),Yu))};var jf=rx(203,null);Oi(204,9,XF,pr);_.rc=function qr(){return true};_.sc=function rr(a){a.P=(Sj(),Rj);a.O+=3.62;a.ub+=1;a.G+=-1;a.B+=-1;a.K+=-0.5800000000000001;a.ab+=-1;a.J+=0.55;a.H+=0;a.I+=5.71};var kf=rx(204,null);Oi(205,9,XF,sr);_.rc=function tr(){return true};_.sc=function ur(a){a.P=(Sj(),Pj);a.O+=0;a.ub+=0;a.G+=5.84;a.B+=2.34;a.K+=0;a.ab+=0.06;a.J+=0.39;a.H+=0.31;a.I+=0.87};var lf=rx(205,null);Oi(206,9,XF,vr);_.rc=function wr(){return true};_.sc=function xr(a){a.P=(Sj(),Qj);a.O+=0.49;a.ub+=0.13;a.G+=0.92;a.B+=0.07;a.K+=5.04;a.ab+=1.64;a.J+=0;a.H+=0.07;a.I+=0};var mf=rx(206,null);Oi(207,9,XF,yr);_.qc=function zr(){return true};_.sc=function Ar(a){a.W=(Vl(),Ul);a.F+=2;a.O+=-2.44;a.ub+=-0.52;a.G+=-0.21;a.B+=0.03;a.K+=1.69;a.ab+=0.55;a.J+=-0.72;a.H+=-0.74;a.I+=-6.22};var nf=rx(207,null);Oi(208,9,XF,Br);_.qc=function Cr(){return true};_.sc=function Dr(a){a.W=(Vl(),Tl);a.O-=-1.83;a.ub-=-0.39;a.G-=-0.21;a.B-=0.03;a.K-=1.69;a.ab-=0.55;a.J-=-0.36;a.H-=-0.37;a.I-=-3.11};var of=rx(208,null);Oi(42,35,{35:1,42:1},fs);_.ac=function gs(){var a,b,c,d,e,f,g;++this.sb;if(lo(this,(rl(),_k))){this.jb=null;this.wb=new bw}if(lo(this,bl)){this.Z=0;this.S=true}io(this,Zk)&&this.T[11]%2==1&&um(this.k,this.Bb,this.Cb,1,new Xi(this,(hv(),Ou),1,new ok(90,128,219,64)));if(io(this,al)){b=qm(this.k,this.Bb,this.Cb,2);Zz(b,this);if(b.a.length!=0){g=wd(Wz(b,xm(this.k,0,b.a.length-1)),35);Kr(this,g,'diabolic edict',40)}um(this.k,this.Bb,this.Cb,2,new Xi(this,(hv(),av),2,new ok(165,128,219,64)))}bo(this);for(d=jv(),e=0,f=d.length;e<f;++e){c=d[e];this.Q[c.i]>0&&--this.Q[c.i]}oo(this);this.Z=$wnd.Math.min(this.Z+this.$,this.kb);this.hb=$wnd.Math.min(this.hb+this.ib,this.lb);if(io(this,el)){this.Z=$wnd.Math.min(this.Z+this.$,this.kb);this.hb=$wnd.Math.min(this.hb+this.ib,this.lb)}while(this.rb>0&&this.b){a=ho(this);Fr(this,wd(a.Qc(xm(this.k,0,a.Rb()-1)),9))}if(!this.n){Zr(this);Lr(this,this.k)}};_.bc=function hs(a,b){Er(this,a,b)};_.cc=function is(){return Kd(this.M+this.tb*20)};_.dc=function js(){return Kd(this.N+this._*12)};_.ec=function ks(a){Mr(this,a)};_.fc=function ls(a){go(this,a);Hr(this)};_.gc=function ms(){return this.i};_.hc=function ns(){var a;a=this.D;io(this,(rl(),$k))&&(a+=2);return a};_.ic=function os(){return this.o};_.jc=function ps(){return this.u};_.kc=function qs(a,b){Xr(this,a,b)};_.lc=function rs(a,b,c,d,e){var f,g,h;if(io(this,(rl(),el))){Er(this,'Your ice block absorbs '+Kd(a)+' damage!',(ek(),Wj));return 0}this.vb=true;if(d==0){f=1-0.06*this.D/(1.06+$wnd.Math.abs(this.D));a*=f}else if(d==1){g=1-this.gb;a*=g}if(io(b,il)){h=$wnd.Math.min(6,this.hb);h>0&&Er(this,b.Ab.d+'('+b.cb+')'+' burns your mana for '+h+'.',(ek(),ck));this.hb-=h;a+=h}if(io(this,jl)){h=$wnd.Math.ceil(a*7/10);h>this.hb&&(h=this.hb);h>0&&Er(this,'Your mana shield absorbs '+Kd(h)+' damage!',(ek(),Wj));a-=h;this.hb-=h}if(io(this,kl)&&a>0){Er(this,'Refraction absorbs a hit!',(ek(),$j));a=0;ao(this,kl)}a=no(this,a,b,c);e&&this.V>0&&b.lc(this.V,this,'thorns',1,false);this==this.k.o&&(a==0?Er(this,b.ic()+' attacks but does no damage.',(ek(),ck)):Er(this,b.ic()+' hits you for '+Kd(a)+SF,(ek(),bk)));return a};_.mc=function ss(){var a;a=this.R;a=wm(this.k,a*0.9,a/0.9);io(this,(rl(),dl))&&(a*=2);io(this,gl)&&(a+=14);return a};_.b=false;_.e=false;_.f=false;_.g=false;_.n=false;_.u=0;_.v=0;_.w=0;var rf=qx(42);Oi(159,1,{},ts);_.nc=function us(a){return Dd(wd(a,12),78)||Dd(wd(a,12),38)||Dd(wd(a,12),79)||Dd(wd(a,12),80)||Dd(wd(a,12),71)||Dd(wd(a,12),59)};var qf=qx(159);Oi(18,1,{18:1},vs);_.Db=function ws(a){var b;if(this===a)return true;if(a==null)return false;if(sf!=Ib(a))return false;b=wd(a,18);if(this.a!=b.a)return false;if(this.b!=b.b)return false;return true};_.Fb=function xs(){var a;a=31+this.a;a=31*a+this.b;return a};_.Gb=function ys(){return '('+this.a+AF+this.b+')'};_.a=0;_.b=0;var sf=qx(18);Oi(12,1,dG);_.Ub=function Bs(a){return zs(this,wd(a,12))};_.i=0;var Xf=qx(12);Oi(46,12,dG,Cs);_.tc=function Ds(){var a;this.a=Nr(this.g);if(!this.a){this.i=0;return}this.b=Rr(this.g,this.a.a,this.a.b);Yz(this.b,0);if(this.b.a.length==0){this.i=0;return}a=this.g.Z<(this.g.kb/2|0);if(a){this.i=0.5;return}this.i=1};_.uc=function Es(){var a,b,c,d,e,f,g,h;if(!this.a){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}g=wd(Yz(this.b,0),21);a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));h=sp(this.g.k.i,this.a.a,this.a.b);if(a<=this.g.F){if(this.g.F>1){co(this.g,h)}else{c=g.c-this.g.Bb;e=g.d-this.g.Cb;Xr(this.g,c,e)}return}if(a>h.F){if(this.g.Z<(this.g.kb/2|0)){Xr(this.g,0,0);return}}f=this.g.Z<this.g.kb*zl;if(f&&a==2){Xr(this.g,0,0);return}b=g.c-this.g.Bb;d=g.d-this.g.Cb;Xr(this.g,b,d)};var tf=qx(46);Oi(115,12,dG,Fs);_.tc=function Gs(){var a,b,c,d,e;if(!Ur(this.g,(en(),_m))){this.i=0;return}this.a=Nr(this.g);if(!this.a){this.i=0;return}if(!jo(this.g,this.a.a,this.a.b)){this.i=0;return}e=sp(this.g.k.i,this.a.a,this.a.b);!e&&Bi(Date.now());b=this.g.Z<=e.Z;c=this.g.Z<(this.g.kb*6/10|0);if(!b&&!c&&Fj(this.g.c,_m).a<=Kl){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a<2){this.i=0;return}d=Ql;this.g.F>1&&(d/=2);this.i=d};_.uc=function Hs(){if(!this.a){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}Qn((en(),_m,this.g));return};var uf=qx(115);Oi(70,12,dG,Ks);_.tc=function Ls(){Is(this)};_.uc=function Ms(){Js(this)};var vf=qx(70);Oi(59,12,{12:1,59:1,6:1},Ns);_.tc=function Os(){var a,b,c,d,e,f,g,h,i;a=this.g.Z<=(this.g.kb/4|0);if(!a){this.i=0;return}this.a=Nr(this.g);if(!this.a){this.i=0;return}d=sp(this.g.k.i,this.a.a,this.a.b);g=d.Z<this.g.Z;if(this.g.j.r==1&&g){this.i=0;return}Dd(d,42)?(c=wd(d,42).j):(c=new xk(this.g.k,this.a.a,this.a.b));this.b=null;for(h=-3;h<=3;h++){for(i=-3;i<=3;i++){e=this.g.Bb+h;f=this.g.Cb+i;if(e<0||f<0||e>=100||f>=50){continue}if(!c){continue}b=c.o[e][f];if(!b){continue}(!this.b||this.b.a<b.a)&&(this.b=b)}}!!this.b&&this.b.c==this.g.Bb&&this.b.d==this.g.Cb&&(this.b=null);if(!this.b){this.i=0;return}this.c=uk(this.g.j,this.b.c,this.b.d);if(this.c.a.length==0){this.i=0;return}Yz(this.c,0);if(this.c.a.length==0){this.i=0;return}this.i=1.7999999523162842};_.uc=function Ps(){var a,b,c;c=wd(Yz(this.c,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Xr(this.g,a,b)};var wf=qx(59);Oi(78,12,{12:1,78:1,6:1},Ts);_.tc=function Us(){var a,b,c,d,e,f,g,h,i;this.d-=0.01;this.d<0&&(this.d=0);if(this.g.k.i.b.a.Rb()==1){this.i=0;return}if(Ml){this.a=Nr(this.g);this.b=Pr(this.g);this.f=Sr(this.g);g=this.b;!g&&(g=this.f);h=!!g&&g.a==this.g.Bb&&g.b==this.g.Cb;Qs(this,g);i=Oc(Gc(Md,1),WF,23,15,[!this.a?0:1,Rs(this,this.a),Ss(this,this.a),!this.b?0:1,!this.f?0:1,Rs(this,g),Ss(this,g),this.g.Z/this.g.kb,this.g.j.r,h?1:0]);As(this,1/(1+$wnd.Math.pow(2.718281828459045,-Lp(this.c,i)[0]))*2);return}this.a=Nr(this.g);this.b=Pr(this.g);this.f=Sr(this.g);c=this.b;!c&&(c=this.f);if(!this.a){this.i=0;return}if(!c){this.i=0;return}b=c.a==this.g.Bb&&c.b==this.g.Cb;if(!c||b){this.i=0;return}a=this.g.Z>this.g.kb*Fl;e=this.g.j.r;if(a&&e<Gl){this.i=0;return}d=sp(this.g.k.i,this.a.a,this.a.b);f=d.Z<this.g.Z;if(this.g.j.r==1&&f){this.i=0;return}this.e=Rr(this.g,c.a,c.b);Yz(this.e,0);if(this.e.a.length==0){this.i=0;return}As(this,Hl)};_.uc=function Vs(){var a,b,c;if(!this.e||this.e.a.length==0){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}c=wd(Yz(this.e,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Xr(this.g,a,b);++this.g.w;this.d+=0.03;this.d>0.5&&(this.d*=2)};_.d=0;var xf=qx(78);Oi(190,12,dG,Ws);_.tc=function Xs(){if(bs(this.g)){this.i=0;return}this.b=this.g.k.s;if(!this.b){this.i=0;return}if(this.b.a==this.g.Bb&&this.b.b==this.g.Cb){this.i=0;return}try{this.a=Rr(this.g,this.b.a,this.b.b);if(!this.a){this.i=0;return}}catch(a){a=xi(a);if(Dd(a,25)){this.a=null;this.i=eG;return}else throw yi(a)}if(this.a.a.length==0){this.i=0;return}Yz(this.a,0);if(this.a.a.length==0){this.i=0;return}this.i=eG};_.uc=function Ys(){var a,b,c;if(!this.a||this.a.a.length==0){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}c=wd(Yz(this.a,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Xr(this.g,a,b)};var yf=qx(190);Oi(71,12,{12:1,71:1,6:1},Zs);_.tc=function $s(){if(bs(this.g)){this.i=0;return}this.a=Qr(this.g);if(!this.a){this.i=0;return}this.b=Rr(this.g,this.a.a,this.a.b);Yz(this.b,0);if(this.b.a.length==0){this.i=0;return}this.i=nF};_.uc=function _s(){var a,b,c;if(!this.b||this.b.a.length==0){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}c=wd(Yz(this.b,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Xr(this.g,a,b)};var zf=qx(71);Oi(80,12,{12:1,80:1,6:1},at);_.tc=function bt(){var a,b,c;this.a=Nr(this.g);this.b=Qr(this.g);if(!this.b){this.i=0;return}c=this.g.k.g[this.b.a][this.b.b];if(c.b!=(en(),an)){this.i=0;return}b=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.b.a),$wnd.Math.abs(this.g.Cb-this.b.b));a=!this.a?10:$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(b>=a){this.i=0;return}this.c=Rr(this.g,this.b.a,this.b.b);Yz(this.c,0);if(this.c.a.length==0){this.i=0;return}this.i=fG};_.uc=function ct(){var a,b,c;if(!this.c||this.c.a.length==0){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}c=wd(Yz(this.c,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Xr(this.g,a,b)};var Af=qx(80);Oi(38,12,{12:1,38:1,6:1},dt);_.tc=function et(){if(bs(this.g)){this.i=9.999999747378752E-5;return}if(this.g.vb){this.i=0;return}if(this.g.Z==this.g.kb&&this.g.hb==this.g.lb){this.i=0;return}this.g.Z<(this.g.kb*3/4|0)||this.g.hb<(this.g.lb*3/4|0)?(this.i=oF):(this.i=0.15000000596046448)};_.uc=function ft(){Xr(this.g,0,0)};var Bf=qx(38);Oi(79,12,{12:1,79:1,6:1},gt);_.tc=function ht(){if(this.g.sb>=Jk){this.i=Infinity;return}this.i=0;return};_.uc=function it(){if(this.g.sb<Jk){Xr(this.g,xm(this.g.k,-1,1),xm(this.g.k,-1,1));return}this.g.Z=-1;this.g.S=true};var Cf=qx(79);Oi(118,12,dG,jt);_.tc=function kt(){var a,b,c,d,e,f,g,h;if(Fj(this.g.c,(en(),bn)).a==0){this.i=0;return}this.a=Nr(this.g);if(!this.a){this.i=0;return}if(!jo(this.g,this.a.a,this.a.b)){this.i=0;return}g=sp(this.g.k.i,this.a.a,this.a.b);d=this.g.Z-g.Z;if(d>10){this.i=0;return}h=this.g.Z>g.Z;c=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(h&&c>wl){this.i=0;return}e=this.g.Z<=this.g.kb*xl;if(!e){this.i=0;return}f=1;h||(f*=fG);b=g.kb>(this.g.kb*80/100|0);b&&(f*=NF);a=this.g.Z<=(this.g.kb*3/10|0);a&&(f*=NF);As(this,yl*f)};_.uc=function lt(){Jn((en(),bn),this.g)};var Df=qx(118);Oi(117,12,dG,mt);_.tc=function nt(){var a,b,c;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(Fj(this.g.c,(en(),cn)).a==0){this.i=0;return}if(io(this.g,(rl(),$k))){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));c=this.g.Z>(this.g.kb*75/100|0);b=this.g.j.r<2;if(c&&b){this.i=0;return}if(a>2){this.i=0;return}this.i=1.149999976158142};_.uc=function ot(){vn((en(),cn),this.g)};var Ef=qx(117);Oi(116,12,dG,pt);_.tc=function qt(){var a,b,c,d;this.a=Nr(this.g);if(Fj(this.g.c,(en(),an)).a==0){this.i=0;return}if(!this.a){this.i=0;return}c=sp(this.g.k.i,this.a.a,this.a.b);a=this.g.Z>this.g.kb*Rl;d=this.g.Z>c.Z;b=this.g.j.r==1;if(a&&d&&b){this.i=0;return}if(this.g.Z==this.g.kb){this.i=0;return}this.i=fG};_.uc=function rt(){on((en(),an),this.g)};var Ff=qx(116);Oi(191,12,dG,st);_.tc=function tt(){if(Fj(this.g.c,(en(),dn)).a==0){this.i=0;return}if(this.g.v>100){this.i=0;return}if(this.g.q[0][0]){this.i=0;return}this.i=OF};_.uc=function ut(){Cn((en(),dn),this.g)};var Gf=qx(191);Oi(193,12,dG,vt);_.tc=function wt(){var a;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Nu))){this.i=0;return}if(Yr(this.g,Nu)){this.i=0;return}if(!Tr(this.g,Nu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}this.i=gG};_.uc=function xt(){es(this.g,(hv(),Nu))};var Hf=qx(193);Oi(197,12,dG,yt);_.tc=function zt(){var a,b,c,d;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Pu))){this.i=0;return}if(Yr(this.g,Pu)){this.i=0;return}if(!Tr(this.g,Pu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>3){this.i=0;return}d=this.g.Z>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.hb==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=gG};_.uc=function At(){es(this.g,(hv(),Pu))};var If=qx(197);Oi(122,12,dG,Bt);_.tc=function Ct(){var a,b,c,d;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Ru))){this.i=0;return}if(Yr(this.g,Ru)){this.i=0;return}if(!Tr(this.g,Ru)){this.i=0;return}d=sp(this.g.k.i,this.a.a,this.a.b);b=this.g.Z<d.Z*8/10;c=this.g.Z>=d.Z;if(c){a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>8){this.i=0;return}if(a<3){this.i=0;return}this.i=hG;return}if(b){a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}this.i=iG;return}this.i=0};_.uc=function Dt(){es(this.g,(hv(),Ru))};var Jf=qx(122);Oi(199,12,dG,Et);_.tc=function Ft(){var a,b,c;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r<=1){this.i=0;return}if(!Vr(this.g,(hv(),Su))){this.i=0;return}if(Yr(this.g,Su)){this.i=0;return}if(!Tr(this.g,Su)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>3){this.i=0;return}c=this.g.Z>(this.g.kb*75/100|0);b=this.g.hb==this.g.lb;if(c&&!b){this.i=0;return}this.i=gG};_.uc=function Gt(){es(this.g,(hv(),Su))};var Kf=qx(199);Oi(194,12,dG,Ht);_.tc=function It(){var a;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Tu))){this.i=0;return}if(Yr(this.g,Tu)){this.i=0;return}if(!Tr(this.g,Tu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}this.i=gG};_.uc=function Jt(){es(this.g,(hv(),Tu))};var Lf=qx(194);Oi(123,12,dG,Kt);_.tc=function Lt(){var a,b,c;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Uu))){this.i=0;return}if(Yr(this.g,Uu)){this.i=0;return}if(!Tr(this.g,Uu)){this.i=0;return}c=sp(this.g.k.i,this.a.a,this.a.b);a=this.g.Z<c.Z*8/10;b=this.g.Z>=c.Z;if(b){this.i=1.5499999523162842;return}if(a){this.i=iG;return}this.i=hG};_.uc=function Mt(){es(this.g,(hv(),Uu))};var Mf=qx(123);Oi(126,12,dG,Nt);_.tc=function Ot(){var a,b;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Vu))){this.i=0;return}if(Yr(this.g,Vu)){this.i=0;return}if(!Tr(this.g,Vu)){this.i=0;return}if(io(this.g,(rl(),cl))){this.i=0;return}b=this.g.Z>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=fG};_.uc=function Pt(){es(this.g,(hv(),Vu))};var Nf=qx(126);Oi(196,12,dG,Qt);_.tc=function Rt(){var a,b;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Wu))){this.i=0;return}if(Yr(this.g,Wu)){this.i=0;return}if(!Tr(this.g,Wu)){this.i=0;return}if(io(this.g,(rl(),dl))){this.i=0;return}b=this.g.Z>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=fG};_.uc=function St(){es(this.g,(hv(),Wu))};var Of=qx(196);Oi(124,12,dG,Tt);_.tc=function Ut(){var a,b,c,d;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Xu))){this.i=0;return}if(Yr(this.g,Xu)){this.i=0;return}if(!Tr(this.g,Xu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>5){this.i=0;return}d=this.g.Z>(this.g.kb*75/100|0);if(d&&a>2){this.i=0;return}b=this.g.j.r<2;c=this.g.hb==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=gG};_.uc=function Vt(){es(this.g,(hv(),Xu))};var Pf=qx(124);Oi(198,12,dG,Wt);_.tc=function Xt(){var a,b;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),Zu))){this.i=0;return}if(Yr(this.g,Zu)){this.i=0;return}if(!Tr(this.g,Zu)){this.i=0;return}if(io(this.g,(rl(),el))){this.i=0;return}a=this.g.Z>(this.g.kb*75/100|0);b=this.g.hb>(this.g.lb*75/100|0);if(a&&b){this.i=0;return}this.i=fG};_.uc=function Yt(){es(this.g,(hv(),Zu))};var Qf=qx(198);Oi(125,12,dG,Zt);_.tc=function $t(){var a,b;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),$u))){this.i=0;return}if(Yr(this.g,$u)){this.i=0;return}if(!Tr(this.g,$u)){this.i=0;return}if(io(this.g,(rl(),gl))){this.i=0;return}b=this.g.Z>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=fG};_.uc=function _t(){es(this.g,(hv(),$u))};var Rf=qx(125);Oi(121,12,dG,au);_.tc=function bu(){var a,b,c,d;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),_u))){this.i=0;return}if(Yr(this.g,_u)){this.i=0;return}if(!Tr(this.g,_u)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>5){this.i=0;return}d=this.g.Z>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.hb==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=gG};_.uc=function cu(){es(this.g,(hv(),_u))};var Sf=qx(121);Oi(195,12,dG,du);_.tc=function eu(){var a,b,c,d;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),bv))){this.i=0;return}if(Yr(this.g,bv)){this.i=0;return}if(!Tr(this.g,bv)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>5){this.i=0;return}d=this.g.Z>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.hb==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=gG};_.uc=function fu(){es(this.g,(hv(),bv))};var Tf=qx(195);Oi(119,12,dG,gu);_.tc=function hu(){var a,b;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),dv))){this.i=0;return}if(Yr(this.g,dv)){this.i=0;return}if(!Tr(this.g,dv)){this.i=0;return}if(io(this.g,(rl(),kl))){this.i=0;return}b=this.g.Z>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=fG};_.uc=function iu(){es(this.g,(hv(),dv))};var Uf=qx(119);Oi(192,12,dG,ju);_.tc=function ku(){var a,b,c,d;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),fv))){this.i=0;return}if(Yr(this.g,fv)){this.i=0;return}if(!Tr(this.g,fv)){this.i=0;return}if(io(this.g,(rl(),nl))){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}d=this.g.Z>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.hb==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=gG};_.uc=function lu(){es(this.g,(hv(),fv))};var Vf=qx(192);Oi(120,12,dG,mu);_.tc=function nu(){var a,b;this.a=Nr(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Vr(this.g,(hv(),gv))){this.i=0;return}if(Yr(this.g,gv)){this.i=0;return}if(!Tr(this.g,gv)){this.i=0;return}if(io(this.g,(rl(),pl))){this.i=0;return}b=this.g.Z>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=fG};_.uc=function ou(){es(this.g,(hv(),gv))};var Wf=qx(120);Oi(28,1,jG);_.vc=function tu(a){throw yi(new my('Add not supported on this collection'))};_.wc=function uu(a){return qu(this,a)};_.yc=function vu(){return this.zc(Kc($g,yF,1,this.Rb(),5,1))};_.zc=function wu(a){var b,c,d;d=this.Rb();a.length<d&&(a=zE(new Array(d),a));c=this.xc();for(b=0;b<d;++b){Nc(a,b,c.Nc())}a.length>d&&Nc(a,d,null);return a};_.Gb=function xu(){return su(this)};var gh=qx(28);Oi(288,28,kG);_.Db=function yu(a){var b;if(a===this){return true}if(!Dd(a,48)){return false}b=wd(a,48);if(b.Rb()!=this.Rb()){return false}return ru(this,b)};_.Fb=function zu(){return JA(this)};var Ah=qx(288);Oi(127,288,kG,Eu);_.vc=function Fu(a){return Au(this,a)};_.xc=function Gu(){return new rA(this.b)};_.Rb=function Hu(){return this.b.a.length};_.Gb=function Iu(){return su(this.b)};var Yf=qx(127);Oi(50,1,{50:1},Lu);_.Gb=function Mu(){return '#'+AE(this)+'('+this.d+AF+this.e+AF+this.f+AF+this.c+')'};_.a=false;_.c=0;_.d=0;_.e=0;_.f=0;var Zf=qx(50);Oi(13,8,lG);_.a=0;_.b=0;_.c=false;var Nu,Ou,Pu,Qu,Ru,Su,Tu,Uu,Vu,Wu,Xu,Yu,Zu,$u,_u,av,bv,cv,dv,ev,fv,gv;var ug=rx(13,jv);Oi(230,13,lG,kv);_.Ac=function lv(a,b){um(a.k,b.Bb,b.Cb,2,new Xi(a,cv,12,new ok(128,128,128,128)))};var ig=rx(230,null);Oi(239,13,lG,mv);_.Ac=function nv(a,b){$n(a,(rl(),al),10)};var $f=rx(239,null);Oi(240,13,lG,ov);_.Ac=function pv(a,b){$n(a,(rl(),nl),23);um(a.k,a.Bb,a.Cb,2,new Xi(a,ev,35,new ok(255,150,100,64)))};var _f=rx(240,null);Oi(241,13,lG,qv);_.Ac=function rv(a,b){var c,d,e;Kr(a,b,'lightning bolt',280);e=qm(a.k,b.Bb,b.Cb,4);Zz(e,a);for(d=new rA(e);d.a<d.c.a.length;){c=wd(pA(d),35);$n(c,(rl(),hl),2);$n(c,ll,2)}};var ag=rx(241,null);Oi(242,13,lG,sv);_.Ac=function tv(a,b){var c,d;Kr(a,b,'hook',360);d=Rr(a,b.Bb,b.Cb);if(d.a.length<2){return}c=new vs((GE(1,d.a.length),wd(d.a[1],21)).c,(GE(1,d.a.length),wd(d.a[1],21)).d);!!sp(a.k.i,c.a,c.b)&&(c=rm(a.k,c.a,c.b));!sp(a.k.i,c.a,c.b)?b.kc(c.a-b.Bb,c.b-b.Cb):Er(a,'It slips out of your hook!',(ek(),bk))};var bg=rx(242,null);Oi(243,13,lG,uv);_.Ac=function vv(a,b){$n(a,(rl(),pl),8)};var cg=rx(243,null);Oi(244,13,lG,wv);_.Ac=function xv(a,b){if(io(b,(rl(),nl))){b.bc('The sand caresses you.',new nk(255,150,100));return}b.lc(95,a,'sand storm',1,false);$n(b,ml,2)};var dg=rx(244,null);Oi(245,13,lG,yv);_.Ac=function zv(a,b){};var eg=rx(245,null);Oi(246,13,lG,Av);_.Ac=function Bv(a,b){if(b==a){return}Kr(a,b,'batter',95);$n(b,(rl(),hl),1)};var fg=rx(246,null);Oi(247,13,lG,Cv);_.Ac=function Dv(a,b){$n(a,(rl(),cl),12)};var gg=rx(247,null);Oi(248,13,lG,Ev);_.Ac=function Fv(a,b){$n(a,(rl(),ql),4);um(a.k,b.Bb,b.Cb,2,new Xi(a,Qu,4,new ok(64,64,192,128)))};var hg=rx(248,null);Oi(231,13,lG,Gv);_.Ac=function Hv(a,b){if(a==b){return}if(b.sb%2==0){Kr(a,b,'pit of malice stun',20);$n(b,(rl(),ql),2)}};var mg=rx(231,null);Oi(249,13,lG,Iv);_.Ac=function Jv(a,b){if(a==b){return}Kr(a,b,'black hole',200);$n(b,(rl(),ql),1)};var jg=rx(249,null);Oi(250,13,lG,Kv);_.Ac=function Lv(a,b){$n(a,(rl(),el),10);$n(a,ql,10)};var kg=rx(250,null);Oi(251,13,lG,Mv);_.Ac=function Nv(a,b){$n(b,(rl(),_k),10);b.wb=a.wb;b.jb=a};var lg=rx(251,null);Oi(232,13,lG,Ov);_.Ac=function Pv(a,b){var c,d,e,f,g,h;f=tk(a.j,b.Bb,b.Cb);c=wd(Wz(f,$wnd.Math.max(f.a.length-4,0)),21);h=sm(a.k,c.c,c.d,1);(!h||h.a.length<3)&&(h=sm(a.k,c.c,c.d,2));if(!h||h.a.length==0){return}if(h.a.length!=0){g=wd(Yz(h,0),18);Xr(a,g.a-a.Bb,g.b-a.Cb)}d=Jr(a);e=Jr(a);d.o+=' (dopple1)';e.o+=' (dopple2)';d.wb=a.wb;e.wb=a.wb;if(h.a.length!=0){g=wd(Yz(h,0),18);op(a.k.i,d,g.a,g.b)}if(h.a.length!=0){g=wd(Yz(h,0),18);op(a.k.i,e,g.a,g.b)}};var ng=rx(232,null);Oi(233,13,lG,Qv);_.Ac=function Rv(a,b){$n(a,(rl(),kl),8)};var og=rx(233,null);Oi(234,13,lG,Sv);_.Ac=function Tv(a,b){$n(a,(rl(),dl),20)};var pg=rx(234,null);Oi(235,13,lG,Uv);_.Ac=function Vv(a,b){$n(a,(rl(),gl),7)};var qg=rx(235,null);Oi(236,13,lG,Wv);_.Ac=function Xv(a,b){$n(a,(rl(),Zk),11)};var rg=rx(236,null);Oi(237,13,lG,Yv);_.Ac=function Zv(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;e=$wnd.Math.atan2(b.Cb-a.Cb,b.Bb-a.Bb);p=qm(a.k,a.Bb,a.Cb,4);m=new dA;for(o=new rA(p);o.a<o.c.a.length;){n=wd(pA(o),35);if(n==a){continue}d=$wnd.Math.atan2(b.Cb-a.Cb,b.Bb-a.Bb);c=$wnd.Math.abs(d-e);c>mG&&(c=nG-c);c<oG&&(Nc(m.a,m.a.length,n),true)}for(l=new rA(m);l.a<l.c.a.length;){k=wd(pA(l),35);$n(k,(rl(),ol),8);h=Kd(Xx(k.Bb-a.Bb));i=Kd(Xx(k.Cb-a.Cb));k.kc(h,i);k.kc(h,i);k.kc(h,i);$n(k,ql,8)}j=new Xi(a,av,1,new ok(128,128,255,64));for(g=-6;g<=6;g++){for(i=-6;i<=6;i++){q=a.Bb+g;r=a.Cb+i;if(q<0||r<0||q>=100||r>=50){continue}if(a.k.u[q][r]){continue}f=$wnd.Math.atan2(r-a.Cb,q-a.Bb);c=$wnd.Math.abs(f-e);c>mG&&(c=nG-c);c<oG&&Uz(a.k.b[q][r],new Xi(j.a,j.d,j.c,j.b))}}};var sg=rx(237,null);Oi(238,13,lG,$v);_.Ac=function _v(a,b){var c,d,e,f,g;e=$wnd.Math.max($wnd.Math.abs(a.Bb-b.Bb),$wnd.Math.abs(a.Cb-b.Cb));if(e>2){f=tk(a.j,b.Bb,b.Cb);c=(GE(1,f.a.length),wd(f.a[1],21));Xr(a,c.c-a.Bb,c.d-a.Cb)}else{g=new yk(a.k,b.Bb,b.Cb,null);d=nm(new DA(Oc(Gc(ae,1),yF,27,0,[a.j,g])),a.Bb,a.Cb);Xr(a,d.a-a.Bb,d.b-a.Cb)}};var tg=rx(238,null);Oi(128,1,{},bw);var aw;var vg=qx(128);Oi(58,1,{58:1},dw);var Bg=qx(58);Oi(44,8,pG);_.b=0;var ew,fw,gw,hw;var Ag=rx(44,kw);Oi(186,44,pG,lw);_.Bc=function mw(a,b){qp(b.k.i);cm(b.k);_r(b);Er(b,'Went downstairs.',(ek(),ck))};var wg=rx(186,null);Oi(187,44,pG,nw);_.Bc=function ow(a,b){};var xg=rx(187,null);Oi(188,44,pG,pw);_.Bc=function qw(a,b){};var yg=rx(188,null);Oi(189,44,pG,rw);_.Bc=function sw(a,b){};var zg=rx(189,null);Oi(57,1,{57:1},uw);var Dg=qx(57);Oi(93,8,{93:1,3:1,6:1,8:1},xw);_.b=0;var vw;var Cg=rx(93,yw);Oi(157,1,{},Dw);var Eg=qx(157);Oi(134,1,{},Lw);var Hg=qx(134);Oi(310,$wnd.Function,{},Mw);_.Mb=function Nw(a){Ew(this.a)};Oi(152,1,{},Ow);_.handleEvent=function Pw(a){Fw(this.a,a)};var Fg=qx(152);Oi(153,1,{},Qw);_.handleEvent=function Rw(a){Hw(this.a)};var Gg=qx(153);Oi(102,1,{136:1});_.Gb=function Tw(){return this.a};var Ig=qx(102);Oi(155,14,eF,Uw);var Jg=qx(155);Oi(55,14,eF,Vw);var Vg=qx(55);Oi(258,55,eF,Ww);var Kg=qx(258);Oi(154,14,eF,Xw);var Lg=qx(154);sd={3:1,137:1,6:1};var Mg=qx(137);Oi(49,1,{3:1,49:1,6:1},bx);_.Ub=function cx(a){return ax(this,wd(a,49))};_.Db=function dx(a){return Dd(a,49)&&wd(a,49).a==this.a};_.Fb=function ex(){return this.a};_.Gb=function fx(){return String.fromCharCode(this.a)};_.a=0;var Ng=qx(49);var hx;Oi(139,14,eF,Ex);var Og=qx(139);Oi(85,1,{3:1,85:1});var Zg=qx(85);td={3:1,6:1,138:1,85:1};var Qg=qx(138);Oi(77,14,eF,Hx,Ix);var Tg=qx(77);Oi(87,14,eF,Jx,Kx);var Ug=qx(87);Oi(37,85,{3:1,6:1,37:1,85:1},Mx);_.Ub=function Ox(a){return Lx(this,wd(a,37))};_.Db=function Px(a){return Dd(a,37)&&wd(a,37).a==this.a};_.Fb=function Qx(){return this.a};_.Gb=function Tx(){return ''+this.a};_.a=0;var Wg=qx(37);var Vx;Oi(326,1,{});Oi(106,86,eF,Yx);_.Hb=function Zx(a){return new TypeError(a)};var Yg=qx(106);ud={3:1,136:1,6:1,2:1};var dh=qx(2);Oi(103,102,{136:1},iy,jy);var ah=qx(103);Oi(105,55,eF,ky);var bh=qx(105);Oi(330,1,{});Oi(76,14,eF,ly,my);var fh=qx(76);Oi(90,287,{61:1});_.Hc=function wy(){uy(this)};_.Ob=function xy(a){return ny(this,a)};_.Pb=function yy(){return new Ey(this)};_.Qb=function zy(a){return oy(this,a)};_.Kc=function Ay(a,b){return ry(this,a,b)};_.Lc=function By(a){return ty(this,a)};_.Rb=function Cy(){return vy(this)};var jh=qx(90);Oi(165,288,kG,Ey);_.wc=function Fy(a){return Dy(this,a)};_.xc=function Gy(){return new Jy(this.a)};_.Rb=function Hy(){return this.a.Rb()};var ih=qx(165);Oi(166,1,{},Jy);_.Nc=function Ly(){var a;return UA(this.e,this),FE(this.b),this.c=this.a,a=wd(this.a.Nc(),19),this.b=Iy(this),a};_.Mc=function Ky(){return this.b};_.Oc=function My(){KE(!!this.c);UA(this.e,this);this.c.Oc();this.c=null;this.b=Iy(this);VA(this.e,this)};_.b=false;var hh=qx(166);Oi(62,28,qG);_.Pc=function Oy(a,b){throw yi(new my('Add not supported on this list'))};_.vc=function Py(a){this.Pc(this.Rb(),a);return true};_.Db=function Qy(a){var b,c,d,e,f;if(a===this){return true}if(!Dd(a,33)){return false}f=wd(a,33);if(this.Rb()!=f.Rb()){return false}e=f.xc();for(c=this.xc();c.Mc();){b=c.Nc();d=e.Nc();if(!(Jd(b)===Jd(d)||b!=null&&Gb(b,d))){return false}}return true};_.Fb=function Ry(){return KA(this)};_.xc=function Sy(){return new Yy(this)};_.Rc=function Ty(a){return new az(this,a)};_.Sc=function Uy(a){throw yi(new my('Remove not supported on this list'))};var nh=qx(62);Oi(68,1,{},Yy);_.Mc=function Zy(){return Vy(this)};_.Nc=function $y(){return Wy(this)};_.Oc=function _y(){Xy(this)};_.b=0;_.c=-1;var kh=qx(68);Oi(107,68,{},az);_.Oc=function cz(){Xy(this)};_.Tc=function bz(a){this.a.Pc(this.b,a);++this.b;this.c=-1};var lh=qx(107);Oi(156,62,qG,dz);_.Pc=function ez(a,b){IE(a,this.b);Tz(this.c,this.a+a,b);++this.b};_.Qc=function fz(a){GE(a,this.b);return Wz(this.c,this.a+a)};_.Sc=function gz(a){var b;GE(a,this.b);b=Yz(this.c,this.a+a);--this.b;return b};_.Rb=function hz(){return this.b};_.a=0;_.b=0;var mh=qx(156);Oi(41,288,kG,iz);_.wc=function jz(a){return this.a.Ob(a)};_.xc=function kz(){var a;return a=this.a.Pb().xc(),new mz(a)};_.Rb=function lz(){return this.a.Rb()};var ph=qx(41);Oi(39,1,{},mz);_.Mc=function nz(){return this.a.Mc()};_.Nc=function oz(){var a;return a=wd(this.a.Nc(),19),a.Uc()};_.Oc=function pz(){this.a.Oc()};var oh=qx(39);Oi(69,1,{69:1,19:1});_.Db=function rz(a){var b;if(!Dd(a,19)){return false}b=wd(a,19);return EC(this.d,b.Uc())&&EC(this.e,b.Vc())};_.Uc=function sz(){return this.d};_.Vc=function tz(){return this.e};_.Fb=function uz(){return FC(this.d)^FC(this.e)};_.Wc=function vz(a){return qz(this,a)};_.Gb=function wz(){return this.d+'='+this.e};var qh=qx(69);Oi(63,69,{69:1,63:1,19:1},xz);var rh=qx(63);Oi(290,1,{19:1});_.Db=function yz(a){var b;if(!Dd(a,19)){return false}b=wd(a,19);return EC(this.b.value[0],b.Uc())&&EC(MB(this),b.Vc())};_.Fb=function zz(){return FC(this.b.value[0])^FC(MB(this))};_.Gb=function Az(){return this.b.value[0]+'='+MB(this)};var sh=qx(290);Oi(110,288,kG,Bz);_.wc=function Cz(a){return Dd(a,19)&&hj(this.a,wd(a,19))};_.xc=function Dz(){return this.a.Sb()};_.Rb=function Ez(){return this.a.Rb()};var uh=qx(110);Oi(112,288,kG,Fz);_.wc=function Gz(a){return ij(this.a,a)};_.xc=function Hz(){var a;return a=(new yD(this.a)).a.Sb(),new Jz(a)};_.Rb=function Iz(){return this.a.c};var wh=qx(112);Oi(113,1,{},Jz);_.Mc=function Kz(){return Vy(this.a.a)};_.Nc=function Lz(){var a;return a=rD(this.a),a.Uc()};_.Oc=function Mz(){sD(this.a)};var vh=qx(113);Oi(291,28,jG);_.vc=function Nz(a){return LE(HC(this,a)),true};var yh=qx(291);Oi(292,62,qG);_.Pc=function Oz(a,b){var c;c=this.Rc(a);c.Tc(b)};_.Qc=function Pz(b){var c;c=this.Rc(b);try{return c.Nc()}catch(a){a=xi(a);if(Dd(a,82)){throw yi(new Vw("Can't get element "+b))}else throw yi(a)}};_.xc=function Qz(){return qC(this,0)};_.Sc=function Rz(b){var c,d;c=this.Rc(b);try{d=c.Nc();c.Oc();return d}catch(a){a=xi(a);if(Dd(a,82)){throw yi(new Vw("Can't remove element "+b))}else throw yi(a)}};var zh=qx(292);Oi(15,62,{3:1,4:1,29:1,28:1,62:1,15:1,31:1,33:1,299:1},dA,eA,fA);_.Pc=function gA(a,b){Tz(this,a,b)};_.vc=function hA(a){return Uz(this,a)};_.wc=function iA(a){return Xz(this,a,0)!=-1};_.Qc=function jA(a){return Wz(this,a)};_.xc=function kA(){return new rA(this)};_.Sc=function lA(a){return Yz(this,a)};_.Rb=function mA(){return this.a.length};_.yc=function nA(){return bA(this)};_.zc=function oA(a){return cA(this,a)};var Ch=qx(15);Oi(22,1,{},rA);_.Mc=function sA(){return this.a<this.c.a.length};_.Nc=function tA(){return pA(this)};_.Oc=function uA(){qA(this)};_.a=0;_.b=-1;var Bh=qx(22);Oi(20,62,{3:1,29:1,28:1,62:1,31:1,33:1,299:1},DA);_.wc=function EA(a){return Ny(this,a)!=-1};_.Qc=function FA(a){return GE(a,this.a.length),this.a[a]};_.Rb=function GA(){return this.a.length};_.yc=function HA(){return CA(this,Kc($g,yF,1,this.a.length,5,1))};_.zc=function IA(a){return CA(this,a)};var Dh=qx(20);var NA;Oi(257,1,{3:1},RA);_.Wb=function SA(a,b){return QA(a,b)};_.Db=function TA(a){return this===a};var Eh=qx(257);Oi(269,14,eF,XA);var Fh=qx(269);Oi(51,90,rG,YA,ZA);_.Ic=function $A(a,b){return Jd(a)===Jd(b)||a!=null&&Gb(a,b)};_.Jc=function _A(a){var b;b=Kb(a);return b|0};var Gh=qx(51);Oi(45,288,sG,cB,dB);_.vc=function fB(a){return aB(this,a)};_.wc=function gB(a){return bB(this,a)};_.xc=function hB(){var a;return a=(new iz(this.a)).a.Pb().xc(),new mz(a)};_.Rb=function iB(){return this.a.Rb()};var Hh=qx(45);Oi(227,1,{29:1},oB);_.xc=function pB(){return new qB(this)};_.c=0;var Jh=qx(227);Oi(129,1,{},qB);_.Nc=function sB(){return this.d=this.a[this.c++],this.d};_.Mc=function rB(){var a;if(this.c<this.a.length){return true}a=this.b.next();if(!a.done){this.a=a.value[1];this.c=0;return true}return false};_.Oc=function tB(){nB(this.e,this.d.Uc());this.c!=0&&--this.c};_.c=0;_.d=null;var Ih=qx(129);var wB;Oi(228,1,{29:1},GB);_.xc=function HB(){return new IB(this)};_.c=0;_.d=0;var Mh=qx(228);Oi(130,1,{},IB);_.Nc=function KB(){return this.c=this.a,this.a=this.b.next(),new NB(this.d,this.c,this.d.d)};_.Mc=function JB(){return !this.a.done};_.Oc=function LB(){FB(this.d,this.c.value[0])};var Kh=qx(130);Oi(229,290,{19:1},NB);_.Uc=function OB(){return this.b.value[0]};_.Vc=function PB(){return MB(this)};_.Wc=function QB(a){return EB(this.a,this.b.value[0],a)};_.c=0;var Lh=qx(229);Oi(252,51,rG,UB);_.Hc=function VB(){uy(this.c);this.b.b=this.b;this.b.a=this.b};_.Ob=function WB(a){return ny(this.c,a)};_.Pb=function XB(){return new fC(this)};_.Qb=function YB(a){var b;b=wd(oy(this.c,a),60);if(b){SB(this,b);return b.e}return null};_.Kc=function ZB(a,b){var c,d,e;d=wd(oy(this.c,a),60);if(!d){c=new dC(this,a,b);ry(this.c,a,c);aC(c);return null}else{e=qz(d,b);SB(this,d);return e}};_.Lc=function $B(a){return TB(this,a)};_.Rb=function _B(){return vy(this.c)};_.a=false;var Qh=qx(252);Oi(60,63,{69:1,63:1,60:1,19:1},cC,dC);var Nh=qx(60);Oi(253,288,kG,fC);_.wc=function gC(a){return eC(this,a)};_.xc=function hC(){return new jC(this)};_.Rb=function iC(){return vy(this.a.c)};var Ph=qx(253);Oi(254,1,{},jC);_.Nc=function lC(){return UA(this.c.a.c,this),FE(this.b!=this.c.a.b),this.a=this.b,this.b=this.b.a,this.a};_.Mc=function kC(){return this.b!=this.c.a.b};_.Oc=function mC(){KE(!!this.a);UA(this.c.a.c,this);bC(this.a);ty(this.c.a.c,this.a.d);VA(this.c.a.c,this);this.a=null};var Oh=qx(254);Oi(114,45,sG,nC);var Rh=qx(114);Oi(131,292,{3:1,4:1,29:1,28:1,62:1,31:1,33:1},sC);_.vc=function tC(a){return oC(this,a)};_.Rc=function uC(a){return qC(this,a)};_.Rb=function vC(){return this.b};_.b=0;var Uh=qx(131);Oi(259,1,{},xC);_.Tc=function yC(a){pC(this.d,a,this.b.b,this.b);++this.a;this.c=null};_.Mc=function zC(){return this.b!=this.d.c};_.Nc=function AC(){return wC(this)};_.Oc=function BC(){var a;KE(!!this.c);a=this.c.a;rC(this.d,this.c);this.b==this.c?(this.b=a):--this.a;this.c=null};_.a=0;_.c=null;var Sh=qx(259);Oi(96,1,{},CC);var Th=qx(96);Oi(82,14,{3:1,25:1,14:1,17:1,82:1},DC);var Vh=qx(82);Oi(95,291,jG,KC);_.wc=function LC(a){return (a==null?-1:Xz(this.b,a,0))!=-1};_.xc=function MC(){return new QC(this)};_.Rb=function NC(){return this.b.a.length};_.yc=function OC(){return bA(this.b)};_.zc=function PC(a){return cA(this.b,a)};var Xh=qx(95);Oi(256,1,{},QC);_.Mc=function RC(){return this.a<this.c.b.a.length};_.Nc=function SC(){FE(this.a<this.c.b.a.length);this.b=this.a++;return Wz(this.c.b,this.b)};_.Oc=function TC(){KE(this.b!=-1);JC(this.c,this.a=this.b);this.b=-1};_.a=0;_.b=-1;var Wh=qx(256);Oi(158,1,{},cD);_.a=false;_.b=0;_.c=0;_.d=0;var UC,VC,WC=0;var Yh=qx(158);Oi(261,1,{});_.Zc=function gD(a){dD(this,a)};_.Xc=function eD(){return this.d};_.Yc=function fD(){return this.e};_.d=0;_.e=0;var $h=qx(261);Oi(262,261,{});var Zh=qx(262);Oi(92,1,{},jD);_.Xc=function kD(){return this.a};_.Yc=function lD(){iD(this);return this.c};_.Zc=function mD(a){iD(this);RB(this.d,a)};_.$c=function nD(a){HE(a);iD(this);if(Vy(this.d)){a.bd(Wy(this.d));return true}return false};_.a=0;_.c=0;var _h=qx(92);Oi(104,1,{},pD);_.Gb=function qD(){return !this.a?this.c:this.e.length==0?this.a.a:this.a.a+(''+this.e)};var ai=qx(104);Oi(109,1,{},tD);_.Nc=function wD(){return rD(this)};_.Mc=function vD(){return Vy(this.a)};_.Oc=function xD(){sD(this)};var bi=qx(109);Oi(91,110,kG,yD);var ci=qx(91);Oi(64,63,{69:1,63:1,19:1,64:1},zD);_.b=false;var di=qx(64);Oi(111,1,{},AD);_.Gb=function BD(){return 'State: mv='+this.c+' value='+this.d+' done='+this.a+' found='+this.b};_.a=false;_.b=false;_.c=false;var ei=qx(111);Oi(52,8,AG,HD);_._c=function ID(){return false};_.ad=function JD(){return false};var CD,DD,ED,FD;var ii=rx(52,KD);Oi(168,52,AG,LD);_.ad=function MD(){return true};var fi=rx(168,null);Oi(169,52,AG,ND);_._c=function OD(){return true};_.ad=function PD(){return true};var gi=rx(169,null);Oi(170,52,AG,QD);_._c=function RD(){return true};var hi=rx(170,null);Oi(53,8,{3:1,6:1,8:1,53:1},XD);var TD,UD,VD;var ki=rx(53,YD);Oi(268,1,{},ZD);var li=qx(268);Oi(97,1,{},$D);var mi=qx(97);Oi(99,1,{},_D);var ni=qx(99);Oi(98,1,{},aE);var oi=qx(98);Oi(260,1,{});_.c=false;var ui=qx(260);Oi(65,260,{65:1},gE);var ti=qx(65);Oi(263,262,{},kE);_.$c=function lE(a){this.b=false;while(!this.b&&this.c.$c(new mE(this,a)));return this.b};_.b=false;var qi=qx(263);Oi(265,1,{},mE);_.bd=function nE(a){jE(this.a,this.b,a)};var pi=qx(265);Oi(264,1,{},pE);_.bd=function qE(a){oE(this,a)};var ri=qx(264);Oi(266,1,{},sE);_.bd=function tE(a){rE(this,a)};var si=qx(266);Oi(328,1,{});Oi(325,1,{});var QE=0;var SE,TE=0,UE;Oi(742,1,{});var Nd=sx('I');var vi=sx('Z');var Ld=sx('C');var Md=sx('D');var ZE=(gc(),jc);var gwtOnLoad=gwtOnLoad=Ki;Ii(Ui);Li('permProps',[[]]);if (foo_Game) foo_Game.onScriptLoad(gwtOnLoad);})();
