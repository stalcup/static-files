function foo_Game(){var nb='',ob=0,pb='gwt.codesvr=',qb='gwt.hosted=',rb='gwt.hybrid',sb='foo.Game',tb='__gwt_marker_foo.Game',ub='<script id="',vb='"><\/script>',wb='SCRIPT',xb='#',yb='?',zb='/',Ab=1,Bb='base',Cb='img',Db='clear.cache.gif',Eb='meta',Fb='name',Gb='gwt:property',Hb='content',Ib='=',Jb='gwt:onPropertyErrorFn',Kb='Bad handler "',Lb='" for "gwt:onPropertyErrorFn"',Mb='gwt:onLoadErrorFn',Nb='" for "gwt:onLoadErrorFn"',Ob='Single-script hosted mode not yet implemented. See issue ',Pb='http://code.google.com/p/google-web-toolkit/issues/detail?id=2079',Qb='BDB86D669A63399573887AB84CA4770F',Rb=':',Sb='DOMContentLoaded',Tb=50;var k=nb,l=ob,m=pb,n=qb,o=rb,p=sb,q=tb,r=ub,s=vb,t=wb,u=xb,v=yb,w=zb,A=Ab,B=Bb,C=Cb,D=Db,F=Eb,G=Fb,H=Gb,I=Hb,J=Ib,K=Jb,L=Kb,M=Lb,N=Mb,O=Nb,P=Ob,Q=Pb,R=Qb,S=Rb,T=Sb,U=Tb;var V=window,W=document,X,Y,Z=k,$={},_=[],ab=[],bb=[],cb=l,db,eb;if(!V.__gwt_stylesLoaded){V.__gwt_stylesLoaded={}}if(!V.__gwt_scriptsLoaded){V.__gwt_scriptsLoaded={}}function fb(){var b=false;try{var c=V.location.search;return (c.indexOf(m)!=-1||(c.indexOf(n)!=-1||V.external&&V.external.gwtOnLoad))&&c.indexOf(o)==-1}catch(a){}fb=function(){return b};return b}
function gb(){if(X&&Y){X(db,p,Z,cb)}}
function hb(){var e,f=q,g;W.write(r+f+s);g=W.getElementById(f);e=g&&g.previousSibling;while(e&&e.tagName!=t){e=e.previousSibling}function h(a){var b=a.lastIndexOf(u);if(b==-1){b=a.length}var c=a.indexOf(v);if(c==-1){c=a.length}var d=a.lastIndexOf(w,Math.min(c,b));return d>=l?a.substring(l,d+A):k}
;if(e&&e.src){Z=h(e.src)}if(Z==k){var i=W.getElementsByTagName(B);if(i.length>l){Z=i[i.length-A].href}else{Z=h(W.location.href)}}else if(Z.match(/^\w+:\/\//)){}else{var j=W.createElement(C);j.src=Z+D;Z=h(j.src)}if(g){g.parentNode.removeChild(g)}}
function ib(){var b=document.getElementsByTagName(F);for(var c=l,d=b.length;c<d;++c){var e=b[c],f=e.getAttribute(G),g;if(f){if(f==H){g=e.getAttribute(I);if(g){var h,i=g.indexOf(J);if(i>=l){f=g.substring(l,i);h=g.substring(i+A)}else{f=g;h=k}$[f]=h}}else if(f==K){g=e.getAttribute(I);if(g){try{eb=eval(g)}catch(a){alert(L+g+M)}}}else if(f==N){g=e.getAttribute(I);if(g){try{db=eval(g)}catch(a){alert(L+g+O)}}}}}}
__gwt_isKnownPropertyValue=function(a,b){return b in _[a]};__gwt_getMetaProperty=function(a){var b=$[a];return b==null?null:b};foo_Game.onScriptLoad=function(a){foo_Game=null;X=a;gb()};if(fb()){alert(P+Q);return}hb();ib();try{var jb;jb=R;var kb=jb.indexOf(S);if(kb!=-1){cb=Number(jb.substring(kb+A))}}catch(a){return}var lb;function mb(){if(!Y){Y=true;gb();if(W.removeEventListener){W.removeEventListener(T,mb,false)}if(lb){clearInterval(lb)}}}
if(W.addEventListener){W.addEventListener(T,function(){mb()},false)}var lb=setInterval(function(){if(/loaded|complete/.test(W.readyState)){mb()}},U)}
foo_Game();(function () {var $gwt_version = "2.8.2";var $wnd = window;var $doc = $wnd.document;var $moduleName, $moduleBase;var $stats = $wnd.__gwtStatsEvent ? function(a) {$wnd.__gwtStatsEvent(a)} : null;var $strongName = 'BDB86D669A63399573887AB84CA4770F';function Li(){}
function Hi(){}
function Eb(){}
function Ec(){}
function tc(){}
function Bc(){}
function ck(){}
function zm(){}
function to(){}
function vo(){}
function vv(){}
function as(){}
function hA(){}
function UB(){}
function SC(){}
function pD(){}
function qD(){}
function rD(){}
function sD(){}
function HD(){}
function qw(){qw=Hi}
function aw(a,b){a.e=b}
function cw(a,b){a.f=b}
function hs(a,b){a.i=b}
function GD(a,b){a.a=b}
function Gm(a){this.a=a}
function vm(a){this.a=a}
function xm(a){this.a=a}
function Cm(a){this.a=a}
function Em(a){this.a=a}
function Im(a){this.a=a}
function Km(a){this.a=a}
function xo(a){this.a=a}
function js(a){this.g=a}
function ms(a){this.g=a}
function rs(a){this.g=a}
function us(a){this.g=a}
function Ds(a){this.g=a}
function Gs(a){this.g=a}
function Js(a){this.g=a}
function Ms(a){this.g=a}
function Ps(a){this.g=a}
function Ss(a){this.g=a}
function Vs(a){this.g=a}
function Ys(a){this.g=a}
function _s(a){this.g=a}
function ct(a){this.g=a}
function ft(a){this.g=a}
function it(a){this.g=a}
function lt(a){this.g=a}
function ot(a){this.g=a}
function rt(a){this.g=a}
function ut(a){this.g=a}
function xt(a){this.g=a}
function At(a){this.g=a}
function Dt(a){this.g=a}
function Gt(a){this.g=a}
function Jt(a){this.g=a}
function Mt(a){this.g=a}
function Pt(a){this.g=a}
function xv(a){this.a=a}
function Ov(a){this.a=a}
function Xv(a){this.b=a}
function ew(a){this.a=a}
function gw(a){this.a=a}
function iw(a){this.a=a}
function kw(a){this.a=a}
function vw(a){this.a=a}
function ex(a){this.a=a}
function Yx(a){this.a=a}
function Cy(a){this.a=a}
function Gy(a){this.a=a}
function Vy(a){this.a=a}
function Zy(a){this.a=a}
function qy(a){this.d=a}
function bz(a){this.a=a}
function Lz(a){this.c=a}
function gC(a){this.c=a}
function wA(a){this.a=a}
function xB(a){this.a=a}
function KD(a){this.a=a}
function xz(){kz(this)}
function oA(){Ox(this)}
function pw(){Ub.call(this)}
function _w(){Ub.call(this)}
function bx(){Ub.call(this)}
function qx(){Ub.call(this)}
function Fx(){Ub.call(this)}
function nA(){Ub.call(this)}
function VB(){Ub.call(this)}
function Yv(a){wm(a.f,a.c)}
function _v(a){wm(a.f,a.c)}
function wm(a,b){pm(a.a,b)}
function JD(a,b){AD(a.a,b)}
function Dr(a,b){sA(a.t,b)}
function wv(a,b){a.a.Bc(a,b)}
function Pm(a,b){a.b.Zb(a,b)}
function Wv(a,b){a.a=b;Tv(a)}
function Tn(a,b){--a.U[b.i]}
function qi(a){return a.e}
function kj(a){return !!a&&a.b}
function fj(a){a.b=null;a.c=0}
function Vz(a){ZD(a);this.a=a}
function nw(a){Vb.call(this,a)}
function ax(a){Vb.call(this,a)}
function cx(a){Vb.call(this,a)}
function Gx(a){Vb.call(this,a)}
function Ex(a){nw.call(this,a)}
function ow(a){nw.call(this,a)}
function QC(a){Vy.call(this,a)}
function Cx(){kw.call(this,'')}
function Bi(){zi==null&&(zi=[])}
function PA(){PA=Hi;OA=RA()}
function eA(){eA=Hi;dA=new hA}
function Xb(){Xb=Hi;Wb=new Eb}
function qc(){qc=Hi;pc=new tc}
function uA(){this.a=new oA}
function yc(a){xc();wc.Lb(a)}
function QD(a,b){a.splice(b,1)}
function RD(a,b){return Pc(a,b)}
function Gc(a,b){return Ow(a,b)}
function uw(a,b){return a.a-b.a}
function Bj(a,b){return a.i-b.i}
function Gw(a){Ew(a);return a.i}
function Fw(a){Ew(a);return a.k}
function TA(){PA();return new OA}
function gc(){gc=Hi;!!(xc(),wc)}
function oc(){dc!=0&&(dc=0);fc=-1}
function rq(){kq.call(this,ZE,9)}
function hr(){kq.call(this,VE,7)}
function jr(){kq.call(this,WE,8)}
function dr(){kq.call(this,qF,5)}
function fr(){kq.call(this,rF,6)}
function tq(){kq.call(this,_E,10)}
function zq(){kq.call(this,UE,13)}
function Bq(){kq.call(this,TE,14)}
function Dq(){kq.call(this,$E,15)}
function Hq(){kq.call(this,XE,17)}
function Oq(){kq.call(this,YE,19)}
function Fq(){kq.call(this,nF,16)}
function Jq(){kq.call(this,oF,18)}
function Sq(){kq.call(this,bF,21)}
function Uq(){kq.call(this,pF,22)}
function Yw(){Vb.call(this,null)}
function Ub(){Mb(this);this.Jb()}
function Cj(a,b){this.g=a;this.i=b}
function Lj(a,b){Cj.call(this,a,b)}
function Nl(a,b){Cj.call(this,a,b)}
function ym(a,b){this.a=a;this.c=b}
function Mm(a,b){this.a=a;this.b=b}
function kq(a,b){Cj.call(this,a,b)}
function AD(a,b){GD(a,zD(a.a,b))}
function vC(a,b){while(a.$c(b));}
function aj(a,b){return !!a.Tb(b)}
function tA(a,b){return a.a.Ob(b)}
function VA(a,b){return a.a.get(b)}
function Cr(a,b){return tA(a.t,b)}
function Ar(a,b){return a.ib>=b.b}
function Fr(a,b){return a.R[b.i]>0}
function $n(a,b){return a.U[b.i]>0}
function ld(a){return a.l|a.m<<22}
function ny(a){return a.b<a.d.Rb()}
function Px(a){return a.d.c+a.e.c}
function Fd(a){return typeof a===rE}
function ui(a){return typeof a===rE}
function tk(a,b){return fx(a.a,b.a)}
function dx(a,b){return fx(a.a,b.a)}
function ux(a,b){return ZD(a),a===b}
function wx(a,b){return a.substr(b)}
function cs(a,b){this.a=a;this.b=b}
function ED(a,b){this.a=a;this.b=b}
function Ry(a,b){this.d=a;this.e=b}
function GA(a){this.a=TA();this.b=a}
function YA(a){this.a=TA();this.b=a}
function ZC(a,b){Cj.call(this,a,b)}
function nD(a,b){Cj.call(this,a,b)}
function bD(){ZC.call(this,'Head',1)}
function gD(){ZC.call(this,'Tail',3)}
function FB(){wA.call(this,new kB)}
function nc(a){$wnd.clearTimeout(a)}
function Sc(a){return Tc(a.l,a.m,a.h)}
function Xi(a){return !a?null:a.Vc()}
function Jd(a){return a==null?null:a}
function gs(a,b){return -$w(a.i,b.i)}
function yr(a,b,c){return mk(a.j,b,c)}
function gm(a,b,c){return b+pC(a.p)*c}
function Br(a,b){return xj(a.c,b).a>0}
function XB(a){return a!=null?Kb(a):0}
function fx(a,b){return a<b?-1:a>b?1:0}
function Ax(a,b){a.a+=''+b;return a}
function Bx(a,b){a.a+=''+b;return a}
function uz(a,b){Tz(a.a,a.a.length,b)}
function PD(a,b,c){ND(c,0,a,b,c.length)}
function OD(a,b,c){a.splice(b,0,c)}
function Tc(a,b,c){return {l:a,m:b,h:c}}
function ad(a){return a.l+a.m*BE+a.h*CE}
function Dx(a){kw.call(this,(ZD(a),a))}
function vq(){kq.call(this,'GUST',11)}
function xq(){kq.call(this,'BLINK',12)}
function dD(){ZC.call(this,'Range',2)}
function kz(a){a.a=Kc(Sg,QE,1,0,5,1)}
function TD(a){if(!a){throw qi(new _w)}}
function WD(a){if(!a){throw qi(new pw)}}
function XD(a){if(!a){throw qi(new VB)}}
function aE(a){if(!a){throw qi(new bx)}}
function eE(a){if(!a){throw qi(new Yw)}}
function iB(a,b){if(a.a){tB(b);sB(b)}}
function Qm(a,b){this.b=a;this.a=a._b(b)}
function Dd(a,b){return a!=null&&vd(a,b)}
function JC(a){return a.b=wd(oy(a.a),19)}
function hE(a){return a.$H||(a.$H=++gE)}
function vz(a){return MD(a.a,a.a.length)}
function Hd(a){return typeof a==='string'}
function lE(){lE=Hi;iE=new Eb;kE=new Eb}
function Qv(){Qv=Hi;Pv=new Rv((Yj(),Wj))}
function LC(a){MC.call(this,a,(YC(),UC))}
function uB(a){vB.call(this,a,null,null)}
function _b(a){return a==null?null:a.name}
function nm(a,b,c){return b+(c-b)*oC(a.p)}
function Vv(a,b,c){a.b.fillRect(0,0,b,c)}
function Uv(a,b,c,d){a.b.fillText(b,c,d)}
function fE(b,c,d){try{b[c]=d}catch(a){}}
function lA(a,b){b.$modCount=a.$modCount}
function yD(a,b){vD.call(this,a);this.a=b}
function Vb(a){this.f=a;Mb(this);this.Jb()}
function fu(){this.b=new xz;this.a=new oA}
function Ew(a){if(a.k!=null){return}Sw(a)}
function xd(a){eE(a==null||Fd(a));return a}
function Ad(a){eE(a==null||Hd(a));return a}
function zD(a,b){wd(a,31).vc(b);return a}
function tr(a,b){!!a.o&&tr(a.o,b);Xn(a,b)}
function fp(a,b,c,d){sA(a.b,b);jp(a,b,c,d)}
function MA(a,b){var c;c=a[KF];c.call(a,b)}
function NA(a,b){var c;c=a[KF];c.call(a,b)}
function Nb(a,b){a.e=b;b!=null&&fE(b,vE,a)}
function sw(a,b){qw();return a==b?0:a?1:-1}
function Ky(a,b){var c;c=a.e;a.e=b;return c}
function Ed(a){return typeof a==='boolean'}
function gA(a,b){return fA(wd(a,6),wd(b,6))}
function Bd(a){return String.fromCharCode(a)}
function $b(a){return a==null?null:a.message}
function hc(a,b,c){return a.apply(b,c);var d}
function Uu(){Iu.call(this,aF,13,0,0,true)}
function gv(){Iu.call(this,rF,2,60,10,true)}
function Qq(){kq.call(this,'RETALIATE',20)}
function Lq(){kq.call(this,'AGILITY_HERO',1)}
function ar(){kq.call(this,'MELEE_FOCUS',4)}
function Zq(){kq.call(this,'RANGED_FOCUS',3)}
function Hv(a){Dv.call(this,'FLOOR',1,183,a)}
function Lv(a){Dv.call(this,'PATH',3,9604,a)}
function iv(){Iu.call(this,VE,3,60,12,false)}
function Ku(){Iu.call(this,qF,0,140,15,true)}
function Qu(){Iu.call(this,oF,11,140,6,true)}
function mw(){Vb.call(this,'divide by zero')}
function zz(a){kz(this);PD(this.a,0,a.yc())}
function KC(a){py(a.a);mj(a.c,a.b);a.b=null}
function Hr(a,b){lj(a.c,b,mx(xj(a.c,b).a-1))}
function UD(a,b){if(!a){throw qi(new ax(b))}}
function uk(a,b,c){this.c=a;this.d=b;this.a=c}
function mp(a,b,c){this.a=a;this.b=b;this.c=c}
function BC(a){this.b=(ZD(a),a);this.a=16464}
function Kw(a){var b;b=Jw(a);Ww(a,b);return b}
function Mb(a){a.g&&a.e!==uE&&a.Jb();return a}
function bw(a){a.a.width=1540;a.a.height=810}
function Cw(){Cw=Hi;Bw=Kc(Fg,DE,49,128,0,1)}
function ox(){ox=Hi;nx=Kc(Og,DE,37,256,0,1)}
function Oi(){Oi=Hi;Ni=$wnd.window.document}
function Ou(){Iu.call(this,nF,10,70,22,false)}
function Su(){Iu.call(this,YE,12,70,22,false)}
function Mu(){Iu.call(this,$E,9,150,22,false)}
function kv(){Iu.call(this,WE,4,120,60,false)}
function mv(){Iu.call(this,ZE,5,100,45,false)}
function ov(){Iu.call(this,_E,6,100,18,false)}
function $u(){Iu.call(this,bF,16,96,12,false)}
function Jv(a){Dv.call(this,'TRAIL',2,9602,a)}
function oq(){kq.call(this,'STRENGTH_HERO',0)}
function jl(a,b){Cj.call(this,a,b);this.a=true}
function kl(a,b){Cj.call(this,a,b);this.a=false}
function dB(a,b,c){this.a=a;this.b=b;this.c=c}
function PB(a,b,c){this.d=a;this.b=c;this.a=b}
function vB(a,b,c){this.c=a;Ry.call(this,b,c)}
function Tz(a,b,c){VD(b,a.length);Rz(a,0,b,c)}
function GB(a,b){HB(a,b,a.c.b,a.c);return true}
function wd(a,b){eE(a==null||vd(a,b));return a}
function fA(a,b){return ZD(a),tw(a,(ZD(b),b))}
function rw(a,b){return sw((ZD(a),a),(ZD(b),b))}
function Zw(a,b){return $w((ZD(a),a),(ZD(b),b))}
function oC(a){return rC(a,26)*LF+rC(a,27)*MF}
function px(a){return a==0||isNaN(a)?a:a<0?-1:1}
function vA(a){this.a=new pA(a.Rb());St(this,a)}
function zj(){this.b=null;this.a=(eA(),eA(),dA)}
function qv(){Iu.call(this,'GUST',7,90,13,true)}
function sv(){Iu.call(this,'BLINK',8,60,6,true)}
function Wu(){Iu.call(this,'NOOP',14,0,0,false)}
function av(){Iu.call(this,pF,17,300,200,false)}
function qk(a,b,c,d){sk.call(this,a,b,c,d,false)}
function Wo(a){Co.call(this,5,8,1,1,'Hulk',72,a)}
function xi(a){if(ui(a)){return a|0}return ld(a)}
function oz(a,b){YD(b,a.a.length);return a.a[b]}
function lz(a,b,c){$D(b,a.a.length);OD(a.a,b,c)}
function sC(a,b,c){a.c=b^1502;a.d=c^NF;a.a=false}
function tB(a){a.a.b=a.b;a.b.a=a.a;a.a=a.b=null}
function Mw(a){var b;b=Jw(a);b.j=a;b.e=1;return b}
function mr(a,b){--a.rb;sA(a.ob,b);b.sc(a);or(a)}
function Ox(a){a.d=new GA(a);a.e=new YA(a);mA(a)}
function $v(a){(Oi(),$wnd.window.console).log(a)}
function yi(a){if(ui(a)){return ''+a}return md(a)}
function Ic(a,b,c,d,e,f){return Jc(a,b,c,d,e,0,f)}
function pk(a,b,c){sk.call(this,a,b,c,null,false)}
function $m(a){Ym.call(this,'GOLD',0,36,'Gold',a)}
function Fv(a){Dv.call(this,'DOWN_STAIRS',0,62,a)}
function Eo(a){Co.call(this,1,2,0.5,2,'Ape',97,a)}
function Wq(){kq.call(this,'INTELLIGENCE_HERO',2)}
function aC(){this.b=new yz;this.a=(eA(),eA(),dA)}
function Kz(a){aE(a.b!=-1);qz(a.c,a.a=a.b);a.b=-1}
function _j(a,b){b<0&&(b=0);b>255&&(b=255);a.b=b}
function $j(a,b){b<0&&(b=0);b>255&&(b=255);a.a=b}
function ak(a,b){b<0&&(b=0);b>255&&(b=255);a.c=b}
function bk(a,b){b<0&&(b=0);b>255&&(b=255);a.d=b}
function Hx(a,b){return Hd(b)?Kx(a,b):!!DA(a.d,b)}
function UA(a,b){return !(a.a.get(b)===undefined)}
function Gd(a){return a!=null&&Id(a)&&!(a.ed===Li)}
function Mc(a){return Array.isArray(a)&&a.ed===Li}
function Cd(a){return !Array.isArray(a)&&a.ed===Li}
function Id(a){return typeof a===qE||typeof a===sE}
function cd(a,b){return Tc(a.l&b.l,a.m&b.m,a.h&b.h)}
function Ix(a,b){return Hd(b)?Jx(a,b):Xi(DA(a.d,b))}
function Sv(){Qv();return Oc(Gc(ug,1),DE,93,0,[Pv])}
function ys(a,b){if(!b){return 0}return b.a-a.g.Bb}
function zs(a,b){if(!b){return 0}return b.b-a.g.Cb}
function BD(a,b,c){if(a.a.nc(c)){a.b=true;b.bd(c)}}
function tD(a){if(!a.b){uD(a);a.c=true}else{tD(a.b)}}
function mz(a,b){Nc(a.a,a.a.length,b);return true}
function uc(a,b){!a&&(a=[]);a[a.length]=b;return a}
function MD(a,b){var c;c=a.slice(0,b);return Pc(c,a)}
function sA(a,b){var c;c=a.a.Kc(b,a);return c==null}
function Nc(a,b,c){WD(c==null||Fc(a,c));return a[b]=c}
function ZD(a){if(a==null){throw qi(new qx)}return a}
function oE(){if(jE==256){iE=kE;kE=new Eb;jE=0}++jE}
function py(a){aE(a.c!=-1);a.d.Sc(a.c);a.b=a.c;a.c=-1}
function BB(a){this.c=a;this.b=a.a.b.a;lA(a.a.c,this)}
function zC(a,b){this.e=a;this.d=(b&64)!=0?b|16384:b}
function Qn(a,b){Pn();this.a=a;Kx(On,b)?Ad(Jx(On,b)):b}
function wD(a,b){uD(a);return new yD(a,new CD(b,a.a))}
function Lx(a,b,c){return Hd(b)?Mx(a,b,c):EA(a.d,b,c)}
function ao(a,b){return !b.rc()&&!b.qc()&&!tA(a.ob,b)}
function WB(a,b){return Jd(a)===Jd(b)||a!=null&&Gb(a,b)}
function xx(a){return String.fromCharCode.apply(null,a)}
function Ho(a){Co.call(this,1,3,1,1,'Bandit',98,a)}
function Qo(a){Co.call(this,3,6,1,1,'Hellion',104,a)}
function No(a){Co.call(this,2,5,1,1,'Elemental',101,a)}
function ap(a){Co.call(this,7,10,1,1,'Spider',115,a)}
function Zo(a){Co.call(this,6,9,0.25,4,'Pygmy',121,a)}
function Dv(a,b,c,d){Cj.call(this,a,b);this.b=c;this.a=d}
function Pi(a,b,c,d){this.a=a;this.d=b;this.c=c;this.b=d}
function vD(a){if(!a){this.b=null;new xz}else{this.b=a}}
function To(a){Co.call(this,4,7,0.166,6,'Fragment',102,a)}
function cv(){Iu.call(this,'BLACK_HOLE_STUN',18,0,0,true)}
function rr(a,b,c,d){d=Kd(d*a.gb);b.lc(d,a,c,1,true)}
function sx(a,b){dE(b,a.length);return a.charCodeAt(b)}
function oy(a){XD(a.b<a.d.Rb());return a.d.Qc(a.c=a.b++)}
function AC(a){if(!a.d){a.d=new qy(a.b);a.c=a.b.a.length}}
function pm(a,b){if(!a.r){return}if(!a.n){return}Hk(a,b)}
function Kx(a,b){return b==null?!!DA(a.d,null):UA(a.e,b)}
function Jx(a,b){return b==null?Xi(DA(a.d,null)):VA(a.e,b)}
function DA(a,b){return BA(a,b,CA(a,b==null?0:a.b.Jc(b)))}
function Ol(){Ml();return Oc(Gc(ce,1),DE,81,0,[Ll,Kl])}
function oD(){mD();return Oc(Gc(ci,1),DE,53,0,[jD,kD,lD])}
function Mj(){Kj();return Oc(Gc(Zd,1),DE,72,0,[Jj,Hj,Ij])}
function mc(a){gc();$wnd.setTimeout(function(){throw a},0)}
function yd(a){eE(a==null||Id(a)&&!(a.ed===Li));return a}
function zd(a,b){eE(a==null||a&&b&&a instanceof b);return a}
function Lw(a,b){var c;c=Jw(a);Ww(a,c);c.e=b?8:0;return c}
function Ob(a,b){var c;c=Fw(a.cd);return b==null?c:c+': '+b}
function Si(a,b){return b===a?'(this Map)':b==null?xE:Ki(b)}
function ri(a,b){return si(cd(ui(a)?vi(a):a,ui(b)?vi(b):b))}
function Kd(a){return Math.max(Math.min(a,tE),-2147483648)|0}
function Ev(){Cv();return Oc(Gc(sg,1),DE,44,0,[yv,zv,Bv,Av])}
function Mx(a,b,c){return b==null?EA(a.d,null,c):WA(a.e,b,c)}
function Qw(a){if(a.Gc()){return null}var b=a.j;return Ei[b]}
function iD(a,b,c,d){ZD(a);ZD(b);ZD(c);ZD(d);return new pD}
function $D(a,b){if(a<0||a>b){throw qi(new nw(VF+a+WF+b))}}
function YD(a,b){if(a<0||a>=b){throw qi(new nw(VF+a+WF+b))}}
function dE(a,b){if(a<0||a>=b){throw qi(new Ex(VF+a+WF+b))}}
function cE(a,b){if(a>b||a<0){throw qi(new Ex(TF+a+UF+b))}}
function Nv(a,b,c){if(a<b){return b}if(a>c){return c}return a}
function Ji(a){function b(){}
;b.prototype=a||{};return new b}
function mA(a){var b,c;c=a;b=c.$modCount|0;c.$modCount=b+1}
function sB(a){var b;b=a.c.b.b;a.b=b;a.a=a.c.b;b.a=a.c.b.b=a}
function xy(a,b){_D(b,a.a.length);this.c=a;this.a=0;this.b=b}
function Rv(a){Cj.call(this,'GRANITE',0);this.b=9610;this.a=a}
function In(a){Ym.call(this,'IRON_SPIKE',5,94,'Iron Spike',a)}
function Ko(a){Co.call(this,1,4,0.25,4,'Carrion Beetle',99,a)}
function ev(){Iu.call(this,'PIT_OF_MALICE_STUN',1,0,0,true)}
function aD(){YC();return Oc(Gc(ai,1),DE,52,0,[UC,VC,WC,XC])}
function vj(a,b){gj(a,b)?lj(a,b,mx(xj(a,b).a+1)):lj(a,b,mx(1))}
function wj(a,b,c){gj(a,b)?lj(a,b,mx(xj(a,b).a+c)):lj(a,b,mx(c))}
function yj(a,b){!!gj(a,b)&&xj(a,b).a>0&&lj(a,b,mx(xj(a,b).a-1))}
function Gk(a,b,c,d,e){a.a=e;Tv(a);a.b.fillText(b,c*11,(d+1)*15)}
function om(a,b,c){return Kd($wnd.Math.floor(b+(c-b+1)*oC(a.p)))}
function Ow(a,b){var c=a.a=a.a||[];return c[b]||(c[b]=a.Cc(b))}
function CA(a,b){var c;c=a.a.get(b);return c==null?new Array:c}
function pj(a,b){var c;c=1-b;a.a[c]=qj(a.a[c],c);return qj(a,b)}
function Xn(a,b){var c;c=1+((a.V+b)/20|0);c>a.db&&a.fc(c);a.V+=b}
function uy(a,b){this.a=a;qy.call(this,a);$D(b,a.Rb());this.b=b}
function IA(a){this.e=a;this.b=this.e.a.entries();this.a=new Array}
function xc(){xc=Hi;var a,b;b=!Ac();a=new Ec;wc=b?new Bc:a}
function Ml(){Ml=Hi;Ll=new Nl('RANGED',0);Kl=new Nl('MELEE',1)}
function Zm(){Xm();return Oc(Gc(ue,1),DE,32,0,[Rm,Tm,Vm,Wm,Um,Sm])}
function ik(a){a.k=new aC;a.o=Ic(_d,[OE,PE],[265,21],0,[100,50],2)}
function Jz(a){XD(a.a<a.c.a.length);a.b=a.a++;return a.c.a[a.b]}
function OB(a){XD(a.b!=a.d.c);a.c=a.b;a.b=a.b.a;++a.a;return a.c.c}
function vr(a){if(a.j.b){return new cs(a.j.b.c,a.j.b.d)}return null}
function wr(a){if(a.j.c){return new cs(a.j.c.c,a.j.c.d)}return null}
function xr(a){if(a.j.d){return new cs(a.j.d.c,a.j.d.d)}return null}
function zr(a){if(a.j.e){return new cs(a.j.e.c,a.j.e.d)}return null}
function Xx(a,b){if(Dd(b,19)){return Qi(a.a,wd(b,19))}return false}
function wB(a,b){if(Dd(b,19)){return Qi(a.a,wd(b,19))}return false}
function xj(a,b){if(!gj(a,b)){return mx(0)}return wd(Xi(gj(a,b)),37)}
function wi(a){var b;if(ui(a)){b=a;return b==-0.?0:b}return kd(a)}
function kc(a,b,c){var d;d=ic();try{return hc(a,b,c)}finally{lc(d)}}
function fk(a,b,c){Yj();bk(this,a);ak(this,b);_j(this,c);$j(this,255)}
function gk(a,b,c,d){Yj();bk(this,a);ak(this,b);_j(this,c);$j(this,d)}
function Iu(a,b,c,d,e){Cj.call(this,a,b);this.b=c;this.a=d;this.c=e}
function Ym(a,b,c,d,e){Cj.call(this,a,b);this.c=c;this.b=d;this.a=e}
function HB(a,b,c,d){var e;e=new UB;e.c=b;e.b=c;e.a=d;d.b=c.a=e;++a.b}
function qz(a,b){var c;c=(YD(b,a.a.length),a.a[b]);QD(a.a,b);return c}
function bA(a,b){var c;for(c=a.a.length-1;c>=1;c--){cA(a,c,qC(b,c+1))}}
function kA(a,b){if(b.$modCount!=a.$modCount){throw qi(new nA)}}
function Qb(b){if(!('stack' in b)){try{throw b}catch(a){}}return b}
function Pl(a){a*=10;a=wi(ti($wnd.Math.round(a)));a/=10;return a+''}
function GC(a,b){!a.a?(a.a=new Dx(a.d)):Bx(a.a,a.b);Ax(a.a,b);return a}
function Nx(a,b){return Hd(b)?b==null?FA(a.d,null):XA(a.e,b):FA(a.d,b)}
function _i(a,b){var c,d;c=b.Uc();d=a.Tb(c);return !!d&&WB(d.e,b.Vc())}
function tx(a,b){var c,d;c=(ZD(a),a);d=(ZD(b),b);return c==d?0:c<d?-1:1}
function Rc(a){var b,c,d;b=a&yE;c=a>>22&yE;d=a<0?zE:0;return Tc(b,c,d)}
function lc(a){a&&sc((qc(),pc));--dc;if(a){if(fc!=-1){nc(fc);fc=-1}}}
function tC(a,b){sC(a,xi(ri(si(hd(ui(b)?vi(b):b,24)),QF)),xi(ri(b,QF)))}
function RC(a,b){Ry.call(this,a,b);this.a=Kc(Xh,QE,64,2,0,1);this.b=true}
function HC(a,b){this.b=SE;this.d=a;this.e=b;this.c=this.d+(''+this.e)}
function $A(a){this.d=a;this.b=this.d.a.entries();this.a=this.b.next()}
function jc(b){gc();return function(){return kc(b,this,arguments);var a}}
function cc(){if(Date.now){return Date.now()}return (new Date).getTime()}
function yz(){kz(this);UD(true,'Initial capacity must not be negative')}
function bE(a){if(!a){throw qi(new cx('Unable to add element to queue'))}}
function YC(){YC=Hi;UC=new ZC('All',0);VC=new bD;WC=new dD;XC=new gD}
function mj(a,b){var c;c=new SC;c.c=true;c.d=b.Vc();return nj(a,b.Uc(),c)}
function xD(a,b){var c;tD(a);c=new HD;c.a=b;a.a.Zc(new KD(c));return c.a}
function tz(a,b,c){var d;d=(YD(b,a.a.length),a.a[b]);Nc(a.a,b,c);return d}
function Rz(a,b,c,d){var e;d=(eA(),!d?dA:d);e=a.slice(b,c);Sz(e,a,b,c,-b,d)}
function Kc(a,b,c,d,e,f){var g;g=Lc(e,d);e!=10&&Oc(Gc(a,f),b,c,e,g);return g}
function jB(a,b){var c;c=wd(Nx(a.c,b),60);if(c){tB(c);return c.e}return null}
function CD(a,b){zC.call(this,b.Yc(),b.Xc()&-16449);ZD(a);this.a=a;this.c=b}
function Yu(){Iu.call(this,'BATTERY_ASSAULT_INTERRUPT',15,0,0,true)}
function fn(a){Ym.call(this,'POTION_OF_HEALING',1,33,'Potion of Healing',a)}
function nn(a){Ym.call(this,'SCROLL_OF_BLESSING',2,63,'Scroll of Blessing',a)}
function xp(){vp();return Oc(Gc(Me,1),DE,43,0,[np,op,sp,qp,rp,up,pp,tp])}
function vx(a,b){b=yx(b);return a.replace(new RegExp('PriorityAction','g'),b)}
function lr(a,b,c){Sn(a,b,c);Ck&&a.n&&$v('d'+a.k.e+'s'+a.sb+': '+a.p+': '+b)}
function Ap(a){var b,c,d,e;for(c=a.a,d=0,e=c.length;d<e;++d){b=c[d];Fp(b)}}
function sc(a){var b,c;if(a.b){c=null;do{b=a.b;a.b=null;c=vc(b,c)}while(a.b);a.b=c}}
function rc(a){var b,c;if(a.a){c=null;do{b=a.a;a.a=null;c=vc(b,c)}while(a.a);a.a=c}}
function $B(a){var b;b=a.b.a.length==0?null:oz(a.b,0);b!=null&&_B(a,0);return b}
function Jw(a){var b;b=new Hw;b.k='Class$'+(a?'S'+a:''+b.g);b.b=b.k;b.i=b.k;return b}
function du(a,b){var c;c=wd(Ix(a.a,b),37);if(!c){return false}eu(a,c.a);return true}
function Pc(a,b){Hc(b)!=10&&Oc(Ib(b),b.dd,b.__elementTypeId$,Hc(b),a);return a}
function pz(a,b,c){for(;c<a.a.length;++c){if(WB(b,a.a[c])){return c}}return -1}
function cB(a){if(a.a.d!=a.c){return VA(a.a,a.b.value[0])}return a.b.value[1]}
function kd(a){if(dd(a,(rd(),qd))<0){return -ad(fd(a))}return a.l+a.m*BE+a.h*CE}
function Ii(a,b,c){var d=function(){return a.apply(d,arguments)};b.apply(d,c);return d}
function JB(a,b){var c;c=b.c;b.a.b=b.b;b.b.a=b.a;b.a=b.b=null;b.c=null;--a.b;return c}
function Ww(a,b){var c;if(!a){return}b.j=a;var d=Qw(b);if(!d){Ei[a]=[b];return}d.cd=b}
function pi(a){var b;if(Dd(a,17)){return a}b=a&&a[vE];if(!b){b=new Zb(a);yc(b)}return b}
function VD(a,b){if(0>a){throw qi(new ax(SF+a))}if(a>b){throw qi(new ow(TF+a+UF+b))}}
function hB(a,b){ZD(b);while(a.b<a.d.Rb()){JD(b,(XD(a.b<a.d.Rb()),a.d.Qc(a.c=a.b++)))}}
function _B(a,b){var c;c=qz(a.b,a.b.a.length-1);if(b<a.b.a.length){tz(a.b,b,c);YB(a,b)}}
function fy(a,b){var c,d;for(c=0,d=a.Rb();c<d;++c){if(WB(b,a.Qc(c))){return c}}return -1}
function kx(a){var b,c;if(a==0){return 32}else{c=0;for(b=1;(b&a)==0;b<<=1){++c}return c}}
function Yl(a){var b;b=new rs(a.o);while(true){ps(b);if(b.i==0){return false}qs(b);rm(a)}}
function qj(a,b){var c,d;c=1-b;d=a.a[c];a.a[c]=d.a[b];d.a[b]=a;a.b=true;d.b=false;return d}
function Di(a,b){typeof window===qE&&typeof window['$gwt']===qE&&(window['$gwt'][a]=b)}
function Hc(a){return a.__elementTypeCategory$==null?10:a.__elementTypeCategory$}
function cu(a,b){var c;if(a.b.a.length==0){return null}c=qC(b,a.b.a.length);return eu(a,c)}
function Ai(){Bi();var a=zi;for(var b=0;b<arguments.length;b++){a.push(arguments[b])}}
function Un(a){var b,c,d,e;for(c=ll(),d=0,e=c.length;d<e;++d){b=c[d];a.U[b.i]>0&&--a.U[b.i]}}
function Ul(a){var b,c,d;b=0;for(d=0;d<50;d++){for(c=0;c<100;c++){!a.u[c][d]&&++b}}return b}
function ip(a,b,c){var d;d=a.a[b][c];if(!d){return null}if(d.T||d.$<=0){return null}return d}
function si(a){var b;b=a.h;if(b==0){return a.l+a.m*BE}if(b==zE){return a.l+a.m*BE-CE}return a}
function bu(a,b){if(Hx(a.a,b)){return false}Lx(a.a,b,mx(a.b.a.length));mz(a.b,b);return true}
function _D(a,b){if(a>b){throw qi(new nw(TF+a+', size: '+b))}if(0>a){throw qi(new ax(SF+a))}}
function kB(){Ox(this);this.b=new uB(this);this.c=new oA;this.b.b=this.b;this.b.a=this.b}
function lp(){this.c=new xz;this.b=new uA;this.a=Ic(Ne,[OE,kF],[132,35],0,[100,50],2)}
function gp(a){a.c.a=Kc(Sg,QE,1,0,5,1);a.b.a.Hc();a.a=Ic(Ne,[OE,kF],[132,35],0,[100,50],2)}
function rd(){rd=Hi;nd=Tc(yE,yE,524287);od=Tc(0,0,AE);pd=Rc(1);Rc(2);qd=Rc(0)}
function Bn(a){Ym.call(this,'SCROLL_OF_BANISHMENT',4,63,'Scroll of Banishment',a)}
function un(a){Ym.call(this,'SCROLL_OF_MAGIC_MAPPING',3,63,'Scroll of Magic Mapping',a)}
function dk(a,b,c){bk(this,Kd(a*255));ak(this,Kd(b*255));_j(this,Kd(c*255));$j(this,255)}
function MC(a,b){var c;this.c=a;c=new xz;hj(a,c,b,a.b,null,false,null,false);this.a=new uy(c,0)}
function rz(a,b){var c;c=pz(a,b,0);if(c==-1){return false}YD(c,a.a.length);QD(a.a,c);return true}
function XA(a,b){var c;c=a.a.get(b);if(c===undefined){++a.d}else{NA(a.a,b);--a.c;mA(a.b)}return c}
function Lk(a,b){var c,d;c=a.o;for(d=0;d<3;d++){Wv(b,c.fb[d]);Uv(b,c.eb[d],11,(d+50+1+1)*15)}}
function Sn(a,b,c){var d;for(d=1;d>=0;d--){a.fb[d+1]=a.fb[d];a.eb[d+1]=a.eb[d]}a.eb[0]=b;a.fb[0]=c}
function vi(a){var b,c,d,e;e=a;d=0;if(e<0){e+=CE;d=zE}c=Kd(e/BE);b=Kd(e-c*BE);return Tc(b,c,d)}
function jd(a,b){var c,d,e;c=a.l-b.l;d=a.m-b.m+(c>>22);e=a.h-b.h+(d>>22);return Tc(c&yE,d&yE,e&zE)}
function ur(a){var b,c;if(a.j.a){b=a.j.a.c;c=a.j.a.d;if(a.s[b][c]){return new cs(b,c)}}return null}
function Ut(a,b){var c,d;ZD(b);for(d=b.xc();d.Mc();){c=d.Nc();if(!a.wc(c)){return false}}return true}
function _z(a){var b,c,d;d=0;for(c=a.xc();c.Mc();){b=c.Nc();d=d+(b!=null?Kb(b):0);d=d|0}return d}
function aA(a){var b,c,d;d=1;for(c=a.xc();c.Mc();){b=c.Nc();d=31*d+(b!=null?Kb(b):0);d=d|0}return d}
function fd(a){var b,c,d;b=~a.l+1&yE;c=~a.m+(b==0?1:0)&yE;d=~a.h+(b==0&&c==0?1:0)&zE;return Tc(b,c,d)}
function Aw(a){var b;if(a<128){b=(Cw(),Bw)[a];!b&&(b=Bw[a]=new vw(a));return b}return new vw(a)}
function zc(a){var b=/function(?:\s+([\w$]+))?\s*\(/;var c=b.exec(a);return c&&c[1]||'anonymous'}
function As(a){var b;this.g=a;Dl&&(this.c=(b=new Cp(Oc(Gc(Nd,1),eF,23,15,[10,40,40,1])),Ap(b),b))}
function lj(a,b,c){var d,e;d=new RC(b,c);e=new SC;a.b=jj(a,a.b,d,e);e.b||++a.c;a.b.b=false;return e.d}
function Oc(a,b,c,d,e){e.cd=a;e.dd=b;e.ed=Li;e.__elementTypeId$=c;e.__elementTypeCategory$=d;return e}
function wp(a,b,c,d,e,f,g){Cj.call(this,a,b);this.f=c;this.d=d;this.a=e;this.b=f;this.c=f;this.e=g}
function Co(a,b,c,d,e,f,g){this.e=a;this.b=b;this.f=c;this.d=d;this.c=e;this.g=f;this.a=g;mz(zo,this)}
function Hp(a,b){this.b=a;this.c=b;this.d=Ic(Md,[OE,lF],[75,23],15,[b,a],2);this.a=Kc(Md,lF,23,b,15,1)}
function ek(a,b,c,d){Yj();bk(this,Kd(a*255));ak(this,Kd(b*255));_j(this,Kd(c*255));$j(this,Kd(d*255))}
function uC(){nC();var a,b,c;c=mC+++Date.now();a=Kd($wnd.Math.floor(c*OF))&QF;b=Kd(c-a*PF);sC(this,a,b)}
function pA(a){UD(a>=0,'Negative initial capacity');UD(true,'Non-positive load factor');Ox(this)}
function ay(a){if(a.a.Mc()){return true}if(a.a!=a.d){return false}a.a=new IA(a.e.d);return a.a.Mc()}
function $w(a,b){if(a<b){return -1}if(a>b){return 1}if(a==b){return 0}return isNaN(a)?isNaN(b)?0:1:-1}
function gj(a,b){var c,d,e;e=a.b;while(e){c=gA(b,e.d);if(c==0){return e}d=c<0?0:1;e=e.a[d]}return null}
function $c(a){var b,c;c=jx(a.h);if(c==32){b=jx(a.m);return b==32?jx(a.l)+32:b+20-10}else{return c-12}}
function fm(a){var b,c;while(true){b=Kd(oC(a.p)*100);c=Kd(oC(a.p)*50);if(!a.u[b][c]){return new cs(b,c)}}}
function Zc(a){var b,c,d;b=~a.l+1&yE;c=~a.m+(b==0?1:0)&yE;d=~a.h+(b==0&&c==0?1:0)&zE;a.l=b;a.m=c;a.h=d}
function Mr(a,b){var c,d;if(b>a.t.a.Rb()){return}c=new zz(a.t);d=(YD(b,c.a.length),wd(c.a[b],15));Nr(a,d)}
function Kj(){Kj=Hi;Jj=new Lj('STRENGTH',0);Hj=new Lj('AGILITY',1);Ij=new Lj('INTELLIGENCE',2)}
function mD(){mD=Hi;jD=new nD('CONCURRENT',0);kD=new nD('IDENTITY_FINISH',1);lD=new nD('UNORDERED',2)}
function ll(){il();return Oc(Gc(be,1),DE,26,0,[Sk,al,_k,bl,Wk,Xk,gl,el,Yk,Tk,cl,Rk,dl,Zk,hl,fl,$k,Uk,Vk])}
function Ju(){Hu();return Oc(Gc(mg,1),DE,15,0,[Bu,Cu,uu,Du,wu,yu,ou,xu,su,tu,Fu,zu,Gu,Eu,Au,pu,vu,qu,ru])}
function tw(a,b){qw();return Hd(a)?tx(a,Ad(b)):Fd(a)?Zw(a,xd(b)):Ed(a)?rw(a,(eE(b==null||Ed(b)),b)):a.Ub(b)}
function Ib(a){return Hd(a)?Wg:Fd(a)?Ig:Ed(a)?Eg:Cd(a)?a.cd:Mc(a)?a.cd:a.cd||Array.isArray(a)&&Gc(Pd,1)||Pd}
function ti(a){if(-17592186044416<a&&a<CE){return a<0?$wnd.Math.ceil(a):$wnd.Math.floor(a)}return si(ed(a))}
function Wc(a,b,c,d,e){var f;f=hd(a,b);c&&Zc(f);if(e){a=Yc(a,b);d?(Qc=fd(a)):(Qc=Tc(a.l,a.m,a.h))}return f}
function BA(a,b,c){var d,e,f;for(e=0,f=c.length;e<f;++e){d=c[e];if(a.b.Ic(b,d.Uc())){return d}}return null}
function St(a,b){var c,d,e,f;ZD(b);c=false;for(e=b.xc();e.Mc();){d=e.Nc();c=c|(f=a.a.Kc(d,a),f==null)}return c}
function Zv(a,b){var c,d;c=zd(b,$wnd.KeyboardEvent);a.d=new Qn(c.key,(d=c.code,c.key.length==1,d));km(a.e.a)}
function Gr(a){var b,c,d;Jr(a);c=2500;a.n||(c=c/12|0);d=a.sb-a.nb;b=d<=1;b?(a.j=new rk(a.k,a.Bb,a.Cb,a,c)):ok(a.j)}
function mx(a){var b,c;if(a>-129&&a<128){b=a+128;c=(ox(),nx)[b];!c&&(c=nx[b]=new ex(a));return c}return new ex(a)}
function xs(a,b){var c;if(!b){return null}a.e=yr(a.g,b.a,b.b);qz(a.e,0);c=wd(oz(a.e,0),21);return new cs(c.c,c.d)}
function eo(a){var b,c;for(c=new Lz(a.Y.b[a.Bb][a.Cb]);c.a<c.c.a.length;){b=wd(Jz(c),40);b.c>0&&b.d.Ac(b.a,a)}}
function cA(a,b,c){var d;d=(YD(b,a.a.length),a.a[b]);tz(a,b,(YD(c,a.a.length),a.a[c]));YD(c,a.a.length);Nc(a.a,c,d)}
function um(a,b,c,d){return fx($wnd.Math.abs(c.a-a)+$wnd.Math.abs(c.b-b),$wnd.Math.abs(d.a-a)+$wnd.Math.abs(d.b-b))}
function sk(a,b,c,d,e){ik(this);this.i=a;this.s=a.u;this.f=b;this.g=c;this.n=d;this.q=e;this.p=2500;kk(this)}
function rk(a,b,c,d,e){ik(this);this.i=a;this.s=a.u;this.f=b;this.g=c;this.n=d;this.q=false;this.p=e;kk(this)}
function KB(){this.a=new UB;this.c=new UB;this.a.a=this.c;this.c.b=this.a;this.a.b=this.c.a=null;this.b=0}
function Hw(){this.g=Dw++;this.k=null;this.i=null;this.f=null;this.d=null;this.b=null;this.j=null;this.a=null}
function by(a){this.e=a;this.d=new $A(this.e.e);this.a=this.d;this.b=ay(this);this.$modCount=a.$modCount}
function Zb(a){Xb();Mb(this);this.e=a;a!=null&&fE(a,vE,this);this.f=a==null?xE:Ki(a);this.a='';this.b=a;this.a=''}
function uD(a){if(a.b){uD(a.b)}else if(a.c){throw qi(new cx("Stream already terminated, can't be modified or used"))}}
function Cv(){Cv=Hi;yv=new Fv((Yj(),Wj));zv=new Hv(Wj);Bv=new Jv(new fk(210,105,30));Av=new Lv(new fk(210,105,30))}
function Xm(){Xm=Hi;Rm=new $m((Yj(),Xj));Tm=new fn(Vj);Vm=new nn(Rj);Wm=new un(Zj(Oj));Um=new Bn(Zj(Pj));Sm=new In(Rj)}
function Zj(a){var b;b=new ck;bk(b,Kd(a.d*0.5+127.5));ak(b,Kd(a.c*0.5+127.5));_j(b,Kd(a.b*0.5+127.5));$j(b,a.a);return b}
function hp(a){var b,c;for(c=new Lz(a.c);c.a<c.c.a.length;){b=wd(Jz(c),89);fp(a,b.a,b.b,b.c)}a.c.a=Kc(Sg,QE,1,0,5,1)}
function Tt(a,b){var c,d;for(d=a.xc();d.Mc();){c=d.Nc();if(Jd(b)===Jd(c)||b!=null&&Gb(b,c)){return true}}return false}
function zx(a,b){var c,d,e;cE(b,a.length);e='';for(d=0;d<b;){c=$wnd.Math.min(d+10000,b);e+=xx(a.slice(d,c));d=c}return e}
function nz(a,b){var c,d;c=Uz(b,Kc(Sg,QE,1,b.a.length,5,1));d=c.length;if(d==0){return false}PD(a.a,a.a.length,c);return true}
function WA(a,b,c){var d;d=a.a.get(b);a.a.set(b,c===undefined?null:c);if(d===undefined){++a.c;mA(a.b)}else{++a.d}return d}
function Er(a,b,c){a.n&&ti(Date.now());bo(a,b,c);if(a.k.g[a.Bb][a.Cb]){Pm(a.k.g[a.Bb][a.Cb],a);Nc(a.k.g[a.Bb],a.Cb,null)}}
function Xl(a){var b;while(true){if(Kr(a.o)){if(a.o.$>(a.o.kb/2|0)){Wl(a)}else{break}}else{bm(a);_l(a);b=Yl(a);if(b){break}}}}
function Zl(a){var b;while(true){if(Kr(a.o)){if(a.o.$>0){Wl(a)}else{break}}else{bm(a);_l(a);b=Yl(a);if(b){break}}}a.o.$>0&&$l(a)}
function Ki(a){var b;if(Array.isArray(a)&&a.ed===Li){return Fw(Ib(a))+'@'+(b=Kb(a)>>>0,b.toString(16))}return a.toString()}
function Vc(a,b){if(a.h==AE&&a.m==0&&a.l==0){b&&(Qc=Tc(0,0,0));return Sc((rd(),pd))}b&&(Qc=Tc(a.l,a.m,a.h));return Tc(0,0,0)}
function mn(a,b){if(xj(b.c,a).a<=0){return}yj(b.c,a);Rn(b,(il(),Sk),25);lr(b,'You feel a calm blessing wash over you.',(Yj(),Sj))}
function Qz(a,b,c,d,e,f,g,h){var i;i=c;while(f<g){i>=d||b<c&&h.Wb(a[b],a[i])<=0?Nc(e,f++,a[b++]):Nc(e,f++,a[i++])}}
function Pz(a,b,c,d){var e,f,g;for(e=b+1;e<c;++e){for(f=e;f>b&&d.Wb(a[f-1],a[f])>0;--f){g=a[f];Nc(a,f,a[f-1]);Nc(a,f-1,g)}}}
function Fp(a){var b,c;for(c=0;c<a.c;c++){a.a[c]=-1+2*$wnd.Math.random();for(b=0;b<a.b;b++){a.d[c][b]=-1+2*$wnd.Math.random()}}}
function Vw(a,b){var c=0;while(!b[c]||b[c]==''){c++}var d=b[c++];for(;c<b.length;c++){if(!b[c]||b[c]==''){continue}d+=a+b[c]}return d}
function wz(a,b){var c,d;d=a.a.length;b.length<d&&(b=RD(new Array(d),b));for(c=0;c<d;++c){Nc(b,c,a.a[c])}b.length>d&&Nc(b,d,null);return b}
function Uz(a,b){var c,d;d=a.a.length;b.length<d&&(b=RD(new Array(d),b));for(c=0;c<d;++c){Nc(b,c,a.a[c])}b.length>d&&Nc(b,d,null);return b}
function Ri(a,b){var c,d,e;for(d=a.Pb().xc();d.Mc();){c=wd(d.Nc(),19);e=c.Uc();if(Jd(b)===Jd(e)||b!=null&&Gb(b,e)){return c}}return null}
function ic(){var a;if(dc!=0){a=cc();if(a-ec>2000){ec=a;fc=$wnd.setTimeout(oc,10)}}if(dc++==0){rc((qc(),pc));return true}return false}
function nq(){jq();return Oc(Gc(mf,1),DE,9,0,[iq,Op,Zp,dq,bq,cq,Tp,eq,Vp,Yp,Pp,Wp,Rp,_p,aq,Sp,gq,Xp,$p,hq,fq,Up,Qp])}
function Ac(){if(Error.stackTraceLimit>0){$wnd.Error.stackTraceLimit=Error.stackTraceLimit=64;return true}return 'stack' in new Error}
function dp(a,b,c){var d,e;while(true){d=Kd(oC(c.p)*100);e=Kd(oC(c.p)*50);if(!c.u[d][e]&&!ip(c.i,d,e)){sA(a.b,b);jp(a,b,d,e);return}}}
function bm(a){var b;b=0;do{++b;Er(a.o,0,0);rm(a)}while((a.o.$<a.o.kb||a.o.ib<a.o.lb)&&!Kr(a.o));lr(a.o,'Rested '+b+' turns.',(Yj(),Sj))}
function nr(a,b){var c,d;c=xj(a.c,b.b).a;d=$wnd.Math.min(b.b.Xb()-c,b.a);if(d>0){wj(a.c,b.b,d);lr(a,'Picked up '+d+' '+b.b.b+'(s).',b.b.a)}}
function IB(a,b){var c,d;$D(b,a.b);if(b>=a.b>>1){d=a.c;for(c=a.b;c>b;--c){d=d.b}}else{d=a.a.a;for(c=0;c<b;++c){d=d.a}}return new PB(a,b,d)}
function nE(a){lE();var b,c,d;c=':'+a;d=kE[c];if(d!=null){return Kd((ZD(d),d))}d=iE[c];b=d==null?mE(a):Kd((ZD(d),d));oE();kE[c]=b;return b}
function Kb(a){return Hd(a)?nE(a):Fd(a)?Kd((ZD(a),a)):Ed(a)?(ZD(a),a)?1231:1237:Cd(a)?a.Fb():Mc(a)?hE(a):!!a&&!!a.hashCode?a.hashCode():hE(a)}
function Gb(a,b){return Hd(a)?ux(a,b):Fd(a)?(ZD(a),a===b):Ed(a)?(ZD(a),a===b):Cd(a)?a.Db(b):Mc(a)?a===b:!!a&&!!a.equals?a.equals(b):Jd(a)===Jd(b)}
function Yn(a,b){a.db=b;if(b<=4){++a.rb}else{a.P+=2;a.H+=2;a.L+=2}a.bc('Gained a new level! Welcome to level '+a.db+'.',new gk(255,255,0,255))}
function Do(a){Ao();var b,c,d;d=new xz;for(c=new Lz(zo);c.a<c.c.a.length;){b=wd(Jz(c),25);a>=b.e&&a<=b.b&&(Nc(d.a,d.a.length,b),true)}return d}
function SD(a){switch(typeof(a)){case 'string':return nE(a);case rE:return Kd(a);case 'boolean':return qw(),a?1231:1237;default:return hE(a);}}
function qC(a,b){var c,d;TD(b>0);if((b&-b)==b){return Kd(b*rC(a,31)*4.6566128730773926E-10)}do{c=rC(a,31);d=c%b}while(c-d+(b-1)<0);return Kd(d)}
function Ql(a){var b,c,d,e;b=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);for(d=0;d<100;d++){for(e=0;e<50;e++){c=a[d][e];b[d][e]=!c?9:c.a/10|0}}return b}
function vd(a,b){if(Hd(a)){return !!ud[b]}else if(a.dd){return !!a.dd[b]}else if(Fd(a)){return !!td[b]}else if(Ed(a)){return !!sd[b]}return false}
function Qk(a,b){var c,d;for(d=0;d<50;d++){for(c=0;c<100;c++){if(!ip(a.i,c,d)){continue}Wv(b,new gk(64,255,64,64));b.b.fillRect(c*11,d*15,11,15)}}}
function hj(a,b,c,d,e,f,g,h){var i,j;if(!d){return}i=d.a[0];!!i&&hj(a,b,c,i,e,f,g,h);ij(a,c,d.d,e,f,g,h)&&b.vc(d);j=d.a[1];!!j&&hj(a,b,c,j,e,f,g,h)}
function ku(a){var b,c;for(b=a.d;b<a.d+a.f;b++){for(c=a.e;c<a.e+a.c;c++){if(a.a){if((b+c+a.d+a.e+1)%2==0){continue}}Nc(a.b.u[b],c,null)}}return a.a}
function ij(a,b,c,d,e,f,g){var h,i;if(b._c()&&(i=gA(c,d),i<0||!e&&i==0)){return false}if(b.ad()&&(h=gA(c,f),h>0||!g&&h==0)){return false}return true}
function Qi(a,b){var c,d,e;c=b.Uc();e=b.Vc();d=a.Qb(c);if(!(Jd(e)===Jd(d)||e!=null&&Gb(e,d))){return false}if(d==null&&!a.Ob(c)){return false}return true}
function bd(a,b){var c,d,e;e=a.h-b.h;if(e<0){return false}c=a.l-b.l;d=a.m-b.m+(c>>22);e+=d>>22;if(e<0){return false}a.l=c&yE;a.m=d&yE;a.h=e&zE;return true}
function Ir(a){var b,c;dp(a.Y.i,a,a.Y);for(c=0;c<50;c++){for(b=0;b<100;b++){a.r[b][c]=false;a.u[b][c]=false}}Jr(a);a.j=new qk(a.k,a.Bb,a.Cb,a);a.w=0}
function Yc(a,b){var c,d,e;if(b<=22){c=a.l&(1<<b)-1;d=e=0}else if(b<=44){c=a.l;d=a.m&(1<<b-22)-1;e=0}else{c=a.l;d=a.m;e=a.h&(1<<b-44)-1}return Tc(c,d,e)}
function Ao(){Ao=Hi;zo=new xz;new Eo(new fk(180,140,100));new Ho((Yj(),Qj));new Ko(Vj);new No(Pj);new Qo(Uj);new To(Tj);new Wo(Sj);new Zo(Sj);new ap(Vj)}
function qs(a){var b,c,d;if(!a.b||a.b.a.length==0){Er(a.g,om(a.g.k,-1,1),om(a.g.k,-1,1));return}d=wd(qz(a.b,0),21);b=d.c-a.g.Bb;c=d.d-a.g.Cb;Er(a.g,b,c)}
function Tv(a){var b,c,d,e;e=a.a.d;d=a.a.c;c=a.a.b;b=a.a.a;b==255?(a.b.fillStyle='rgb('+e+SE+d+SE+c+')'):(a.b.fillStyle='rgb('+e+SE+d+SE+c+SE+b/255+')')}
function Lc(a,b){var c=new Array(b);var d;switch(a){case 14:case 15:d=0;break;case 16:d=false;break;default:return c;}for(var e=0;e<b;++e){c[e]=d}return c}
function Cp(a){var b;new oA;this.b=a;if(a.length==0){return}this.a=Kc(Oe,QE,94,a.length-1,0,1);for(b=0;b<this.a.length;b++){this.a[b]=new Hp(a[b],a[b+1])}}
function Ep(a,b){var c,d,e,f,g,h;GB(b,a.b);GB(b,a.c);for(d=a.a,e=0,f=d.length;e<f;++e){c=d[e];GB(b,c)}for(h=0;h<a.c;h++){for(g=0;g<a.b;g++){GB(b,a.d[h][g])}}}
function eu(a,b){var c,d;if(b>=a.b.a.length){return null}d=oz(a.b,b);Nx(a.a,d);c=qz(a.b,a.b.a.length-1);if(b<a.b.a.length){Lx(a.a,c,mx(b));tz(a.b,b,c)}return d}
function lm(a,b,c,d,e){var f,g,h,i;for(f=-d;f<=d;f++){for(g=-d;g<=d;g++){h=b+f;i=c+g;if(h<0||i<0||h>=100||i>=50){continue}mz(a.b[h][i],new Pi(e.a,e.d,e.c,e.b))}}}
function dd(a,b){var c,d,e,f,g,h,i,j;i=a.h>>19;j=b.h>>19;if(i!=j){return j-i}e=a.h;h=b.h;if(e!=h){return e-h}d=a.m;g=b.m;if(d!=g){return d-g}c=a.l;f=b.l;return c-f}
function Ci(b,c,d,e){Bi();var f=zi;$moduleName=c;$moduleBase=d;oi=e;function g(){for(var a=0;a<f.length;a++){f[a]()}}
if(b){try{pE(g)()}catch(a){b(c,a)}}else{pE(g)()}}
function Gp(a,b,c){var d,e,f,g,h;g=Kc(Md,lF,23,a.c,15,1);for(f=0;f<a.c;f++){h=a.d[f];e=a.a[f];for(d=0;d<a.b;d++){e+=b[d]*h[d]}c&&(e=$wnd.Math.max(e,0));g[f]=e}return g}
function Pn(){Pn=Hi;On=new oA;Mx(On,'ArrowLeft','Left');Mx(On,'ArrowRight','Right');Mx(On,'ControlLeft','Ctrl');Mx(On,'ControlRight','Ctrl');Mx(On,'NumpadEnter','Enter')}
function yx(a){var b;b=0;while(0<=(b=a.indexOf('\\',b))){dE(b+1,a.length);a.charCodeAt(b+1)==36?(a=a.substr(0,b)+'$'+wx(a,++b)):(a=a.substr(0,b)+(''+wx(a,++b)))}return a}
function Jc(a,b,c,d,e,f,g){var h,i,j,k,l;k=e[f];j=f==g-1;h=j?d:0;l=Lc(h,k);d!=10&&Oc(Gc(a,g-f),b[f],c[f],h,l);if(!j){++f;for(i=0;i<k;++i){l[i]=Jc(a,b,c,d,e,f,g)}}return l}
function RA(){function b(){try{return (new Map).entries().next().done}catch(a){return false}}
if(typeof Map===sE&&Map.prototype.entries&&b()){return Map}else{return SA()}}
function nC(){nC=Hi;var a,b,c,d;kC=Kc(Md,lF,23,25,15,1);lC=Kc(Md,lF,23,33,15,1);d=1.52587890625E-5;for(b=32;b>=0;b--){lC[b]=d;d*=0.5}c=1;for(a=24;a>=0;a--){kC[a]=c;c*=0.5}}
function ok(a){var b,c,d;a.k.b.a=Kc(Sg,QE,1,0,5,1);a.r=0;a.a=null;a.b=null;a.c=null;a.d=null;a.e=null;for(c=0;c<100;c++){for(d=0;d<50;d++){b=a.o[c][d];!!b&&nk(a,c,d,b.a,b)}}}
function Vt(a){var b,c,d;d=new HC('[',']');for(c=a.xc();c.Mc();){b=c.Nc();GC(d,b===a?'(this Collection)':b==null?xE:Ki(b))}return !d.a?d.c:d.e.length==0?d.a.a:d.a.a+(''+d.e)}
function ZB(a,b){var c,d;ZD(b);d=a.b.a.length;mz(a.b,b);while(d>0){c=d;d=(d-1)/2|0;if(gA(oz(a.b,d),b)<=0){tz(a.b,c,b);return true}tz(a.b,c,oz(a.b,d))}tz(a.b,d,b);return true}
function en(a,b){var c,d,e;if(xj(b.c,a).a<=0){return}yj(b.c,a);c=om(b.k,140,160);d=b.$+c;b.$=d;e=$wnd.Math.min(b.$,b.kb);b.$=e;lr(b,'Drank healing potion for '+c+hF,(Yj(),Vj))}
function Yb(a){var b;if(a.c==null){b=Jd(a.b)===Jd(Wb)?null:a.b;a.d=b==null?xE:Gd(b)?_b(yd(b)):Hd(b)?'String':Fw(Ib(b));a.a=a.a+': '+(Gd(b)?$b(yd(b)):b+'');a.c='('+a.d+') '+a.a}}
function oj(a,b,c,d){var e,f;f=b;e=f.d==null||gA(c.d,f.d)>0?1:0;while(f.a[e]!=c){f=f.a[e];e=gA(c.d,f.d)>0?1:0}f.a[e]=d;d.b=c.b;d.a[0]=c.a[0];d.a[1]=c.a[1];c.a[0]=null;c.a[1]=null}
function ep(a,b,c,d){var e;e=a.a[b.Bb][b.Cb];if(!!e&&!e.T){throw qi(new Vb('should never try to spawn a monster ('+b.p+') on top of another monster - '+e.ic()))}mz(a.c,new mp(b,c,d))}
function Bp(a,b){var c;if(b.length!=a.a[0].b){throw qi(new Vb('Expected '+a.a[0].b+' values but received '+b.length))}for(c=0;c<a.a.length;c++){b=Gp(a.a[c],b,c<a.a.length-1)}return b}
function Hn(a){var b,c;b=ur(a);if(!_n(a,b.a,b.b)){throw qi(new Vb("can't throw at something that is out of line of sight"))}Hr(a,Sm);c=ip(a.k.i,b.a,b.b);Wn(a,c,'thrown iron spike',0.5)}
function tn(a,b){var c,d;if(xj(b.c,a).a<=0){return}yj(b.c,a);lr(b,'The dungeon crystalizes in your mind.',(Yj(),Sj));for(c=0;c<100;c++){for(d=0;d<50;d++){b.r[c][d]=true;b.s[c][d]=true}}}
function hm(a,b,c,d){var e,f,g,h,i,j;h=new xz;for(e=-d;e<=d;e++){for(f=-d;f<=d;f++){i=b+e;j=c+f;if(i<0||j<0||i>=100||j>=50){continue}g=ip(a.i,i,j);!!g&&(Nc(h.a,h.a.length,g),true)}}return h}
function Fi(){Ei={};!Array.isArray&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==='[object Array]'});function b(){return (new Date).getTime()}
!Date.now&&(Date.now=b)}
function Wn(a,b,c,d){var e,f,g;f=a.mc();$n(a,(il(),Vk))&&(f+=24);e=b.lc(Kd(f*d),a,c,0,true);if($n(a,Yk)){g=e*0.75;a.bc('You leach '+Kd(g)+' health!',(Yj(),Vj));a.$=$wnd.Math.min(a.$+g,a.kb)}}
function gd(a,b){var c,d,e;b&=63;if(b<22){c=a.l<<b;d=a.m<<b|a.l>>22-b;e=a.h<<b|a.m>>22-b}else if(b<44){c=0;d=a.l<<b-22;e=a.m<<b-22|a.l>>44-b}else{c=0;d=0;e=a.l<<b-44}return Tc(c&yE,d&yE,e&zE)}
function am(a,b){var c;while(b-->0){kp(a.i);c=sr(a.o,a);rm(a);if(!c||c.i<=0||a.o.$<=0){break}if(a.i.b.a.Rb()==1&&a.o.Bb==a.s.a&&a.o.Cb==a.s.b){break}if(!!ur(a.o)&&a.o.$<=(a.o.kb/2|0)){break}}}
function qm(a){var b,c,d,e,f;d=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);for(e=1;e<99;e++){for(f=1;f<49;f++){for(b=-1;b<2;b++){for(c=-1;c<2;c++){d[e][f]+=a[e+b][f+c]}}d[e][f]=d[e][f]/9|0}}return d}
function kp(a){var b,c,d,e;c=(e=(new Cy(a.b.a)).a.Pb().xc(),new Gy(e));while(c.a.Mc()){d=(b=wd(c.a.Nc(),19),wd(b.Uc(),35));if(d.T||d.$<=0){c.a.Oc();a.a[d.Bb][d.Cb]==d&&Nc(a.a[d.Bb],d.Cb,null)}}}
function Kr(a){var b,c,d,e;for(d=(e=(new Cy(a.k.i.b.a)).a.Pb().xc(),new Gy(e));d.a.Mc();){c=(b=wd(d.a.Nc(),19),wd(b.Uc(),35));if(c==a||a.wb==c.wb){continue}if(a.s[c.Bb][c.Cb]){return true}}return false}
function ps(a){if(Kr(a.g)){a.i=0;return}a.a=vr(a.g);if(!a.a){a.i=0;return}if(a.a.a==a.g.Bb&&a.a.b==a.g.Cb){a.i=0;return}a.b=yr(a.g,a.a.a,a.a.b);qz(a.b,0);if(a.b.a.length==0){a.i=0;return}a.i=EE}
function Lr(a,b){var c,d,e,f;e=new zz(new Zy(a.c));f=0;for(c=0;c<e.a.length;c++){if(xj(a.c,(YD(c,e.a.length),e.a[c])).a>0){if(f==b){d=(YD(c,e.a.length),wd(e.a[c],32));d.$b(a)}++f}else{continue}}}
function vc(b,c){var d,e,f,g;for(e=0,f=b.length;e<f;e++){g=b[e];try{g[1]?g[0].fd()&&(c=uc(c,g)):g[0].fd()}catch(a){a=pi(a);if(Dd(a,17)){d=a;gc();mc(Dd(d,67)?wd(d,67).Kb():d)}else throw qi(a)}}return c}
function YB(a,b){var c,d,e,f,g,h;c=a.b.a.length;e=oz(a.b,b);while(b*2+1<c){d=(f=2*b+1,g=f+1,h=f,g<c&&gA(oz(a.b,g),oz(a.b,f))<0&&(h=g),h);if(gA(e,oz(a.b,d))<0){break}tz(a.b,b,oz(a.b,d));b=d}tz(a.b,b,e)}
function Mi(){var a,b,c,d;a=zd((Oi(),Ni).getElementById('game-canvas'),$wnd.HTMLCanvasElement);zk=true;Dl=false;Ak=0;Ck=true;yk=false;Fk=true;b=Kd($wnd.Math.random()*10000);c=new dw(a);d=new sm(b,c);bw(d.n)}
function Rn(a,b,c){var d;d=' for '+c+' seconds';c>100000&&(d='');b.a?a.bc('You gain '+(b.g!=null?b.g:''+b.i)+d+'.',(Yj(),Sj)):a.bc('You are afflicted with '+(b.g!=null?b.g:''+b.i)+d+'.',(Yj(),Vj));a.U[b.i]=c}
function Sz(a,b,c,d,e,f){var g,h,i,j;g=d-c;if(g<7){Pz(b,c,d,f);return}i=c+e;h=d+e;j=i+(h-i>>1);Sz(b,a,i,j,-e,f);Sz(b,a,j,h,-e,f);if(f.Wb(a[j-1],a[j])<=0){while(c<d){Nc(b,c++,a[i++])}return}Qz(a,i,j,h,b,c,d,f)}
function jp(a,b,c,d){var e;Nc(a.a[b.Bb],b.Cb,null);b.nb=b.sb;b.Bb=c;b.Cb=d;e=a.a[b.Bb][b.Cb];if(!!e&&!e.T){throw qi(new Vb('should never try to spawn a monster on top of another monster'))}Nc(a.a[b.Bb],b.Cb,b)}
function Hu(){Hu=Hi;Bu=new Ku;Cu=new ev;uu=new gv;Du=new iv;wu=new kv;yu=new mv;ou=new ov;xu=new qv;su=new sv;tu=new Mu;Fu=new Ou;zu=new Qu;Gu=new Su;Eu=new Uu;Au=new Wu;pu=new Yu;vu=new $u;qu=new av;ru=new cv}
function ND(a,b,c,d,e){var f,g,h,i,j;if(Jd(a)===Jd(c)){a=a.slice(b,b+e);b=0}h=c;for(g=b,i=b+e;g<i;){f=$wnd.Math.min(g+10000,i);e=f-g;j=a.slice(g,f);j.splice(0,0,d,0);Array.prototype.splice.apply(h,j);g=f;d+=e}}
function EA(a,b,c){var d,e,f,g;g=b==null?0:a.b.Jc(b);e=(d=a.a.get(g),d==null?new Array:d);if(e.length==0){a.a.set(g,e)}else{f=BA(a,b,e);if(f){return f.Wc(c)}}Nc(e,e.length,new Ry(b,c));++a.c;mA(a.b);return null}
function tm(a,b,c){var d,e,f,g,h,i;d=Kc(Ld,fF,23,9,15,1);g=0;for(e=-1;e<2;e++){for(f=-1;f<2;f++){h=b+e;i=c+f;if(h<0||i<0||h>=100||i>=50){d[g++]=79;continue}a.u[h][i]?(d[g++]=35):(d[g++]=32)}}return zx(d,d.length)}
function sr(a,b){var c,d;if(a.T){return null}a.d=null;for(d=new Lz(a.a);d.a<d.c.a.length;){c=wd(Jz(d),12);c.tc();ml!=0&&hs(c,c.i+oC(b.p)*ml)}uz(a.a,null);a.d=wd(oz(a.a,0),12);if(a.d.i>0){a.d.uc();return a.d}return null}
function pC(a){var b,c,d,e;if(a.a){a.a=false;return a.b}do{d=2*(rC(a,26)*LF+rC(a,27)*MF)-1;e=2*(rC(a,26)*LF+rC(a,27)*MF)-1;c=d*d+e*e}while(c>=1);b=c==0?0:$wnd.Math.sqrt(-2*$wnd.Math.log(c)/c);a.b=e*b;a.a=true;return d*b}
function jm(a,b,c,d){var e,f,g;e=new xz;for(f=b-d;f<=b+d;f++){for(g=c-d;g<=c+d;g++){if(f<0||g<0||f>=100||g>=50){continue}!a.u[f][g]&&!ip(a.i,f,g)&&mz(e,new cs(f,g))}}if(e.a.length==0){return null}uz(e,new Mm(b,c));return e}
function im(a,b,c){var d,e,f;d=new xz;for(e=b-1;e<=b+1;e++){for(f=c-1;f<=c+1;f++){if(e<0||f<0||e>=100||f>=50){continue}!a.u[e][f]&&!ip(a.i,e,f)&&mz(d,new cs(e,f))}}if(d.a.length==0){return null}return wd(oz(d,om(a,0,d.a.length-1)),18)}
function Wl(a){var b,c,d,e,f;while(true){b=ur(a.o);if(!b){break}f=yr(a.o,b.a,b.b);YD(0,f.a.length);f.a.splice(0,1);if(f.a.length==0){break}e=wd(qz(f,0),21);c=e.c-a.o.Bb;d=e.d-a.o.Cb;Er(a.o,c,d);rm(a);if(a.o.$<(a.o.kb/2|0)){break}}}
function _l(a){var b,c,d,e,f;while(true){d=xr(a.o);if(!d){break}f=yr(a.o,d.a,d.b);qz(f,0);if(f.a.length==0){break}while(true){if(f.a.length==0){break}if(Kr(a.o)){break}e=wd(qz(f,0),21);b=e.c-a.o.Bb;c=e.d-a.o.Cb;Er(a.o,b,c);rm(a)}if(Kr(a.o)){break}}}
function $l(a){var b,c,d,e,f;f=a.o.k.s;if(!f){return}e=yr(a.o,f.a,f.b);YD(0,e.a.length);e.a.splice(0,1);if(e.a.length==0){return}while(true){if(e.a.length==0){break}if(Kr(a.o)){break}d=wd(qz(e,0),21);b=d.c-a.o.Bb;c=d.d-a.o.Cb;Er(a.o,b,c);rm(a)}if(Kr(a.o)){return}}
function jx(a){var b,c,d;if(a<0){return 0}else if(a==0){return 32}else{d=-(a>>16);b=d>>16&16;c=16-b;a=a>>b;d=a-256;b=d>>16&8;c+=b;a<<=b;d=a-4096;b=d>>16&4;c+=b;a<<=b;d=a-16384;b=d>>16&2;c+=b;a<<=b;d=a>>14;b=d&~(d>>1);return c+2-b}}
function hd(a,b){var c,d,e,f,g;b&=63;c=a.h;d=(c&AE)!=0;d&&(c|=-1048576);if(b<22){g=c>>b;f=a.m>>b|c<<22-b;e=a.l>>b|a.m<<22-b}else if(b<44){g=d?zE:0;f=c>>b-22;e=a.m>>b-22|c<<44-b}else{g=d?zE:0;f=d?yE:0;e=c>>b-44}return Tc(e&yE,f&yE,g&zE)}
function Gi(a,b,c){var d=Ei,h;var e=d[a];var f=e instanceof Array?e[0]:null;if(e&&!f){_=e}else{_=(h=b&&b.prototype,!h&&(h=Ei[b]),Ji(h));_.dd=c;!b&&(_.ed=Li);d[a]=_}for(var g=3;g<arguments.length;++g){arguments[g].prototype=_}f&&(_.cd=f)}
function FA(a,b){var c,d,e,f,g;f=b==null?0:a.b.Jc(b);d=(c=a.a.get(f),c==null?new Array:c);for(g=0;g<d.length;g++){e=d[g];if(a.b.Ic(b,e.Uc())){if(d.length==1){d.length=0;MA(a.a,f)}else{d.splice(g,1)}--a.c;mA(a.b);return e.Vc()}}return null}
function Sw(a){if(a.Fc()){var b=a.c;b.Gc()?(a.k='['+b.j):!b.Fc()?(a.k='[L'+b.ic()+';'):(a.k='['+b.ic());a.b=b.Dc()+'[]';a.i=b.Ec()+'[]';return}var c=a.f;var d=a.d;d=d.split('/');a.k=Vw('.',[c,Vw('$',d)]);a.b=Vw('.',[c,Vw('.',d)]);a.i=d[d.length-1]}
function Kk(a,b,c){var d,e,f,g;d=a.o;Wv(b,(Yj(),Wj));Uv(b,'LEARN PERK ('+d.rb+'):',RE,(++c+1)*15);Wv(b,new fk(128,128,255));g=0;for(f=Zn(d).xc();f.Mc();){e=wd(f.Nc(),9);Uv(b,'l'+Bd(97+g++&65535)+'). '+(e.g!=null?e.g:''+e.i),RE,(++c+1)*15)}return c}
function jq(){jq=Hi;iq=new oq;Op=new Lq;Zp=new Wq;dq=new Zq;bq=new ar;cq=new dr;Tp=new fr;eq=new hr;Vp=new jr;Yp=new rq;Pp=new tq;Wp=new vq;Rp=new xq;_p=new zq;aq=new Bq;Sp=new Dq;gq=new Fq;Xp=new Hq;$p=new Jq;hq=new Oq;fq=new Qq;Up=new Sq;Qp=new Uq}
function rC(a,b){var c,d,e,f,g,h;f=a.c*NF+a.d*1502;h=a.d*NF+11;c=$wnd.Math.floor(h*OF);f+=c;h-=c*PF;f%=PF;a.c=f;a.d=h;if(b<=24){return $wnd.Math.floor(a.c*kC[b])}else{e=a.c*(1<<b-24);g=$wnd.Math.floor(a.d*lC[b]);d=e+g;d>=2147483648&&(d-=4294967296);return d}}
function dm(a){var b,c,d,e,f,g,h;c=null;for(g=0;g<100;g++){for(h=0;h<50;h++){f=(YD(0,a.a.length),wd(a.a[0],27)).o[g][h];if(!f){continue}b=new uk(g,h,0);for(e=new Lz(a);e.a<e.c.a.length;){d=wd(Jz(e),27);b.a+=d.o[g][h].a}(!c||c.a<b.a)&&(c=b)}}return new cs(c.c,c.d)}
function _c(a){var b,c,d;c=a.l;if((c&c-1)!=0){return -1}d=a.m;if((d&d-1)!=0){return -1}b=a.h;if((b&b-1)!=0){return -1}if(b==0&&d==0&&c==0){return -1}if(b==0&&d==0&&c!=0){return kx(c)}if(b==0&&d!=0&&c==0){return kx(d)+22}if(b!=0&&d==0&&c==0){return kx(b)+44}return -1}
function kk(a){var b,c;c=new uk(a.f,a.g,0);bE(ZB(a.k,c));Nc(a.o[c.c],c.d,c);++a.j;nk(a,a.f,a.g,0,c);while(a.k.b.a.length!=0){b=wd($B(a.k),21);jk(a,-1,-1,14,b);jk(a,1,-1,14,b);jk(a,-1,1,14,b);jk(a,1,1,14,b);jk(a,0,-1,10,b);jk(a,-1,0,10,b);jk(a,1,0,10,b);jk(a,0,1,10,b)}}
function ed(a){var b,c,d,e,f;if(isNaN(a)){return rd(),qd}if(a<-9223372036854775808){return rd(),od}if(a>=9223372036854775807){return rd(),nd}e=false;if(a<0){e=true;a=-a}d=0;if(a>=CE){d=Kd(a/CE);a-=d*CE}c=0;if(a>=BE){c=Kd(a/BE);a-=c*BE}b=Kd(a);f=Tc(b,c,d);e&&Zc(f);return f}
function dw(a){this.a=a;this.b=zd(a.getContext('2d'),$wnd.CanvasRenderingContext2D);this.c=new Xv(this.b);Oi();$wnd.window.setTimeout(Ii(ew.prototype.Mb,ew,[this]),1000);Ni.addEventListener('keydown',new gw(this));$wnd.window.window.addEventListener('resize',new iw(this))}
function fo(a,b){this.wb=new vv;this.ob=new FB;this.U=Kc(Nd,eF,23,ll().length,15,1);this.R=Kc(Nd,eF,23,Ju().length,15,1);this.eb=Oc(Gc(Wg,1),DE,2,6,['.','.','.']);this.fb=Oc(Gc($d,1),QE,10,0,[(Yj(),Wj),Wj,Wj]);this.Y=a;this.Ab=b;this.lb=this.dc();this.kb=this.cc();this.V=0}
function Mp(a){Lp();var b,c,d,e,f,g,h;h=new uA;for(e=0;e<16;e++){c=Kd(1+oC(a.p)*3);b=new xz;for(g=0;g<c;g++){mz(b,Aw(32))}while(b.a.length<9){mz(b,Aw(35))}bA(b,a.p);d=Kc(Ld,fF,23,9,15,1);for(f=0;f<9;f++){d[f]=(YD(f,b.a.length),wd(b.a[f],49)).a}sA(h,zx(d,d.length))}return h}
function Np(a){Lp();var b,c,d,e,f,g,h;h=new uA;for(e=0;e<16;e++){c=Kd(1+oC(a.p)*3);b=new xz;for(g=0;g<c;g++){mz(b,Aw(35))}while(b.a.length<9){mz(b,Aw(32))}bA(b,a.p);d=Kc(Ld,fF,23,9,15,1);for(f=0;f<9;f++){d[f]=(YD(f,b.a.length),wd(b.a[f],49)).a}sA(h,zx(d,d.length))}return h}
function lk(a,b,c){var d,e,f,g,h,i,j,k;i=new xz;h=a.o[b][c];if(!h){for(f=-1;f<2;f++){for(g=-1;g<2;g++){j=b+f;k=c+g;if(j<0||k<0||j>=100||k>=50){continue}d=a.o[j][k];if(!d){continue}(!h||h.a>d.a)&&(h=d)}}}Nc(i.a,i.a.length,h);e=h;while(e.a>0){e=e.b;Nc(i.a,i.a.length,e)}return i}
function bo(a,b,c){var d,e,f;if($n(a,(il(),hl))){a.bc("Can't move while stunned!",(Yj(),Wj));return}if(b==0&&c==0){return}e=a.Bb+b;f=a.Cb+c;a.nb=a.sb;if(e<0||f<0||e>=100||f>=50){return}if(a.Y.u[e][f]){return}d=ip(a.Y.i,e,f);if(d){if(d.wb==a.wb){return}Vn(a,d);return}jp(a.Y.i,a,e,f)}
function mE(a){var b,c,d,e;b=0;d=a.length;e=d-4;c=0;while(c<e){b=(dE(c+3,a.length),a.charCodeAt(c+3)+(dE(c+2,a.length),31*(a.charCodeAt(c+2)+(dE(c+1,a.length),31*(a.charCodeAt(c+1)+(dE(c,a.length),31*(a.charCodeAt(c)+31*b)))))));b=b|0;c+=4}while(c<d){b=b*31+sx(a,c++)}b=b|0;return b}
function sz(a,b){var c,d,e,f;ZD(b);e=null;f=0;for(d=0;d<a.a.length;++d){c=a.a[d];if(Dd(wd(c,12),78)||Dd(wd(c,12),38)||Dd(wd(c,12),79)||Dd(wd(c,12),80)||Dd(wd(c,12),71)||Dd(wd(c,12),59)){if(e==null){e=MD(a.a,d);f=d}}else e!=null&&Nc(e,f++,c)}if(e==null){return false}a.a=e;return true}
function or(a){var b;a.tb=a.P+a.db*a.ub;a.B=a.H+a.db*a.C;a.ab=a.L+a.db*a.bb;a.kb=Kd(a.N+a.tb*20);a.lb=Kd(a.O+a.ab*12);a._=a.K+a.tb*0.1;a.jb=a.ab*0.05;a.S=(b=a.J,a.Q==(Kj(),Jj)?(b+=a.tb):a.Q==Hj?(b+=a.B):a.Q==Ij&&(b+=a.ab),b);a.F=a.I+a.B*0.1666;a.hb=a.M;if(a.sb==0){a.ib=a.lb;a.$=a.kb}}
function jj(a,b,c,d){var e,f;if(!b){return c}else{e=gA(c.d,b.d);if(e==0){d.d=Ky(b,c.e);d.b=true;return b}f=e<0?0:1;b.a[f]=jj(a,b.a[f],c,d);if(kj(b.a[f])){if(kj(b.a[1-f])){b.b=true;b.a[0].b=false;b.a[1].b=false}else{kj(b.a[f].a[f])?(b=qj(b,1-f)):kj(b.a[f].a[1-f])&&(b=pj(b,1-f))}}}return b}
function Mk(a,b,c){var d,e,f,g,h;f=a.o;Wv(b,(Yj(),Wj));Uv(b,'PERKS:',RE,(++c+1)*15);Wv(b,new fk(128,255,255));for(h=(e=(new Cy(f.ob.a)).a.Pb().xc(),new Gy(e));h.a.Mc();){g=(d=wd(h.a.Nc(),19),wd(d.Uc(),9));Uv(b,g.g!=null?g.g:''+g.i,RE,(++c+1)*15)}f.ob.a.Rb()==0&&Uv(b,'none',RE,(++c+1)*15);return c}
function mk(a,b,c){var d,e,f,g,h,i,j,k;g=a.o[b][c];if(!g){for(e=-1;e<2;e++){for(f=-1;f<2;f++){j=b+e;k=c+f;if(j<0||k<0||j>=100||k>=50){continue}d=a.o[j][k];if(!d){continue}(!g||g.a>d.a)&&(g=d)}}}if(!g){return new xz}i=g;h=g;while(!!i&&i.a>0){h=i;i=i.b}return new zz(new Vz(Oc(Gc(_d,1),PE,21,0,[i,h])))}
function Vn(a,b){if($n(a,(il(),hl))){a.bc("Can't attack while stunned!",(Yj(),Wj));return}Wn(a,b,'a strike',1);if($n(a,Xk)&&oC(a.Y.p)<0.2){a.bc('Inner Beast procs another attack!',(Yj(),Sj));Wn(a,b,'a beast strike',1)}if($n(a,gl)){a.bc('You strafe for another attack!',(Yj(),Sj));Wn(a,b,'a strike',1)}}
function Bo(a,b){var c,d,e;e=new Or(b);e.n=false;e.wb=uv;e.p=a.c;e.v=a.g;e.i=a.a;e.a.a=Kc(Sg,QE,1,0,5,1);nz(e.a,a.oc(e));for(d=new qy(a.pc());d.b<d.d.Rb();){c=(XD(d.b<d.d.Rb()),wd(d.d.Qc(d.c=d.b++),9));mr(e,c)}e.b=false;e.P*=a.f/2/2;e.H*=a.f/2/2;e.L*=a.f/2/2;e.ub*=a.f/2/2;e.C*=a.f/2/2;e.bb*=a.f/2/2;return e}
function Hk(a,b){var c;b.b.font='16px Courier New';if(a.o.$<=0){Wv(b,(Yj(),Nj));Vv(b,a.n.a.clientWidth,a.n.a.clientHeight);Wv(b,Vj);c='You were killed by a '+a.o.cb.ic()+' on dungeon level '+a.e+'. You accumulated '+a.o.Z+' gold and reached player level '+a.o.db+'.';b.b.fillText(c,11,390);return}Ok(a,b);return}
function QA(){if(!Object.create||!Object.getOwnPropertyNames){return false}var a='__proto__';var b=Object.create(null);if(b[a]!==undefined){return false}var c=Object.getOwnPropertyNames(b);if(c.length!=0){return false}b[a]=42;if(b[a]!==42){return false}if(Object.getOwnPropertyNames(b).length==0){return false}return true}
function md(a){var b,c,d,e,f;if(a.l==0&&a.m==0&&a.h==0){return '0'}if(a.h==AE&&a.m==0&&a.l==0){return '-9223372036854775808'}if(a.h>>19!=0){return '-'+md(fd(a))}c=a;d='';while(!(c.l==0&&c.m==0&&c.h==0)){e=Rc(1000000000);c=Uc(c,e,true);b=''+ld(Qc);if(!(c.l==0&&c.m==0&&c.h==0)){f=9-b.length;for(;f>0;f--){b='0'+b}}d=b+d}return d}
function _n(a,b,c){var d,e,f,g,h,i,j;b<a.Bb?(b+=0.5):b>a.Bb&&(b-=0.5);c<a.Cb?(c+=0.5):c>a.Cb&&(c-=0.5);d=b-a.Bb;e=c-a.Cb;h=$wnd.Math.max($wnd.Math.abs(d),$wnd.Math.abs(e));d/=h;e/=h;i=a.Bb;j=a.Cb;while(h>0){f=Kd(i+0.5);g=Kd(j+0.5);if(b==f&&c==g){break}if(!(a.Bb==f&&a.Cb==g)&&!!a.Y.u[f][g]){return false}i+=d;j+=e;--h}return true}
function Jk(a,b,c){var d,e,f,g,h,i,j;i=a.o;Wv(b,(Yj(),Wj));Uv(b,'INV:',RE,(++c+1)*15);j=0;for(h=(f=(new QC((new Zy(i.c)).a)).a.Sb(),new bz(f));ny(h.a.a);){g=(e=JC(h.a),wd(e.Uc(),32));d=xj(i.c,g).a;if(d==0){continue}Wv(b,g.a);Uv(b,'u'+Bd(97+j++&65535)+'). '+d+' '+g.b+'(s)',RE,(++c+1)*15)}j==0&&Uv(b,'empty',RE,(++c+1)*15);return c}
function em(a,b,c){var d,e,f,g,h,i,j;e=null;for(i=b-4;i<=b+4;i++){for(j=c-4;j<=c+4;j++){if(i<0||j<0||i>=100||j>=50){continue}h=(YD(0,a.a.length),wd(a.a[0],27)).o[i][j];if(!h){continue}d=new uk(i,j,0);for(g=new qy(a);g.b<g.d.Rb();){f=(XD(g.b<g.d.Rb()),wd(g.d.Qc(g.c=g.b++),27));d.a+=f.o[i][j].a}(!e||e.a<d.a)&&(e=d)}}return new cs(e.c,e.d)}
function Ik(a,b,c){var d,e,f,g,h,i,j,k;k=a.o;Wv(b,(Yj(),Wj));Uv(b,'EFFECTS:',RE,(++c+1)*15);Wv(b,new fk(128,128,255));j=false;for(g=ll(),h=0,i=g.length;h<i;++h){f=g[h];if(k.U[f.i]<=0){continue}d=k.U[f.i];e=' ('+d+' duration)';d>100000&&(e=' (passive)');j=true;Uv(b,(f.g!=null?f.g:''+f.i)+e,RE,(++c+1)*15)}j||Uv(b,'none',RE,(++c+1)*15);return c}
function Rl(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;g=new fu;for(m=0;m<100;m++){for(n=0;n<50;n++){i=tm(a,m,n);j=new cs(m,n);b.a.Ob(i)&&bu(g,j)}}while(g.b.a.length>d){cu(g,a.p)}while(c-->0&&g.b.a.length!=0){h=wd(cu(g,a.p),18);Nc(a.u[h.a],h.b,null);for(e=-1;e<2;e++){for(f=-1;f<2;f++){k=h.a+e;l=h.b+f;i=tm(a,k,l);j=new cs(k,l);b.a.Ob(i)?bu(g,j):du(g,j)}}}}
function cm(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;g=new fu;for(m=0;m<100;m++){for(n=0;n<50;n++){i=tm(a,m,n);j=new cs(m,n);b.a.Ob(i)&&bu(g,j)}}while(g.b.a.length>d){cu(g,a.p)}while(c-->0&&g.b.a.length!=0){h=wd(cu(g,a.p),18);Nc(a.u[h.a],h.b,new Ov((Qv(),Pv)));for(e=-1;e<2;e++){for(f=-1;f<2;f++){k=h.a+e;l=h.b+f;i=tm(a,k,l);j=new cs(k,l);b.a.Ob(i)?bu(g,j):du(g,j)}}}}
function Sl(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;e=null;f=null;d=1000;for(i=new Lz(b);i.a<i.c.a.length;){h=wd(Jz(i),50);j=h.d+(h.f/2|0);k=h.e+(h.c/2|0);for(m=new Lz(c);m.a<m.c.a.length;){l=wd(Jz(m),50);n=l.d+(l.f/2|0);o=l.e+(l.c/2|0);g=$wnd.Math.abs(n-j)+$wnd.Math.abs(o-k);g=Kd(g*(1-Dk+Dk*oC(a.p)));if(g<d){e=h;f=l;d=g}}}return Oc(Gc(Uf,1),QE,50,0,[e,f])}
function co(a,b,c,d){a.vb=true;b=$wnd.Math.max(b-a.hc(),0);a.$=a.$-b;a.xb=Kd(a.xb+b);if(a.$<=0){lr(a.Y.o,'The '+a.ic()+' dies.',(Yj(),Wj));a.T=true;a.cb=c;c.ec(1+Kd(oC(a.Y.p)*a.Ab.e))}c==a.Y.o&&(b<=0?lr(a.Y.o,'You attack the '+a.ic()+' with '+d+' but do no damage.',(Yj(),Wj)):lr(a.Y.o,'You hit the '+a.ic()+' with '+d+' for '+Kd(b)+hF,(Yj(),Wj)));return b}
function vp(){vp=Hi;np=new wp('ANT',0,97,'ant',(Yj(),Vj),3,2);op=new wp('CANINE',1,99,'canine',new fk(210,105,30),5,3);sp=new wp('KOBOLD',2,107,'kobold',Sj,7,4);qp=new wp('GOBLIN',3,103,'goblin',Tj,3,6);rp=new wp('HOBBIT',4,104,'hobbit',Qj,10,3);up=new wp('XAN',5,120,'xan',Uj,7,7);pp=new wp('DRAGON',6,68,'dragon',Vj,15,15);tp=new wp('PLAYER',7,64,'player',Xj,20,5)}
function An(a,b){var c,d,e;if(xj(b.c,a).a<=0){return}yj(b.c,a);c=ur(b);if(!c){lr(b,'You read the scroll but nothing happens.',(Yj(),Wj));return}if(!_n(b,c.a,c.b)){throw qi(new Vb("can't banish something that is out of line of sight"))}e=ip(b.k.i,c.a,c.b);lr(b,'Holy power attempts to banish the '+e.ic()+'.',(Yj(),Oj));d=140;d=Kd(d*b.gb);e.lc(d,b,'banishment',1,true)}
function Pk(a,b,c){var d,e,f,g,h,i,j,k;h=a.o;Wv(b,(Yj(),Wj));Uv(b,'SKILLS:',RE,(++c+1)*15);Wv(b,new fk(128,128,255));k=0;for(j=(g=(new Cy(h.t.a)).a.Pb().xc(),new Gy(g));j.a.Mc();){i=(f=wd(j.a.Nc(),19),wd(f.Uc(),15));d=h.R[i.i];e=d>0?SE+d+'cd':'';Uv(b,'c'+Bd(97+k++&65535)+'). '+(i.g!=null?i.g:''+i.i)+' ('+i.b+'mp'+e+')',RE,(++c+1)*15)}k==0&&Uv(b,'none',RE,(++c+1)*15);return c}
function Xc(a,b,c,d,e,f){var g,h,i,j,k,l,m;j=$c(b)-$c(a);g=gd(b,j);i=Tc(0,0,0);while(j>=0){h=bd(a,g);if(h){j<22?(i.l|=1<<j,undefined):j<44?(i.m|=1<<j-22,undefined):(i.h|=1<<j-44,undefined);if(a.l==0&&a.m==0&&a.h==0){break}}k=g.m;l=g.h;m=g.l;g.h=l>>>1;g.m=k>>>1|(l&1)<<21;g.l=m>>>1|(k&1)<<21;--j}c&&Zc(i);if(f){if(d){Qc=fd(a);e&&(Qc=jd(Qc,(rd(),pd)))}else{Qc=Tc(a.l,a.m,a.h)}}return i}
function Fc(a,b){var c;switch(Hc(a)){case 6:return Hd(b);case 7:return Fd(b);case 8:return Ed(b);case 3:return Array.isArray(b)&&(c=Hc(b),!(c>=14&&c<=16));case 11:return b!=null&&typeof b===sE;case 12:return b!=null&&(typeof b===qE||typeof b==sE);case 0:return vd(b,a.__elementTypeId$);case 2:return Id(b)&&!(b.ed===Li);case 1:return Id(b)&&!(b.ed===Li)||vd(b,a.__elementTypeId$);default:return true;}}
function il(){il=Hi;Sk=new jl('BLESSED',0);al=new jl(TE,1);_k=new jl(UE,2);bl=new jl(VE,3);Wk=new jl(WE,4);Xk=new jl(XE,5);gl=new jl(YE,6);el=new jl('SAND_KING',7);Yk=new jl(ZE,8);Tk=new jl($E,9);cl=new jl('REVEALED',10);Rk=new jl(_E,11);dl=new kl(aF,12);Zk=new kl('INTERRUPTED',13);hl=new kl('STUNNED',14);fl=new kl('SILENCED',15);$k=new jl('IS_DOPPLE',16);Uk=new jl('DOPPLE_LIFE',17);Vk=new jl(bF,18)}
function Or(a){fo.call(this,a,(vp(),tp));this.c=new zj;this.t=new FB;this.a=new xz;this.q=new oA;this.r=Ic(ni,[OE,tF],[84,23],16,[100,50],2);this.s=Ic(ni,[OE,tF],[84,23],16,[100,50],2);this.u=Ic(ni,[OE,tF],[84,23],16,[100,50],2);this.n=true;this.w=0;this.b=false;this.i=(Yj(),Xj);this.v=64;this.k=a;this.p=(zp(),yp[om(a,0,yp.length-1)]);vj(this.c,(Xm(),Tm));vj(this.c,Um);vj(this.c,Vm);wj(this.c,Sm,10);this.a=new xz;pr(this);or(this)}
function lu(a,b){var c,d,e,f,g,h,i;e=Kd(oC(a.b.p)*a.f)+a.d;f=Kd(oC(a.b.p)*a.c)+a.e;h=Kd(oC(a.b.p)*b.f)+b.d;i=Kd(oC(a.b.p)*b.c)+b.e;e=(e/2|0)*2;f=(f/2|0)*2;h=(h/2|0)*2;i=(i/2|0)*2;c=h-e;d=i-f;c=c>0?1:c<0?-1:0;d=d>0?1:d<0?-1:0;g=oC(a.b.p)>0.5;while(e!=h||f!=i){f==i||g&&e!=h?(e+=c):(f+=d);if(!(e>0&&f>0&&e<100&&f<50)){break}Nc(a.b.u[e],f,null)}g=!g;while(e!=h||f!=i){f==i||g&&e!=h?(e+=c):(f+=d);if(!(e>0&&f>0&&e<100&&f<50)){break}Nc(a.b.u[e],f,null)}}
function Nr(a,b){var c,d;if($n(a,(il(),Zk))){lr(a,"Can't cast while interrupted!",(Yj(),Wj));return}if($n(a,hl)){lr(a,sF,(Yj(),Wj));return}if($n(a,fl)){lr(a,sF,(Yj(),Wj));return}if(b.b>a.ib){lr(a,'Not enough mana!',(Yj(),Vj));return}if(a.R[b.i]>0){lr(a,"Can't use that, it's still on cooldown!",(Yj(),Vj));return}a.ib-=b.b;c=ur(a);if(b.c&&!c){lr(a,"Can't use that, you need a target!",(Yj(),Vj));return}d=c?ip(a.k.i,c.a,c.b):null;b.Ac(a,d);a.R[b.i]=b.a}
function qr(a){var b,c,d,e,f;b=new Or(a.k);b.n=false;b.o=a;fj(b.c);b.p=a.p;b.v=a.v;b.i=a.i;b.F=a.F;b.G=a.G;b.L=a.L/9;b.P=a.P/9;b.H=a.H/9;b.bb=a.bb/9;b.ub=a.ub/9;b.C=a.C/9;b.ab=a.ab/9;b.tb=a.tb/9;b.B=a.B/9;b.V=a.V;b.W=a.W;b.db=a.db;b.gb=a.gb;b.ib=0;b.lb=0;sz(b.a,new as);Rn(b,(il(),$k),tE);Rn(b,Uk,8);Rn(b,fl,tE);for(f=(d=(new Cy(a.ob.a)).a.Pb().xc(),new Gy(d));f.a.Mc();){e=(c=wd(f.a.Nc(),19),wd(c.Uc(),9));(e.qc()||e.rc())&&mr(b,e)}b.J=a.J/8;b.$=a.$/5;b.kb=a.kb/5|0;return b}
function jk(a,b,c,d,e){var f,g,h,i,j;i=e.c+b;j=e.d+c;if(i<0||j<0||i>=100||j>=50){return}!!ip(a.i.i,i,j)&&ip(a.i.i,i,j)!=a.n&&(d=Kd(d*Cl));a.i.t[i][j].a==(Cv(),Av)&&(d-=2);if(a.q){if(a.s[i][j]){d*=2;d+=20}}f=e.a+d;if(f>a.p){return}if(i<0||j<0||i>=100||j>=50){return}h=a.o[i][j];!h&&f<100&&!!a.n&&a.n.s[i][j]&&!!ip(a.i.i,i,j)&&a.n.wb!=ip(a.i.i,i,j).wb&&++a.r;if(!h||h.a>f){g=new uk(i,j,e.a+d);nk(a,i,j,f,g);if(!a.q&&!!a.s[i][j]){return}g.b=e;bE(ZB(a.k,g));Nc(a.o[g.c],g.d,g);++a.j;return}}
function Zn(a){var b,c,d,e,f;b=new xz;if(a.rb==0){return b}if(!a.Q){return wd(xD((d=wD(new yD(null,new BC(new Vz(nq()))),new to),iD(new rD,new qD,new sD,Oc(Gc(ci,1),DE,53,0,[(mD(),kD)])),d),(e=new xz,e)),33)}if(!a.X){return wd(xD((d=wD(new yD(null,new BC(new Vz(nq()))),new vo),iD(new rD,new qD,new sD,Oc(Gc(ci,1),DE,53,0,[(mD(),kD)])),d),(e=new xz,e)),33)}return wd(xD((f=wD(new yD(null,new BC(new Vz(nq()))),new xo(a)),iD(new rD,new qD,new sD,Oc(Gc(ci,1),DE,53,0,[(mD(),kD)])),f),(c=new xz,c)),33)}
function pr(a){mz(a.a,new js(a));mz(a.a,new As(a));mz(a.a,new ms(a));mz(a.a,new Ms(a));mz(a.a,new rs(a));mz(a.a,new Ps(a));mz(a.a,new Js(a));mz(a.a,new Gs(a));mz(a.a,new Ds(a));if(zk){mz(a.a,new Ys(a));mz(a.a,new Vs(a));mz(a.a,new _s(a));mz(a.a,new Ss(a));mz(a.a,new us(a));mz(a.a,new Jt(a));mz(a.a,new Pt(a));mz(a.a,new Mt(a));mz(a.a,new Dt(a));mz(a.a,new it(a));mz(a.a,new ot(a));mz(a.a,new xt(a));mz(a.a,new ct(a));mz(a.a,new lt(a));mz(a.a,new Gt(a));mz(a.a,new ut(a));mz(a.a,new At(a));mz(a.a,new rt(a));mz(a.a,new ft(a))}}
function Lp(){Lp=Hi;Kp=new vA(new Vz(Oc(Gc(Wg,1),DE,2,6,['### #####','# #######','##### ###','####### #',' ## ## ##','   ######','## ## ## ','######   ','### ## ##','  #######','## ## ###','#######  ',' ## #####','#  ######','##### ## ','######  #',''])));Jp=new vA(new Vz(Oc(Gc(Wg,1),DE,2,6,['  #  ####','#  #  ###','####  #  ','###  #  #',''])));Ip=new vA(new Vz(Oc(Gc(Wg,1),DE,2,6,['## ##    ',' ## ##   ','    ## ##','   ## ## ',''])));new vA(new Vz(Oc(Gc(Wg,1),DE,2,6,[' #  #    ','    ##   ','    #  # ','    #  # ',''])))}
function mu(a){var b,c,d;this.b=a;this.a=oC(a.p)<0.1;while(true){this.d=Kd(oC(a.p)*87)+2;this.e=Kd(oC(a.p)*37)+2;this.f=Kd(oC(a.p)*10)+3;this.c=Kd(oC(a.p)*10)+3;this.d=(this.d/2|0)*2;this.e=(this.e/2|0)*2;this.f=(this.f/2|0)*2;this.c=(this.c/2|0)*2;if(this.a){this.f%2==0&&++this.f;this.c%2==0&&++this.c}this.d=Nv(this.d,0,99);this.e=Nv(this.e,0,49);this.f=Nv(this.f,1,99-this.d);this.c=Nv(this.c,1,49-this.e);b=false;for(c=this.d-1;c<this.d+this.f;c++){for(d=this.e-1;d<this.e+this.c;d++){if(!this.b.u[c][d]){b=true;break}}if(b){break}}if(b){continue}break}}
function Uc(a,b,c){var d,e,f,g,h,i;if(b.l==0&&b.m==0&&b.h==0){throw qi(new mw)}if(a.l==0&&a.m==0&&a.h==0){c&&(Qc=Tc(0,0,0));return Tc(0,0,0)}if(b.h==AE&&b.m==0&&b.l==0){return Vc(a,c)}i=false;if(b.h>>19!=0){b=fd(b);i=true}g=_c(b);f=false;e=false;d=false;if(a.h==AE&&a.m==0&&a.l==0){e=true;f=true;if(g==-1){a=Sc((rd(),nd));d=true;i=!i}else{h=hd(a,g);i&&Zc(h);c&&(Qc=Tc(0,0,0));return h}}else if(a.h>>19!=0){f=true;a=fd(a);d=true;i=!i}if(g!=-1){return Wc(a,g,i,f,c)}if(dd(a,b)<0){c&&(f?(Qc=fd(a)):(Qc=Tc(a.l,a.m,a.h)));return Tc(0,0,0)}return Xc(d?a:Tc(a.l,a.m,a.h),b,i,f,e,c)}
function Nk(a,b,c){var d;d=a.o;Gk(b,'DMG: '+Pl(d.S),101,c++,(Yj(),Wj));Gk(b,'AC:  '+Pl(d.F),101,c++,Wj);Gk(b,'RES: '+Pl(d.hb),101,c++,Wj);++c;Gk(b,'STR: '+Pl(d.tb)+(d.Q==(Kj(),Jj)?' *':''),101,c++,Wj);Gk(b,'AGI: '+Pl(d.B)+(d.Q==Hj?' *':''),101,c++,Wj);Gk(b,'INT: '+Pl(d.ab)+(d.Q==Ij?' *':''),101,c++,Wj);++c;Gk(b,'HP:  '+yi(ti($wnd.Math.round(d.$)))+'/'+d.kb+' +'+Pl(d._),101,c++,Vj);Gk(b,'MP:  '+yi(ti($wnd.Math.round(d.ib)))+'/'+d.lb+' +'+Pl(d.jb),101,c++,new fk(128,128,255));++c;Gk(b,'GLD: '+d.Z,101,c++,Xj);Gk(b,'DUN: '+a.e,101,c++,new fk(210,105,30));Gk(b,'EXP: '+d.V,101,c++,Sj);Gk(b,'LVL: '+d.db,101,c++,Sj);return c}
function nk(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p;if(!a.n){return}if(d<100){k=ip(a.i.i,b,c);(!a.a||e.a<a.a.a)&&(e.c==a.f&&e.d==a.g||a.n.s[b][c]&&!!k&&a.n.wb!=k.wb&&(a.a=e))}d<5000&&(!a.d||e.a<a.d.a)&&a.n.r[b][c]&&!!a.i.g[b][c]&&(a.d=e);if(d<500&&(!a.i.u[e.c][e.d]||a.q)){p=a.n.u[b][c];o=a.n.r[b][c];n=Fl;l=a.i.c[b][c];if(!a.c){p&&l>=Al&&(a.c=e)}else{m=a.n.k.c[a.c.c][a.c.d];(e.a<a.c.a||l-(e.a/n|0)>m-(a.c.a/n|0))&&p&&l>=Al&&(a.c=e)}if(!a.e){o&&l>=Gl&&(a.e=e)}else{m=a.n.k.c[a.e.c][a.e.d];g=e.a/n|0;h=a.e.a/n|0;i=l-g;j=m-h;(!a.e||i>j)&&o&&l>=Gl&&(a.e=e)}}if(d<10000){f=(b+c)/4|0;(!a.b||e.a+f<a.b.a)&&!a.n.r[b][c]&&a.i.a[b][c]<9&&(a.b=e)}}
function Jr(a){var b,c,d,e,f,g,h,i,j;for(i=0;i<50;i++){for(g=0;g<100;g++){a.s[g][i]=false}}a.u[a.Bb][a.Cb]=true;if($n(a,(il(),dl))){a.s[a.Bb][a.Cb]=a.r[a.Bb][a.Cb]=true;return}c=(e=(new Cy(a.q)).a.Pb().xc(),new Gy(e));while(c.a.Mc()){d=(b=wd(c.a.Nc(),19),wd(b.Uc(),35));f=wd(Ix(a.q,d),37).a;f>0&&(a.s[d.Bb][d.Cb]=true);--f;f<=0?c.a.Oc():Lx(a.q,d,mx(f))}for(j=-a.qb;j<a.qb;j++){if(a.Cb+j<0||a.Cb+j>=50){continue}for(h=-a.qb;h<a.qb;h++){if(h*h+j*j>a.qb*a.qb){continue}if(a.Bb+h<0||a.Bb+h>=100){continue}if(a.Cb+j<0||a.Cb+j>=50){continue}if(_n(a,a.Bb+h,a.Cb+j)){a.s[a.Bb+h][a.Cb+j]=a.r[a.Bb+h][a.Cb+j]=true;d=ip(a.k.i,a.Bb+h,a.Cb+j);!!d&&d!=a&&Lx(a.q,d,mx(Jl))}}}}
function nj(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(!a.b){return false}g=null;m=null;i=new RC(null,null);e=1;i.a[1]=a.b;l=i;while(l.a[e]){j=e;h=m;m=l;l=l.a[e];d=gA(b,l.d);e=d<0?0:1;d==0&&(!c.c||WB(l.e,c.d))&&(g=l);if(!(!!l&&l.b)&&!kj(l.a[e])){if(kj(l.a[1-e])){m=m.a[j]=qj(l,e)}else if(!kj(l.a[1-e])){n=m.a[1-j];if(n){if(!kj(n.a[1-j])&&!kj(n.a[j])){m.b=false;n.b=true;l.b=true}else{f=h.a[1]==m?1:0;kj(n.a[j])?(h.a[f]=pj(m,j)):kj(n.a[1-j])&&(h.a[f]=qj(m,j));l.b=h.a[f].b=true;h.a[f].a[0].b=false;h.a[f].a[1].b=false}}}}}if(g){c.b=true;c.d=g.e;if(l!=g){k=new RC(l.d,l.e);oj(a,i,g,k);m==g&&(m=k)}m.a[m.a[1]==l?1:0]=l.a[!l.a[0]?1:0];--a.c}a.b=i.a[1];!!a.b&&(a.b.b=false);return c.b}
function Yj(){Yj=Hi;Nj=new fk(0,0,0);Qj=new fk(127,127,127);new dk(EE,EE,EE);new dk(FE,FE,FE);new dk(GE,GE,GE);new dk(HE,HE,HE);new dk(0.5,0.5,0.5);new dk(IE,IE,IE);new dk(JE,JE,JE);new dk(0.75,0.75,0.75);Rj=new dk(KE,KE,KE);new dk(LE,LE,LE);new dk(ME,ME,ME);new dk(NE,NE,NE);Wj=new fk(255,255,255);Vj=new fk(255,0,0);Tj=new fk(255,127,0);Xj=new fk(255,255,0);new fk(127,255,0);Sj=new fk(0,255,0);Pj=new fk(0,255,255);Oj=new fk(0,0,255);new fk(127,0,255);new fk(255,0,255);Uj=new fk(255,0,127);new gk(0,0,0,63);new gk(0,0,0,31);new gk(0,0,0,15);new gk(0,0,0,7);new gk(255,255,255,191);new gk(255,255,255,127);new gk(255,255,255,63);new gk(255,255,255,31);new dk(KE,KE,1);new dk(NE,NE,1)}
function zp(){zp=Hi;yp=Oc(Gc(Wg,1),DE,2,6,['Sige','Cuther','Narder','Giles','Walstio','Reyny Page','Stiny','Jamas Hammal','Lany','Gery','Wine','Withuw','Leofge','Cere','Hames','Brege','Aelwith','Helmund','Arhorht','Heri','Ryany','Duca','Piersym','George Erell','Gyles','Gylew','Rancis','Stiny Neray','Wyny Enyn','Algald','Nichye Tere','Jamart','Rarder','Osbryth','Ralphye','Stomart Rawley','Normod','Riffin Wente','Harder Nette','Brica','Symond','Berny Keselw','Bealda','Gauwilh','Ferther','Warder','Tomas Horne','Gilas','Cyne','Rewalt','Symas','Bryany Noke','Geoffrey Dene','Gari','Harrey Villey','Wisym Folcey','Arles','Arlew','Wulfa','George Hancey','Wiasi','Siwiu','Ansfrin','Eodwyth','Nielan Bexley'])}
function rm(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;hp(a.i);kp(a.i);for(k=(m=(new Cy(a.i.b.a)).a.Pb().xc(),new Gy(m));k.a.Mc();){i=(e=wd(k.a.Nc(),19),wd(e.Uc(),35));i.vb=false}for(j=(l=(new Cy(a.i.b.a)).a.Pb().xc(),new Gy(l));j.a.Mc();){i=(e=wd(j.a.Nc(),19),wd(e.Uc(),35));if(i.T){continue}i.ac()}kp(a.i);++a.o.w;Gr(a.o);for(o=0;o<100;o++){for(q=0;q<50;q++){!a.b[o][q]&&Nc(a.b[o],q,new xz);h=a.b[o][q];g=new Lz(h);while(g.a<g.c.a.length){d=wd(Jz(g),40);d.c==0&&Kz(g);--d.c}}}for(p=0;p<50;p++){for(n=0;n<100;n++){if(!!a.u[n][p]&&!!ip(a.i,n,p)){throw qi(new Vb('monster stuck in wall'))}}}for(c=new Lz(a.o.a);c.a<c.c.a.length;){b=wd(Jz(c),12);Hx(a.f,b)||Lx(a.f,b,new KB);f=wd(Ix(a.f,b),33);f.vc(b.i);f.Rb()>Ek&&f.Sc(0)}}
function sm(a,b){this.d=Oc(Gc(fe,1),QE,56,0,[new ym(new Cm(this),1),new ym(new Em(this),0.1836734693877551),new ym(new Gm(this),1),new ym(new Im(this),1),new ym(new Km(this),1)]);this.b=Ic(uh,[OE,{3:1,7:1,4:1,16:1,83:1,5:1,263:1,285:1,286:1,100:1,264:1,287:1}],[286,14],0,[100,50],2);this.k=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);this.u=Ic(vg,[OE,{288:1,3:1,4:1,5:1}],[288,57],0,[100,50],2);this.a=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);this.q=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);this.c=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);this.t=Ic(tg,[OE,{289:1,3:1,4:1,5:1}],[289,58],0,[100,50],2);this.g=Ic(ve,[OE,{290:1,3:1,4:1,5:1}],[290,88],0,[100,50],2);this.i=new lp;this.p=new uC;this.f=new oA;this.n=b;tC(this.p,a);this.o=new Or(this);Vl(this);aw(b,new vm(this));cw(b,new xm(this))}
function mm(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a.j=new xz;n=new xz;c=fm(a);b=new pk(a,c.a,c.b);mz(a.j,c);Nc(n.a,n.a.length,b);o=new xz;for(d=0;d<4;d++){i=dm(n);h=new pk(a,i.a,i.b);for(e=0;e<a.j.a.length;e++){p=(YD(e,n.a.length),wd(n.a[e],27));l=lk(p,i.a,i.b);Nc(o.a,o.a.length,l)}mz(a.j,i);Nc(n.a,n.a.length,h)}for(m=new Lz(o);m.a<m.c.a.length;){l=wd(Jz(m),33);for(k=l.xc();k.Mc();){j=wd(k.Nc(),21);s=j.c;u=j.d;++a.k[s][u];a.k[s][u]>4&&Nc(a.t[s],u,new xv((Cv(),Av)))}}f=new xz;for(t=0;t<100;t++){for(u=0;u<50;u++){a.k[t][u]>0&&mz(f,mx(a.k[t][u]))}}Tz(f.a,f.a.length,null);q=wd(oz(f,f.a.length*3/4|0),37);g=wd(oz(f,f.a.length/2|0),37);for(r=0;r<100;r++){for(u=0;u<50;u++){a.k[r][u]>=q.a?Nc(a.t[r],u,new xv((Cv(),Av))):a.k[r][u]>=g.a&&Nc(a.t[r],u,new xv((Cv(),Bv)))}}}
function SA(){function e(){this.obj=this.createObject()}
;e.prototype.createObject=function(a){return Object.create(null)};e.prototype.get=function(a){return this.obj[a]};e.prototype.set=function(a,b){this.obj[a]=b};e.prototype[KF]=function(a){delete this.obj[a]};e.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)};e.prototype.entries=function(){var b=this.keys();var c=this;var d=0;return {next:function(){if(d>=b.length)return {done:true};var a=b[d++];return {value:[a,c.get(a)],done:false}}}};if(!QA()){e.prototype.createObject=function(){return {}};e.prototype.get=function(a){return this.obj[':'+a]};e.prototype.set=function(a,b){this.obj[':'+a]=b};e.prototype[KF]=function(a){delete this.obj[':'+a]};e.prototype.keys=function(){var a=[];for(var b in this.obj){b.charCodeAt(0)==58&&a.push(b.substring(1))}return a}}return e}
function km(a){var b,c,d,e;b=a.n.d;try{switch(b.a){case '7':Er(a.o,-1,-1);rm(a);break;case '8':Er(a.o,0,-1);rm(a);break;case '9':Er(a.o,1,-1);rm(a);break;case '6':Er(a.o,1,0);rm(a);break;case '3':Er(a.o,1,1);rm(a);break;case '2':Er(a.o,0,1);rm(a);break;case '1':Er(a.o,-1,1);rm(a);break;case '4':Er(a.o,-1,0);rm(a);break;case '5':Er(a.o,0,0);rm(a);}c=b.a;d=(dE(0,c.length),c.charCodeAt(0));if(d==105){e=a.t[a.o.Bb][a.o.Cb];if(e){wv(e,a.o);rm(a)}}if(a.o.e){if(d>=97&&d<=122){Lr(a.o,d-97);a.o.e=false;rm(a);return}}if(a.o.g){if(d>=97&&d<=122){Mr(a.o,d-97);a.o.g=false;rm(a);return}}if(a.o.f){if(d>=97&&d<=122){mr(a.o,wd(Zn(a.o).Qc((dE(0,c.length),c.charCodeAt(0)-97)),9));a.o.f=false;rm(a);return}}d==97&&Xl(a);d==102&&Zl(a);d==70&&am(a,1000);d==114&&bm(a);d==101&&Yl(a);d==108&&_l(a);if(d==112){sr(a.o,a);rm(a)}d==117&&(a.o.e=true);d==99&&(a.o.g=true);d==108&&a.o.rb>0&&(a.o.f=true)}finally{_v(a.n)}}
function Tl(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G;n=new uA;for(F=0;F<100;F++){for(G=0;G<50;G++){!a.u[F][G]&&sA(n,new cs(F,G))}}i=new xz;while(n.a.Rb()!=0){j=(q=(new Cy(n.a)).a.Pb().xc(),new Gy(q));m=(e=wd(j.a.Nc(),19),wd(e.Uc(),18));j.a.Oc();r=new pk(a,m.a,m.b);g=new xz;Nc(i.a,i.a.length,g);for(G=0;G<50;G++){for(D=0;D<100;D++){if(r.o[D][G]){s=new cs(D,G);Nc(g.a,g.a.length,s);n.a.Lc(s)!=null}}}}uz(i,new zm);k=0;l=new xz;d=new xz;for(h=new Lz(i);h.a<h.c.a.length;){g=wd(Jz(h),33);if(k>2249){Nc(d.a,d.a.length,g);continue}k+=g.Rb();Nc(l.a,l.a.length,g)}for(c=new Lz(d);c.a<c.c.a.length;){b=wd(Jz(c),33);for(t=b.xc();t.Mc();){s=wd(t.Nc(),18);Nc(a.u[s.a],s.b,new Ov((Qv(),Pv)))}}if(l.a.length>1){u=(YD(0,l.a.length),wd(l.a[0],33));for(p=new Lz(l);p.a<p.c.a.length;){o=wd(Jz(p),33);if(u==o){continue}f=wd(u.Qc(0),18);v=wd(o.Qc(0),18);C=new sk(a,f.a,f.b,null,true);w=lk(C,v.a,v.b);for(B=new Lz(w);B.a<B.c.a.length;){A=wd(Jz(B),21);Nc(a.u[A.c],A.d,null)}}}}
function Ok(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C;Wv(b,(Yj(),Nj));Vv(b,a.n.a.clientWidth,a.n.a.clientHeight);for(A=0;A<50;A++){for(v=0;v<100;v++){f=Wj;r=32;if(a.o.s[v][A]){k=a.o.Bb-v;l=a.o.Cb-A;q=k*k+l*l;n=q>1?0.5+4/(q-1):1;n>1&&(n=1)}else{n=0.25}if(!a.o.r[v][A]){continue}s=a.t[v][A];if(s){f=s.a.a;r=s.a.b}u=a.u[v][A];if(u){f=u.a.a;r=u.a.b}m=a.g[v][A];if(m){f=m.b.a;r=m.b.c}if(a.o.s[v][A]){p=ip(a.i,v,A);if(p){f=p.gc();r=p.jc()}}if(r==32){continue}f=new ek(f.d/255*n,f.c/255*n,f.b/255*n,f.a/255);b.a=f;Tv(b);b.b.fillText(''+String.fromCharCode(r),v*11,(A+1)*15);if(v==a.o.Bb&&A==a.o.Cb){Wv(b,new gk(128,255,128,128));b.b.fillRect(v*11,A*15,11,15)}}}for(B=0;B<50;B++){for(v=0;v<100;v++){for(d=new Lz(a.b[v][B]);d.a<d.c.a.length;){c=wd(Jz(d),40);Wv(b,c.b);b.b.fillRect(v*11,B*15,11,15)}}}for(C=0;C<50;C++){for(v=0;v<100;v++){for(h=a.d,i=0,j=h.length;i<j;++i){g=h[i];if(!g.b){continue}o=g.a.Vb();Wv(b,Wj);t=o[v][C]*g.c;if(t==0){break}Uv(b,''+Bd(Kd(48+t)&65535),v*11,(C+1)*15);break}}}yk&&Qk(a,b);Wv(b,Wj);w=Nk(a,b,1);++w;w=Jk(a,b,w);++w;w=Pk(a,b,w);++w;w=Ik(a,b,w);++w;w=Mk(a,b,w);if(a.o.rb>0){++w;Kk(a,b,w)}Lk(a,b);e=a.o.d;!!e&&Gk(b,vx(Gw(e.cd),''),a.o.Bb+2,a.o.Cb+2,Wj)}
function Vl(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,A,B,C,D,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db;gp(a.i);for(rb=0;rb<100;rb++){for(Ab=0;Ab<50;Ab++){a.k[rb][Ab]=0;Nc(a.u[rb],Ab,new Ov((Qv(),Pv)));Nc(a.t[rb],Ab,new xv((Cv(),zv)));Nc(a.g[rb],Ab,null);a.a[rb][Ab]=0;a.q[rb][Ab]=0;a.c[rb][Ab]=0;Nc(a.b[rb],Ab,new xz)}}e=Kd($wnd.Math.floor(3*oC(a.p)));if(e==0){i=new xz;V=new xz;q=oC(a.p)<0.3;ob=oC(a.p)<0.3;U=Kd(oC(a.p)*26)+5;q&&(U=U/2|0);ob&&(U=U/2|0);U=$wnd.Math.max(U,3);for(s=0;s<U;s++){mz(V,new mu(a))}if(q){S=(YD(0,V.a.length),wd(V.a[0],50));S.d<50&&S.d+S.f>50||(S.d=49)}if(ob){S=(YD(1,V.a.length),wd(V.a[1],50));S.e<25&&S.e+S.c>25||(S.e=24)}Dk=0.5+oC(a.p);mz(i,wd(qz(V,0),50));while(V.a.length>0){p=Sl(a,i,V);o=p[0];ib=p[1];Nc(i.a,i.a.length,ib);rz(V,ib);lu(o,ib)}for(T=new Lz(i);T.a<T.c.a.length;){S=wd(Jz(T),50);ku(S)}if(q){for(sb=0;sb<100;sb++){for(Ab=0;Ab<50;Ab++){!a.u[sb][Ab]&&Nc(a.u[100-sb],Ab,null)}}}if(ob){for(sb=0;sb<100;sb++){for(Ab=0;Ab<50;Ab++){!a.u[sb][Ab]&&Nc(a.u[sb],50-Ab,null)}}}}else if(e==1){N=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);for(db=1;db<14;db+=2){Z=Kd($wnd.Math.floor(-db+(db+1)*oC(a.p)));$=Kd($wnd.Math.floor(-db+(db+1)*oC(a.p)));gb=Kd($wnd.Math.ceil((100-Z)/db|0));hb=Kd($wnd.Math.ceil((50-$)/db|0));for(eb=0;eb<gb;eb++){for(fb=0;fb<hb;fb++){h=Kd($wnd.Math.floor(1001*oC(a.p)));bb=eb*db+Z;cb=fb*db+$;for(l=0;l<db;l++){for(n=0;n<db;n++){sb=bb+l;Ab=cb+n;if(sb<0||sb>=100||Ab<0||Ab>=50){continue}db==1?(N[sb][Ab]=h):(N[sb][Ab]=Kd(N[sb][Ab]*0.75+h*0.25))}}}}}R=new xz;for(tb=0;tb<100;tb++){for(Ab=0;Ab<50;Ab++){mz(R,mx(N[tb][Ab]))}}Tz(R.a,R.a.length,null);B=wd(oz(R,R.a.length/2|0),37).a;for(ub=0;ub<100;ub++){for(Ab=0;Ab<50;Ab++){N[ub][Ab]>B&&Nc(a.u[ub],Ab,null)}}}else if(e==2){N=Ic(Nd,[OE,eF],[30,23],15,[100,50],2);for(db=1;db<10;db+=2){ab=Kd($wnd.Math.ceil((5000/db|0)/db|0));while(ab>0){--ab;h=Kd($wnd.Math.floor(1001*oC(a.p)));sb=Kd($wnd.Math.floor(101*oC(a.p)))-(db/2|0);Ab=Kd($wnd.Math.floor(51*oC(a.p)))-(db/2|0);for(k=0;k<db;k++){for(m=0;m<db;m++){yb=sb+k;Cb=Ab+m;if(yb<0||yb>=100||Cb<0||Cb>=50){continue}N[yb][Cb]=Kd(N[yb][Cb]*0.7+h*0.3)}}}}N=qm(N);R=new xz;for(tb=0;tb<100;tb++){for(Ab=0;Ab<50;Ab++){mz(R,mx(N[tb][Ab]))}}Tz(R.a,R.a.length,null);B=wd(oz(R,R.a.length/2|0),37).a;for(ub=0;ub<100;ub++){for(Ab=0;Ab<50;Ab++){N[ub][Ab]>B&&Nc(a.u[ub],Ab,null)}}}for(Bb=0;Bb<50;Bb++){for(sb=0;sb<100;sb++){(sb==0||Bb==0||sb==99||Bb==49)&&Nc(a.u[sb],Bb,new Ov((Qv(),Pv)))}}Tl(a);c=Kd($wnd.Math.floor(6*oC(a.p)));if(xk){if(c==0){for(X=Kd($wnd.Math.floor(2+9*oC(a.p)));X>=0;X--){Rl(a,Mp(a),Kd($wnd.Math.floor(2*oC(a.p)))==0?100:800,Kd($wnd.Math.floor(2*oC(a.p)))==0?3:30)}if(oC(a.p)<0.5){for(W=300;W>=0;W--){Rl(a,Np(a),Kd($wnd.Math.floor(2*oC(a.p)))==0?100:800,60)}}}else if(c==1){for(W=Kd($wnd.Math.floor(2+9*oC(a.p)));W>=0;W--){Rl(a,(Lp(),Db=new zz(Kp),bA(Db,a.p),new vA(new xy(Db,Db.a.length/2|0))),Kd($wnd.Math.floor(2*oC(a.p)))==0?100:800,Kd($wnd.Math.floor(2*oC(a.p)))==0?3:30)}}else if(c==2){for(W=Kd($wnd.Math.floor(2+9*oC(a.p)));W>=0;W--){cm(a,Np(a),Kd($wnd.Math.floor(2*oC(a.p)))==0?100:800,Kd($wnd.Math.floor(2*oC(a.p)))==0?3:30)}}else c==3?cm(a,(Lp(),Jp),50,50):c==4&&Rl(a,(Lp(),Ip),50,50)}dp(a.i,a.o,a);Ir(a.o);if(oC(a.p)<0.5){mm(a);if(oC(a.p)<0.5){Q=Kd($wnd.Math.floor(2+4*oC(a.p)));for(K=new Lz(a.j);K.a<K.c.a.length;){J=wd(Jz(K),18);for(k=-Q;k<=Q;k++){for(m=-Q;m<=Q;m++){sb=J.a+k;Ab=J.b+m;if(sb<0||Ab<0||sb>=100||Ab>=50){continue}a.k[sb][Ab]==0&&(k==Q||k==-Q||m==Q||m==-Q?Nc(a.u[sb],Ab,new Ov((Qv(),Pv))):Nc(a.u[sb],Ab,null))}}}}}while(true){sb=Kd(oC(a.p)*100);Ab=Kd(oC(a.p)*50);if(a.u[sb][Ab]){continue}Nc(a.t[sb],Ab,new xv((Cv(),yv)));a.s=new cs(sb,Ab);break}L=new qk(a,a.o.Bb,a.o.Cb,a.o);if(!L.o[a.s.a][a.s.b]){lb=new sk(a,a.o.Bb,a.o.Cb,a.o,true);kb=lk(lb,a.s.a,a.s.b);for(I=new Lz(kb);I.a<I.c.a.length;){H=wd(Jz(I),21);Nc(a.u[H.c],H.d,null)}}for(vb=0;vb<100;vb++){for(Ab=0;Ab<50;Ab++){if(a.u[vb][Ab]){for(k=-1;k<2;k++){for(m=-1;m<2;m++){mb=vb+k;nb=Ab+m;if(mb<0||nb<0||mb>=100||nb>=50){++a.a[Nv(mb,0,99)][Nv(nb,0,49)];continue}++a.a[mb][nb]}}}}}for(wb=0;wb<100;wb++){for(Ab=0;Ab<50;Ab++){if(a.u[wb][Ab]){for(k=-3;k<4;k++){for(m=-3;m<4;m++){mb=wb+k;nb=Ab+m;if(mb<0||nb<0||mb>=100||nb>=50){++a.q[Nv(mb,0,99)][Nv(nb,0,49)];continue}++a.q[mb][nb]}}}}}for(xb=0;xb<100;xb++){for(Ab=0;Ab<50;Ab++){b=a.a[xb][Ab];d=a.q[xb][Ab];g=d*9/49;j=Kd($wnd.Math.floor(b*(1-El)+g*El+1));a.c[xb][Ab]=j}}pb=Ul(a);for(u=(Xm(),Oc(Gc(ue,1),DE,32,0,[Rm,Tm,Vm,Wm,Um,Sm])),v=0,w=u.length;v<w;++v){t=u[v];jb=t.Yb(a);while(jb>0){qb=Kd(oC(a.p)*100);Ab=Kd(oC(a.p)*50);if(a.u[qb][Ab]){continue}Nc(a.g[qb],Ab,new Qm(t,a));--jb}}if(Fk){G=Do(a.e);D=pb/80|0;for(s=0;s<D;s++){P=null;F=wd(oz(G,om(a,0,G.a.length-1)),25);for(A=0;A<F.d;A++){C=Bo(F,a);C.db=a.e;or(C);dp(a.i,C,a);if(!P){dp(C.Y.i,C,C.Y)}else{O=im(a,C.Bb,C.Cb);O?jp(a.i,C,O.a,O.b):dp(C.Y.i,C,C.Y)}P=C}}}for(r=0;r<Ak;r++){f=new Or(a);f.n=false;f.b=true;dp(a.i,f,a)}Y=0;for(zb=0;zb<50;zb++){for(qb=0;qb<100;qb++){if(!!a.u[qb][zb]&&!!ip(a.i,qb,zb)){throw qi(new Vb('monster stuck in wall : '+ip(a.i,qb,zb)))}a.t[qb][zb].a==(Cv(),yv)&&++Y}}if(Y==0){throw qi(new Vb('no stairs'))}a.o.j=new qk(a,a.o.Bb,a.o.Cb,a.o);M=mk(a.o.j,a.s.a,a.s.b);if(M.a.length==0){throw qi(new Vb("can't reach stairs, player at "+a.o.Bb+SE+a.o.Cb+' and stairs at '+a.s))}++a.e}
var qE='object',rE='number',sE='function',tE=2147483647,uE='__noinit__',vE='__java$exception',wE={3:1,24:1,13:1,17:1},xE='null',yE=4194303,zE=1048575,AE=524288,BE=4194304,CE=17592186044416,DE={3:1,7:1,4:1,11:1,5:1},EE=0.10000000149011612,FE=0.20000000298023224,GE=0.30000001192092896,HE=0.4000000059604645,IE=0.6000000238418579,JE=0.699999988079071,KE=0.800000011920929,LE=0.8500000238418579,ME=0.8999999761581421,NE=0.949999988079071,OE={3:1,7:1,4:1,16:1,5:1},PE={265:1,3:1,4:1,11:1,5:1},QE={3:1,4:1,5:1},RE=1111,SE=', ',TE='MANA_SHIELD',UE='MANA_BREAK',VE='REFRACTION',WE='GOD_STRENGTH',XE='INNER_BEAST',YE='STRAFE',ZE='INSATIABLE_HUNGER',$E='DIABOLIC_EDICT',_E='BATTERY_ASSAULT',aF='SAND_IN_EYES',bF='FIRE_BRAND',cF=1.399999976158142,dF=1.100000023841858,eF={30:1,3:1,4:1},fF={3:1,4:1},gF={32:1,3:1,6:1,8:1},hF=' health.',iF={25:1},jF={3:1,4:1,11:1,5:1},kF={132:1,3:1,4:1,5:1},lF={75:1,3:1,4:1},mF={9:1,3:1,6:1,8:1},nF='SAND_STORM',oF='LIGHTNING_BOLT',pF='BLACK_HOLE',qF='PIT_OF_MALICE',rF='DOPPLEGANGER',sF="Can't cast while stunned!",tF={84:1,3:1,4:1},uF={12:1,6:1},vF=0.009999999776482582,wF=1.2000000476837158,xF=1.2999999523162842,yF=1.7000000476837158,zF=1.850000023841858,AF={29:1,28:1,31:1},BF={29:1,28:1,31:1,48:1},CF={15:1,3:1,6:1,8:1},DF=3.141592653589793,EF=6.283185307179586,FF=0.5235987755982988,GF={44:1,3:1,6:1,8:1},HF={29:1,28:1,62:1,31:1,33:1},IF={3:1,4:1,61:1},JF={3:1,4:1,29:1,28:1,31:1,48:1},KF='delete',LF=1.4901161193847656E-8,MF=1.1102230246251565E-16,NF=15525485,OF=5.9604644775390625E-8,PF=16777216,QF=16777215,RF={3:1,6:1,8:1,52:1},SF='fromIndex: 0 > toIndex: ',TF='fromIndex: 0, toIndex: ',UF=', length: ',VF='Index: ',WF=', Size: ';var _,Ei,zi,oi=-1;Fi();Gi(1,null,{},Eb);_.Db=function Fb(a){return this===a};_.Eb=function Hb(){return this.cd};_.Fb=function Jb(){return hE(this)};_.Gb=function Lb(){var a;return Fw(Ib(this))+'@'+(a=Kb(this)>>>0,a.toString(16))};_.equals=function(a){return this.Db(a)};_.hashCode=function(){return this.Fb()};_.toString=function(){return this.Gb()};var sd,td,ud;Gi(101,1,{},Hw);_.Cc=function Iw(a){var b;b=new Hw;b.e=4;a>1?(b.c=Ow(this,a-1)):(b.c=this);return b};_.Dc=function Nw(){Ew(this);return this.b};_.ic=function Pw(){return Fw(this)};_.Ec=function Rw(){return Gw(this)};_.Fc=function Tw(){return (this.e&4)!=0};_.Gc=function Uw(){return (this.e&1)!=0};_.Gb=function Xw(){return ((this.e&2)!=0?'interface ':(this.e&1)!=0?'':'class ')+(Ew(this),this.k)};_.e=0;_.g=0;var Dw=1;var Sg=Kw(1);var Hg=Kw(101);Gi(17,1,{3:1,17:1});_.Hb=function Pb(a){return new Error(a)};_.Ib=function Rb(){return this.f};_.Jb=function Sb(){var a,b,c;c=this.f==null?null:this.f.replace(new RegExp('\n','g'),' ');b=(a=Fw(this.cd),c==null?a:a+': '+c);Nb(this,Qb(this.Hb(b)));yc(this)};_.Gb=function Tb(){return Ob(this,this.Ib())};_.e=uE;_.g=true;var Xg=Kw(17);Gi(24,17,{3:1,24:1,17:1});var Kg=Kw(24);Gi(13,24,wE,Vb);var Tg=Kw(13);Gi(86,13,wE);var Pg=Kw(86);Gi(139,86,wE);var Rd=Kw(139);Gi(67,139,{67:1,3:1,24:1,13:1,17:1},Zb);_.Ib=function ac(){Yb(this);return this.c};_.Kb=function bc(){return Jd(this.b)===Jd(Wb)?null:this.b};var Wb;var Od=Kw(67);var Pd=Kw(0);Gi(266,1,{});var Qd=Kw(266);var dc=0,ec=0,fc=-1;Gi(162,266,{},tc);var pc;var Sd=Kw(162);var wc;Gi(277,1,{});var Wd=Kw(277);Gi(140,277,{},Bc);_.Lb=function Cc(a){var b={},j;var c=[];a['fnStack']=c;var d=arguments.callee.caller;while(d){var e=(xc(),d.name||(d.name=zc(d.toString())));c.push(e);var f=':'+e;var g=b[f];if(g){var h,i;for(h=0,i=g.length;h<i;h++){if(g[h]===d){return}}}(g||(b[f]=[])).push(d);d=d.caller}};var Td=Kw(140);Gi(278,277,{});_.Lb=function Dc(a){};var Vd=Kw(278);Gi(141,278,{},Ec);var Ud=Kw(141);var Qc;var nd,od,pd,qd;var Ni;Gi(40,1,{40:1},Pi);_.c=0;var Xd=Kw(40);Gi(279,1,{61:1});_.Nb=function Ti(a){return Qi(this,a)};_.Ob=function Ui(a){return !!Ri(this,a)};_.Db=function Vi(a){var b,c,d;if(a===this){return true}if(!Dd(a,61)){return false}d=wd(a,61);if(this.Rb()!=d.Rb()){return false}for(c=d.Pb().xc();c.Mc();){b=wd(c.Nc(),19);if(!this.Nb(b)){return false}}return true};_.Qb=function Wi(a){return Xi(Ri(this,a))};_.Fb=function Yi(){return _z(this.Pb())};_.Rb=function Zi(){return this.Pb().Rb()};_.Gb=function $i(){var a,b,c;c=new HC('{','}');for(b=this.Pb().xc();b.Mc();){a=wd(b.Nc(),19);GC(c,Si(this,a.Uc())+'='+Si(this,a.Vc()))}return !c.a?c.c:c.e.length==0?c.a.a:c.a.a+(''+c.e)};var lh=Kw(279);Gi(281,279,{61:1});_.Nb=function bj(a){return _i(this,a)};_.Ob=function cj(a){return aj(this,a)};_.Pb=function dj(){return new Vy(this)};_.Qb=function ej(a){return Xi(this.Tb(a))};var ph=Kw(281);Gi(108,281,{3:1,61:1});_.Sb=function rj(){return new LC(this)};_.Pb=function sj(){return new QC(this)};_.Tb=function tj(a){return gj(this,a)};_.Rb=function uj(){return this.c};_.c=0;var bi=Kw(108);Gi(166,108,{3:1,61:1},zj);_.Qb=function Aj(a){return xj(this,a)};var Yd=Kw(166);Gi(8,1,{3:1,6:1,8:1});_.Ub=function Dj(a){return Bj(this,wd(a,8))};_.Db=function Ej(a){return this===a};_.Fb=function Fj(){return hE(this)};_.Gb=function Gj(){return this.g!=null?this.g:''+this.i};_.i=0;var Jg=Kw(8);Gi(72,8,{72:1,3:1,6:1,8:1},Lj);var Hj,Ij,Jj;var Zd=Lw(72,Mj);Gi(10,1,{10:1},ck,dk,ek,fk,gk);_.Gb=function hk(){return 'Color [r='+this.d+', g='+this.c+', b='+this.b+', a='+this.a+']'};_.a=0;_.b=0;_.c=0;_.d=0;var Nj,Oj,Pj,Qj,Rj,Sj,Tj,Uj,Vj,Wj,Xj;var $d=Kw(10);Gi(27,1,{27:1},pk,qk,rk,sk);_.f=0;_.g=0;_.j=0;_.p=0;_.q=false;_.r=0;var ae=Kw(27);Gi(21,1,{21:1,6:1},uk);_.Ub=function vk(a){return tk(this,wd(a,21))};_.Gb=function wk(){return 'Node [x='+this.c+', y='+this.d+', cost='+this.a+']'};_.a=0;_.c=0;_.d=0;var _d=Kw(21);var xk=true,yk=false,zk=false,Ak=3,Bk=70000,Ck=true,Dk=ME,Ek=100,Fk=false;Gi(26,8,{26:1,3:1,6:1,8:1},jl,kl);_.a=false;var Rk,Sk,Tk,Uk,Vk,Wk,Xk,Yk,Zk,$k,_k,al,bl,cl,dl,el,fl,gl,hl;var be=Lw(26,ll);var ml=0,nl=2,ol=NE,pl=1.25,ql=NE,rl=6,sl=10,tl=10,ul=0.25,vl=cF,wl=LE,xl=4,yl=dF,zl=3,Al=6,Bl=5,Cl=1,Dl=false,El=0.6499999761581421,Fl=30,Gl=4,Hl=1.600000023841858,Il=0.5,Jl=7;Gi(81,8,{81:1,3:1,6:1,8:1},Nl);var Kl,Ll;var ce=Lw(81,Ol);Gi(134,1,{},sm);_.e=1;_.r=true;var ne=Kw(134);Gi(148,1,{},vm);var de=Kw(148);Gi(149,1,{},xm);var ee=Kw(149);Gi(56,1,{56:1},ym);_.b=false;_.c=0;var fe=Kw(56);Gi(147,1,{},zm);_.Db=function Bm(a){return this===a};_.Wb=function Am(a,b){return -fx(wd(a,33).Rb(),wd(b,33).Rb())};var ge=Kw(147);Gi(142,1,{},Cm);_.Vb=function Dm(){return this.a.a};var he=Kw(142);Gi(143,1,{},Em);_.Vb=function Fm(){return this.a.q};var ie=Kw(143);Gi(144,1,{},Gm);_.Vb=function Hm(){return this.a.c};var je=Kw(144);Gi(145,1,{},Im);_.Vb=function Jm(){return this.a.k};var ke=Kw(145);Gi(146,1,{},Km);_.Vb=function Lm(){return Ql(this.a.o.j.o)};var le=Kw(146);Gi(150,1,{},Mm);_.Db=function Om(a){return this===a};_.Wb=function Nm(a,b){return um(this.a,this.b,a,b)};_.a=0;_.b=0;var me=Kw(150);Gi(88,1,{88:1},Qm);_.a=0;var ve=Kw(88);Gi(32,8,gF);_.c=0;var Rm,Sm,Tm,Um,Vm,Wm;var ue=Lw(32,Zm);Gi(170,32,gF,$m);_.Xb=function _m(){return 999999};_.Yb=function an(a){return Kd(gm(a,a.e+10,10))};_.Zb=function bn(a,b){b.Z+=a.a;lr(b,'Got $'+a.a+'.',(Yj(),Xj))};_.$b=function cn(a){};_._b=function dn(a){return 1+Kd(oC(a.p)*10)};var oe=Lw(170,null);Gi(171,32,gF,fn);_.Xb=function gn(){return zl};_.Yb=function hn(a){return tl};_.Zb=function jn(a,b){nr(b,a)};_.$b=function kn(a){en(this,a)};_._b=function ln(a){return 1};var pe=Lw(171,null);Gi(172,32,gF,nn);_.Xb=function on(){return 5};_.Yb=function pn(a){return sl};_.Zb=function qn(a,b){nr(b,a)};_.$b=function rn(a){mn(this,a)};_._b=function sn(a){return 1};var qe=Lw(172,null);Gi(173,32,gF,un);_.Xb=function vn(){return 5};_.Yb=function wn(a){return Kd(gm(a,ul,2))};_.Zb=function xn(a,b){nr(b,a)};_.$b=function yn(a){tn(this,a)};_._b=function zn(a){return 1};var re=Lw(173,null);Gi(174,32,gF,Bn);_.Xb=function Cn(){return 5};_.Yb=function Dn(a){return rl};_.Zb=function En(a,b){nr(b,a)};_.$b=function Fn(a){An(this,a)};_._b=function Gn(a){return 1};var se=Lw(174,null);Gi(175,32,gF,In);_.Xb=function Jn(){return 50};_.Yb=function Kn(a){return Kd($wnd.Math.floor(3+oC(a.p)))};_.Zb=function Ln(a,b){nr(b,a)};_.$b=function Mn(a){Hn(a)};_._b=function Nn(a){return Kd($wnd.Math.floor(10+11*oC(a.p)))};var te=Lw(175,null);Gi(221,1,{},Qn);var On;var we=Kw(221);Gi(35,1,{35:1});_.ac=function go(){var a,b,c,d,e,f,g,h,i,j,k,l,m;--this.pb;eo(this);l=null;m=false;for(j=(k=(new Cy(this.Y.i.b.a)).a.Pb().xc(),new Gy(k));j.a.Mc();){i=(h=wd(j.a.Nc(),19),wd(h.Uc(),35));if(Dd(i,42)){m=_n(this,i.Bb,i.Cb);if(m){l=wd(i,42);break}}}if($n(this,(il(),dl))){m=false;this.mb=false}Un(this);if((m||this.mb)&&oC(this.Y.p)>this.D){if(m){this.mb=true;this.yb=l.Bb;this.zb=l.Cb}f=this.yb-this.Bb;g=this.zb-this.Cb;d=f>0?1:f<0?-1:0;e=g>0?1:g<0?-1:0;a=Ic(Nd,[OE,eF],[30,23],15,[3,2],2);for(c=0;c<3;c++){a[c][0]=d;a[c][1]=e}if(f*f>g*g){a[1][1]=0;a[2][0]=0}else{a[1][0]=0;a[2][1]=0}for(b=0;b<3;b++){d=a[b][0];e=a[b][1];if(!this.Y.u[this.Bb+d][this.Cb+e]){break}}this.kc(d,e)}else{f=om(this.Y,-1,1);g=om(this.Y,-1,1);this.kc(f,g)}};_.bc=function ho(a,b){Sn(this,a,b)};_.cc=function io(){return this.Ab.b};_.dc=function jo(){return this.Ab.c};_.ec=function ko(a){Xn(this,a)};_.fc=function lo(a){Yn(this,a)};_.gc=function mo(){return this.Ab.a};_.hc=function no(){return this.F};_.ic=function oo(){return this.Ab.d};_.jc=function po(){return this.Ab.f};_.kc=function qo(a,b){bo(this,a,b)};_.lc=function ro(a,b,c,d,e){return co(this,a,b,c)};_.mc=function so(){var a;a=Dd(this,42)?1:vl;return oC(this.Y.p)*(this.Ab.e+this.db)*a};_.B=0;_.C=1.690000057220459;_.D=0.3;_.F=0;_.G=1;_.H=16.1299991607666;_.I=0.31;_.J=28.26;_.K=2.17;_.L=17.729999542236328;_.M=0.25;_.N=200;_.O=75;_.P=19.969999313354492;_.S=0;_.T=false;_.V=0;_.W=0;_.Z=0;_.$=0;_._=0;_.ab=0;_.bb=1.8200000524520874;_.db=1;_.gb=1;_.hb=0;_.ib=0;_.jb=0;_.kb=0;_.lb=0;_.mb=false;_.nb=0;_.pb=0;_.qb=7;_.rb=3;_.sb=0;_.tb=0;_.ub=2.3399999141693115;_.vb=false;_.xb=0;_.yb=0;_.zb=0;_.Bb=10;_.Cb=10;var Ne=Kw(35);Gi(159,1,{},to);_.nc=function uo(a){return wd(a,9).rc()};var xe=Kw(159);Gi(160,1,{},vo);_.nc=function wo(a){return wd(a,9).qc()};var ye=Kw(160);Gi(161,1,{},xo);_.nc=function yo(a){return ao(this.a,a)};var ze=Kw(161);Gi(25,1,iF);_.b=0;_.d=0;_.e=0;_.f=0;_.g=0;var zo;var Je=Kw(25);Gi(176,25,iF,Eo);_.oc=function Fo(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new us(a),new Ms(a)]))};_.pc=function Go(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),iq),bq]))};var Ae=Kw(176);Gi(177,25,iF,Ho);_.oc=function Io(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new us(a),new Ms(a),new ms(a),new rs(a),new Gs(a),new Ss(a),new Vs(a),new Ys(a),new it(a)]))};_.pc=function Jo(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),Op),bq,Rp]))};var Be=Kw(177);Gi(178,25,iF,Ko);_.oc=function Lo(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a),new rs(a)]))};_.pc=function Mo(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),iq),bq]))};var Ce=Kw(178);Gi(179,25,iF,No);_.oc=function Oo(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a),new Dt(a)]))};_.pc=function Po(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),Zp),dq,$p,aq]))};var De=Kw(179);Gi(180,25,iF,Qo);_.oc=function Ro(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a),new rs(a),new Pt(a),new rt(a)]))};_.pc=function So(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),Op),bq,hq,Up]))};var Ee=Kw(180);Gi(181,25,iF,To);_.oc=function Uo(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a),new Jt(a),new ot(a)]))};_.pc=function Vo(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),Zp),dq,eq,Tp]))};var Fe=Kw(181);Gi(182,25,iF,Wo);_.oc=function Xo(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a)]))};_.pc=function Yo(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),iq),bq,fq,aq]))};var Ge=Kw(182);Gi(183,25,iF,Zo);_.oc=function $o(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a),new us(a),new xt(a)]))};_.pc=function _o(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),Op),dq,Wp]))};var He=Kw(183);Gi(184,25,iF,ap);_.oc=function bp(a){return new Vz(Oc(Gc(Sf,1),jF,12,0,[new js(a),new Ms(a),new At(a)]))};_.pc=function cp(){return new Vz(Oc(Gc(mf,1),DE,9,0,[(jq(),Op),bq,Yp]))};var Ie=Kw(184);Gi(163,1,{},lp);var Le=Kw(163);Gi(89,1,{89:1},mp);_.b=0;_.c=0;var Ke=Kw(89);Gi(43,8,{43:1,3:1,6:1,8:1},wp);_.b=0;_.c=0;_.e=0;_.f=0;var np,op,pp,qp,rp,sp,tp,up;var Me=Lw(43,xp);var yp;Gi(247,1,{},Cp);_.Gb=function Dp(){var a,b,c,d,e,f,g,h,i,j,k,l;l=new KB;GB(l,this.a.length);for(g=this.b,h=0,i=g.length;h<i;++h){f=g[h];GB(l,f)}for(b=this.a,c=0,d=b.length;c<d;++c){a=b[c];Ep(a,l)}e=new Cx;for(k=IB(l,0);k.b!=k.d.c;){j=xd(OB(k));Bx((e.a+=''+j,e),',')}return e.a};var Pe=Kw(247);Gi(94,1,{94:1},Hp);_.b=0;_.c=0;var Oe=Kw(94);var Ip,Jp,Kp;Gi(9,8,mF);_.qc=function lq(){return false};_.rc=function mq(){return false};var Op,Pp,Qp,Rp,Sp,Tp,Up,Vp,Wp,Xp,Yp,Zp,$p,_p,aq,bq,cq,dq,eq,fq,gq,hq,iq;var mf=Lw(9,nq);Gi(197,9,mF,oq);_.rc=function pq(){return true};_.sc=function qq(a){a.Q=(Kj(),Jj);a.P+=3.62;a.ub+=1;a.H+=-1;a.C+=-1;a.L+=-0.5800000000000001;a.bb+=-1;a.K+=0.55;a.I+=0;a.J+=5.71};var $e=Lw(197,null);Gi(206,9,mF,rq);_.sc=function sq(a){Dr(a,(Hu(),yu))};var Qe=Lw(206,null);Gi(207,9,mF,tq);_.sc=function uq(a){Dr(a,(Hu(),ou))};var Re=Lw(207,null);Gi(208,9,mF,vq);_.sc=function wq(a){Dr(a,(Hu(),xu))};var Se=Lw(208,null);Gi(209,9,mF,xq);_.sc=function yq(a){Dr(a,(Hu(),su))};var Te=Lw(209,null);Gi(210,9,mF,zq);_.sc=function Aq(a){Rn(a,(il(),_k),tE)};var Ue=Lw(210,null);Gi(211,9,mF,Bq);_.sc=function Cq(a){Rn(a,(il(),al),tE)};var Ve=Lw(211,null);Gi(212,9,mF,Dq);_.sc=function Eq(a){Dr(a,(Hu(),tu))};var We=Lw(212,null);Gi(213,9,mF,Fq);_.sc=function Gq(a){Dr(a,(Hu(),Fu))};var Xe=Lw(213,null);Gi(214,9,mF,Hq);_.sc=function Iq(a){Rn(a,(il(),Xk),tE)};var Ye=Lw(214,null);Gi(215,9,mF,Jq);_.sc=function Kq(a){Dr(a,(Hu(),zu))};var Ze=Lw(215,null);Gi(198,9,mF,Lq);_.rc=function Mq(){return true};_.sc=function Nq(a){a.Q=(Kj(),Hj);a.P+=0;a.ub+=0;a.H+=5.84;a.C+=2.34;a.L+=0;a.bb+=0.06;a.K+=0.39;a.I+=0.31;a.J+=0.87};var df=Lw(198,null);Gi(216,9,mF,Oq);_.sc=function Pq(a){Dr(a,(Hu(),Gu))};var _e=Lw(216,null);Gi(217,9,mF,Qq);_.sc=function Rq(a){a.W=15};var af=Lw(217,null);Gi(218,9,mF,Sq);_.sc=function Tq(a){Dr(a,(Hu(),vu))};var bf=Lw(218,null);Gi(219,9,mF,Uq);_.sc=function Vq(a){Dr(a,(Hu(),qu))};var cf=Lw(219,null);Gi(199,9,mF,Wq);_.rc=function Xq(){return true};_.sc=function Yq(a){a.Q=(Kj(),Ij);a.P+=0.49;a.ub+=0.13;a.H+=0.92;a.C+=0.07;a.L+=5.04;a.bb+=1.64;a.K+=0;a.I+=0.07;a.J+=0};var ef=Lw(199,null);Gi(200,9,mF,Zq);_.qc=function $q(){return true};_.sc=function _q(a){a.X=(Ml(),Ll);a.G+=2;a.P+=-2.44;a.ub+=-0.52;a.H+=-0.21;a.C+=0.03;a.L+=1.69;a.bb+=0.55;a.K+=-0.72;a.I+=-0.74;a.J+=-6.22};var ff=Lw(200,null);Gi(201,9,mF,ar);_.qc=function br(){return true};_.sc=function cr(a){a.X=(Ml(),Kl);a.P-=-1.83;a.ub-=-0.39;a.H-=-0.21;a.C-=0.03;a.L-=1.69;a.bb-=0.55;a.K-=-0.36;a.I-=-0.37;a.J-=-3.11};var gf=Lw(201,null);Gi(202,9,mF,dr);_.sc=function er(a){Dr(a,(Hu(),Bu))};var hf=Lw(202,null);Gi(203,9,mF,fr);_.sc=function gr(a){Dr(a,(Hu(),uu))};var jf=Lw(203,null);Gi(204,9,mF,hr);_.sc=function ir(a){Dr(a,(Hu(),Du))};var kf=Lw(204,null);Gi(205,9,mF,jr);_.sc=function kr(a){Dr(a,(Hu(),wu))};var lf=Lw(205,null);Gi(42,35,{35:1,42:1},Or);_.ac=function Pr(){var a,b,c,d,e,f,g;++this.sb;if($n(this,(il(),$k))&&!$n(this,Uk)){this.$=0;this.T=true}$n(this,Rk)&&this.U[11]%2==1&&lm(this.k,this.Bb,this.Cb,1,new Pi(this,(Hu(),pu),1,new gk(90,128,219,64)));if($n(this,Tk)){b=hm(this.k,this.Bb,this.Cb,2);rz(b,this);if(b.a.length!=0){g=wd(oz(b,om(this.k,0,b.a.length-1)),35);rr(this,g,'diabolic edict',40)}lm(this.k,this.Bb,this.Cb,2,new Pi(this,(Hu(),Au),2,new gk(165,128,219,64)))}Un(this);for(d=Ju(),e=0,f=d.length;e<f;++e){c=d[e];this.R[c.i]>0&&--this.R[c.i]}eo(this);this.$=$wnd.Math.min(this.$+this._,this.kb);this.ib=$wnd.Math.min(this.ib+this.jb,this.lb);while(this.rb>0&&this.b){a=Zn(this);mr(this,wd(a.Qc(om(this.k,0,a.Rb()-1)),9))}if(!this.n){Gr(this);sr(this,this.k)}};_.bc=function Qr(a,b){lr(this,a,b)};_.cc=function Rr(){return Kd(this.N+this.tb*20)};_.dc=function Sr(){return Kd(this.O+this.ab*12)};_.ec=function Tr(a){tr(this,a)};_.fc=function Ur(a){Yn(this,a);or(this)};_.gc=function Vr(){return this.i};_.hc=function Wr(){var a;a=this.F;$n(this,(il(),Sk))&&(a+=2);return a};_.ic=function Xr(){return this.p};_.jc=function Yr(){return this.v};_.kc=function Zr(a,b){Er(this,a,b)};_.lc=function $r(a,b,c,d,e){var f,g,h;this.vb=true;if(d==0){f=1-0.06*this.F/(1.06+$wnd.Math.abs(this.F));a*=f}else if(d==1){g=1-this.hb;a*=g}if($n(b,(il(),_k))){h=$wnd.Math.min(6,this.ib);h>0&&lr(this,b.Ab.d+'('+b.db+')'+' burns your mana for '+h+'.',(Yj(),Wj));this.ib-=h;a+=h}if($n(this,al)){h=$wnd.Math.ceil(a*7/10);h>this.ib&&(h=this.ib);h>0&&lr(this,'Your mana shield absorbs '+Kd(h)+' damage!',(Yj(),Oj));a-=h;this.ib-=h}if($n(this,bl)&&a>0){lr(this,'Refraction absorbs a hit!',(Yj(),Sj));a=0;Tn(this,bl)}a=co(this,a,b,c);e&&this.W>0&&b.lc(this.W,this,'thorns',1,false);this==this.k.o&&(a==0?lr(this,b.ic()+' attacks but does no damage.',(Yj(),Wj)):lr(this,b.ic()+' hits you for '+Kd(a)+hF,(Yj(),Vj)));return a};_.mc=function _r(){var a;a=this.S;a=nm(this.k,a*0.9,a/0.9);$n(this,(il(),Wk))&&(a*=2);$n(this,Yk)&&(a+=14);return a};_.b=false;_.e=false;_.f=false;_.g=false;_.n=false;_.v=0;_.w=0;_.A=0;var of=Kw(42);Gi(158,1,{},as);_.nc=function bs(a){return Dd(wd(a,12),78)||Dd(wd(a,12),38)||Dd(wd(a,12),79)||Dd(wd(a,12),80)||Dd(wd(a,12),71)||Dd(wd(a,12),59)};var nf=Kw(158);Gi(18,1,{18:1},cs);_.Db=function ds(a){var b;if(this===a)return true;if(a==null)return false;if(pf!=Ib(a))return false;b=wd(a,18);if(this.a!=b.a)return false;if(this.b!=b.b)return false;return true};_.Fb=function es(){var a;a=31+this.a;a=31*a+this.b;return a};_.Gb=function fs(){return '('+this.a+SE+this.b+')'};_.a=0;_.b=0;var pf=Kw(18);Gi(12,1,uF);_.Ub=function is(a){return gs(this,wd(a,12))};_.i=0;var Sf=Kw(12);Gi(46,12,uF,js);_.tc=function ks(){var a;this.a=ur(this.g);if(!this.a){this.i=0;return}this.b=yr(this.g,this.a.a,this.a.b);qz(this.b,0);if(this.b.a.length==0){this.i=0;return}a=this.g.$<(this.g.kb/2|0);if(a){this.i=0.5;return}this.i=1};_.uc=function ls(){var a,b,c,d,e,f,g,h;if(!this.a){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}g=wd(qz(this.b,0),21);a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));h=ip(this.g.k.i,this.a.a,this.a.b);if(a<=this.g.G){if(this.g.G>1){Vn(this.g,h)}else{c=g.c-this.g.Bb;e=g.d-this.g.Cb;Er(this.g,c,e)}return}if(a>h.G){if(this.g.$<(this.g.kb/2|0)){Er(this.g,0,0);return}}f=this.g.$<this.g.kb*ql;if(f&&a==2){Er(this.g,0,0);return}b=g.c-this.g.Bb;d=g.d-this.g.Cb;Er(this.g,b,d)};var qf=Kw(46);Gi(115,12,uF,ms);_.tc=function ns(){var a,b,c,d,e;if(!Br(this.g,(Xm(),Sm))){this.i=0;return}this.a=ur(this.g);if(!this.a){this.i=0;return}if(!_n(this.g,this.a.a,this.a.b)){this.i=0;return}e=ip(this.g.k.i,this.a.a,this.a.b);!e&&ti(Date.now());b=this.g.$<=e.$;c=this.g.$<(this.g.kb*6/10|0);if(!b&&!c&&xj(this.g.c,Sm).a<=Bl){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a<2){this.i=0;return}d=Hl;this.g.G>1&&(d/=2);this.i=d};_.uc=function os(){if(!this.a){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}Hn((Xm(),Sm,this.g));return};var rf=Kw(115);Gi(70,12,uF,rs);_.tc=function ss(){ps(this)};_.uc=function ts(){qs(this)};var sf=Kw(70);Gi(59,12,{12:1,59:1,6:1},us);_.tc=function vs(){var a,b,c,d,e,f,g,h,i;a=this.g.$<=(this.g.kb/4|0);if(!a){this.i=0;return}this.a=ur(this.g);if(!this.a){this.i=0;return}d=ip(this.g.k.i,this.a.a,this.a.b);g=d.$<this.g.$;if(this.g.j.r==1&&g){this.i=0;return}Dd(d,42)?(c=wd(d,42).j):(c=new pk(this.g.k,this.a.a,this.a.b));this.b=null;for(h=-3;h<=3;h++){for(i=-3;i<=3;i++){e=this.g.Bb+h;f=this.g.Cb+i;if(e<0||f<0||e>=100||f>=50){continue}if(!c){continue}b=c.o[e][f];if(!b){continue}(!this.b||this.b.a<b.a)&&(this.b=b)}}!!this.b&&this.b.c==this.g.Bb&&this.b.d==this.g.Cb&&(this.b=null);if(!this.b){this.i=0;return}this.c=mk(this.g.j,this.b.c,this.b.d);if(this.c.a.length==0){this.i=0;return}qz(this.c,0);if(this.c.a.length==0){this.i=0;return}this.i=1.7999999523162842};_.uc=function ws(){var a,b,c;c=wd(qz(this.c,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Er(this.g,a,b)};var tf=Kw(59);Gi(78,12,{12:1,78:1,6:1},As);_.tc=function Bs(){var a,b,c,d,e,f,g,h,i;this.d-=0.01;this.d<0&&(this.d=0);if(this.g.k.i.b.a.Rb()==1){this.i=0;return}if(Dl){this.a=ur(this.g);this.b=wr(this.g);this.f=zr(this.g);g=this.b;!g&&(g=this.f);h=!!g&&g.a==this.g.Bb&&g.b==this.g.Cb;xs(this,g);i=Oc(Gc(Md,1),lF,23,15,[!this.a?0:1,ys(this,this.a),zs(this,this.a),!this.b?0:1,!this.f?0:1,ys(this,g),zs(this,g),this.g.$/this.g.kb,this.g.j.r,h?1:0]);hs(this,1/(1+$wnd.Math.pow(2.718281828459045,-Bp(this.c,i)[0]))*2);return}this.a=ur(this.g);this.b=wr(this.g);this.f=zr(this.g);c=this.b;!c&&(c=this.f);if(!this.a){this.i=0;return}if(!c){this.i=0;return}b=c.a==this.g.Bb&&c.b==this.g.Cb;if(!c||b){this.i=0;return}a=this.g.$>this.g.kb*wl;e=this.g.j.r;if(a&&e<xl){this.i=0;return}d=ip(this.g.k.i,this.a.a,this.a.b);f=d.$<this.g.$;if(this.g.j.r==1&&f){this.i=0;return}this.e=yr(this.g,c.a,c.b);qz(this.e,0);if(this.e.a.length==0){this.i=0;return}hs(this,yl)};_.uc=function Cs(){var a,b,c;if(!this.e||this.e.a.length==0){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}c=wd(qz(this.e,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Er(this.g,a,b);++this.g.A;this.d+=0.03;this.d>0.5&&(this.d*=2)};_.d=0;var uf=Kw(78);Gi(189,12,uF,Ds);_.tc=function Es(){if(Kr(this.g)){this.i=0;return}this.b=this.g.k.s;if(!this.b){this.i=0;return}if(this.b.a==this.g.Bb&&this.b.b==this.g.Cb){this.i=0;return}try{this.a=yr(this.g,this.b.a,this.b.b);if(!this.a){this.i=0;return}}catch(a){a=pi(a);if(Dd(a,24)){this.a=null;this.i=vF;return}else throw qi(a)}if(this.a.a.length==0){this.i=0;return}qz(this.a,0);if(this.a.a.length==0){this.i=0;return}this.i=vF};_.uc=function Fs(){var a,b,c;if(!this.a||this.a.a.length==0){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}c=wd(qz(this.a,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Er(this.g,a,b)};var vf=Kw(189);Gi(71,12,{12:1,71:1,6:1},Gs);_.tc=function Hs(){if(Kr(this.g)){this.i=0;return}this.a=xr(this.g);if(!this.a){this.i=0;return}this.b=yr(this.g,this.a.a,this.a.b);qz(this.b,0);if(this.b.a.length==0){this.i=0;return}this.i=FE};_.uc=function Is(){var a,b,c;if(!this.b||this.b.a.length==0){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}c=wd(qz(this.b,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Er(this.g,a,b)};var wf=Kw(71);Gi(80,12,{12:1,80:1,6:1},Js);_.tc=function Ks(){var a,b,c;this.a=ur(this.g);this.b=xr(this.g);if(!this.b){this.i=0;return}c=this.g.k.g[this.b.a][this.b.b];if(c.b!=(Xm(),Tm)){this.i=0;return}b=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.b.a),$wnd.Math.abs(this.g.Cb-this.b.b));a=!this.a?10:$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(b>=a){this.i=0;return}this.c=yr(this.g,this.b.a,this.b.b);qz(this.c,0);if(this.c.a.length==0){this.i=0;return}this.i=wF};_.uc=function Ls(){var a,b,c;if(!this.c||this.c.a.length==0){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}c=wd(qz(this.c,0),21);a=c.c-this.g.Bb;b=c.d-this.g.Cb;Er(this.g,a,b)};var xf=Kw(80);Gi(38,12,{12:1,38:1,6:1},Ms);_.tc=function Ns(){if(Kr(this.g)){this.i=9.999999747378752E-5;return}if(this.g.vb){this.i=0;return}if(this.g.$==this.g.kb&&this.g.ib==this.g.lb){this.i=0;return}this.g.$<(this.g.kb*3/4|0)||this.g.ib<(this.g.lb*3/4|0)?(this.i=GE):(this.i=0.15000000596046448)};_.uc=function Os(){Er(this.g,0,0)};var yf=Kw(38);Gi(79,12,{12:1,79:1,6:1},Ps);_.tc=function Qs(){if(this.g.sb>=Bk){this.i=Infinity;return}this.i=0;return};_.uc=function Rs(){if(this.g.sb<Bk){Er(this.g,om(this.g.k,-1,1),om(this.g.k,-1,1));return}this.g.$=-1;this.g.T=true};var zf=Kw(79);Gi(118,12,uF,Ss);_.tc=function Ts(){var a,b,c,d,e,f,g,h;if(xj(this.g.c,(Xm(),Um)).a==0){this.i=0;return}this.a=ur(this.g);if(!this.a){this.i=0;return}if(!_n(this.g,this.a.a,this.a.b)){this.i=0;return}g=ip(this.g.k.i,this.a.a,this.a.b);d=this.g.$-g.$;if(d>10){this.i=0;return}h=this.g.$>g.$;c=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(h&&c>nl){this.i=0;return}e=this.g.$<=this.g.kb*ol;if(!e){this.i=0;return}f=1;h||(f*=wF);b=g.kb>(this.g.kb*80/100|0);b&&(f*=cF);a=this.g.$<=(this.g.kb*3/10|0);a&&(f*=cF);hs(this,pl*f)};_.uc=function Us(){An((Xm(),Um),this.g)};var Af=Kw(118);Gi(117,12,uF,Vs);_.tc=function Ws(){var a,b,c;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(xj(this.g.c,(Xm(),Vm)).a==0){this.i=0;return}if($n(this.g,(il(),Sk))){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));c=this.g.$>(this.g.kb*75/100|0);b=this.g.j.r<2;if(c&&b){this.i=0;return}if(a>2){this.i=0;return}this.i=1.149999976158142};_.uc=function Xs(){mn((Xm(),Vm),this.g)};var Bf=Kw(117);Gi(116,12,uF,Ys);_.tc=function Zs(){var a,b,c,d;this.a=ur(this.g);if(xj(this.g.c,(Xm(),Tm)).a==0){this.i=0;return}if(!this.a){this.i=0;return}c=ip(this.g.k.i,this.a.a,this.a.b);a=this.g.$>this.g.kb*Il;d=this.g.$>c.$;b=this.g.j.r==1;if(a&&d&&b){this.i=0;return}if(this.g.$==this.g.kb){this.i=0;return}this.i=wF};_.uc=function $s(){en((Xm(),Tm),this.g)};var Cf=Kw(116);Gi(190,12,uF,_s);_.tc=function at(){if(xj(this.g.c,(Xm(),Wm)).a==0){this.i=0;return}if(this.g.w>100){this.i=0;return}if(this.g.r[0][0]){this.i=0;return}this.i=dF};_.uc=function bt(){tn((Xm(),Wm),this.g)};var Df=Kw(190);Gi(192,12,uF,ct);_.tc=function dt(){var a;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),ou))){this.i=0;return}if(Fr(this.g,ou)){this.i=0;return}if(!Ar(this.g,ou)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}this.i=xF};_.uc=function et(){Nr(this.g,(Hu(),ou))};var Ef=Kw(192);Gi(196,12,uF,ft);_.tc=function gt(){var a,b,c,d;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),qu))){this.i=0;return}if(Fr(this.g,qu)){this.i=0;return}if(!Ar(this.g,qu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>3){this.i=0;return}d=this.g.$>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.ib==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=xF};_.uc=function ht(){Nr(this.g,(Hu(),qu))};var Ff=Kw(196);Gi(122,12,uF,it);_.tc=function jt(){var a,b,c,d;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),su))){this.i=0;return}if(Fr(this.g,su)){this.i=0;return}if(!Ar(this.g,su)){this.i=0;return}d=ip(this.g.k.i,this.a.a,this.a.b);b=this.g.$<d.$*8/10;c=this.g.$>=d.$;if(c){a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>8){this.i=0;return}if(a<3){this.i=0;return}this.i=yF;return}if(b){a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}this.i=zF;return}this.i=0};_.uc=function kt(){Nr(this.g,(Hu(),su))};var Gf=Kw(122);Gi(193,12,uF,lt);_.tc=function mt(){var a;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),tu))){this.i=0;return}if(Fr(this.g,tu)){this.i=0;return}if(!Ar(this.g,tu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}this.i=xF};_.uc=function nt(){Nr(this.g,(Hu(),tu))};var Hf=Kw(193);Gi(123,12,uF,ot);_.tc=function pt(){var a,b,c;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),uu))){this.i=0;return}if(Fr(this.g,uu)){this.i=0;return}if(!Ar(this.g,uu)){this.i=0;return}c=ip(this.g.k.i,this.a.a,this.a.b);a=this.g.$<c.$*8/10;b=this.g.$>=c.$;if(b){this.i=1.5499999523162842;return}if(a){this.i=zF;return}this.i=yF};_.uc=function qt(){Nr(this.g,(Hu(),uu))};var If=Kw(123);Gi(126,12,uF,rt);_.tc=function st(){var a,b;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),vu))){this.i=0;return}if(Fr(this.g,vu)){this.i=0;return}if(!Ar(this.g,vu)){this.i=0;return}if($n(this.g,(il(),Vk))){this.i=0;return}b=this.g.$>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=wF};_.uc=function tt(){Nr(this.g,(Hu(),vu))};var Jf=Kw(126);Gi(195,12,uF,ut);_.tc=function vt(){var a,b;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),wu))){this.i=0;return}if(Fr(this.g,wu)){this.i=0;return}if(!Ar(this.g,wu)){this.i=0;return}if($n(this.g,(il(),Wk))){this.i=0;return}b=this.g.$>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=wF};_.uc=function wt(){Nr(this.g,(Hu(),wu))};var Kf=Kw(195);Gi(124,12,uF,xt);_.tc=function yt(){var a,b,c,d;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),xu))){this.i=0;return}if(Fr(this.g,xu)){this.i=0;return}if(!Ar(this.g,xu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>5){this.i=0;return}d=this.g.$>(this.g.kb*75/100|0);if(d&&a>2){this.i=0;return}b=this.g.j.r<2;c=this.g.ib==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=xF};_.uc=function zt(){Nr(this.g,(Hu(),xu))};var Lf=Kw(124);Gi(125,12,uF,At);_.tc=function Bt(){var a,b;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),yu))){this.i=0;return}if(Fr(this.g,yu)){this.i=0;return}if(!Ar(this.g,yu)){this.i=0;return}if($n(this.g,(il(),Yk))){this.i=0;return}b=this.g.$>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=wF};_.uc=function Ct(){Nr(this.g,(Hu(),yu))};var Mf=Kw(125);Gi(121,12,uF,Dt);_.tc=function Et(){var a,b,c,d;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),zu))){this.i=0;return}if(Fr(this.g,zu)){this.i=0;return}if(!Ar(this.g,zu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>5){this.i=0;return}d=this.g.$>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.ib==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=xF};_.uc=function Ft(){Nr(this.g,(Hu(),zu))};var Nf=Kw(121);Gi(194,12,uF,Gt);_.tc=function Ht(){var a,b,c,d;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),Bu))){this.i=0;return}if(Fr(this.g,Bu)){this.i=0;return}if(!Ar(this.g,Bu)){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>5){this.i=0;return}d=this.g.$>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.ib==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=xF};_.uc=function It(){Nr(this.g,(Hu(),Bu))};var Of=Kw(194);Gi(119,12,uF,Jt);_.tc=function Kt(){var a,b;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),Du))){this.i=0;return}if(Fr(this.g,Du)){this.i=0;return}if(!Ar(this.g,Du)){this.i=0;return}if($n(this.g,(il(),bl))){this.i=0;return}b=this.g.$>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=wF};_.uc=function Lt(){Nr(this.g,(Hu(),Du))};var Pf=Kw(119);Gi(191,12,uF,Mt);_.tc=function Nt(){var a,b,c,d;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),Fu))){this.i=0;return}if(Fr(this.g,Fu)){this.i=0;return}if(!Ar(this.g,Fu)){this.i=0;return}if($n(this.g,(il(),el))){this.i=0;return}a=$wnd.Math.max($wnd.Math.abs(this.g.Bb-this.a.a),$wnd.Math.abs(this.g.Cb-this.a.b));if(a>2){this.i=0;return}d=this.g.$>(this.g.kb*75/100|0);b=this.g.j.r<2;c=this.g.ib==this.g.lb;if(d&&b&&!c){this.i=0;return}this.i=xF};_.uc=function Ot(){Nr(this.g,(Hu(),Fu))};var Qf=Kw(191);Gi(120,12,uF,Pt);_.tc=function Qt(){var a,b;this.a=ur(this.g);if(!this.a){this.i=0;return}if(this.g.j.r==0){this.i=0;return}if(!Cr(this.g,(Hu(),Gu))){this.i=0;return}if(Fr(this.g,Gu)){this.i=0;return}if(!Ar(this.g,Gu)){this.i=0;return}if($n(this.g,(il(),gl))){this.i=0;return}b=this.g.$>(this.g.kb*75/100|0);a=this.g.j.r<2;if(b&&a){this.i=0;return}this.i=wF};_.uc=function Rt(){Nr(this.g,(Hu(),Gu))};var Rf=Kw(120);Gi(28,1,AF);_.vc=function Wt(a){throw qi(new Gx('Add not supported on this collection'))};_.wc=function Xt(a){return Tt(this,a)};_.yc=function Yt(){return this.zc(Kc(Sg,QE,1,this.Rb(),5,1))};_.zc=function Zt(a){var b,c,d;d=this.Rb();a.length<d&&(a=RD(new Array(d),a));c=this.xc();for(b=0;b<d;++b){Nc(a,b,c.Nc())}a.length>d&&Nc(a,d,null);return a};_.Gb=function $t(){return Vt(this)};var Zg=Kw(28);Gi(280,28,BF);_.Db=function _t(a){var b;if(a===this){return true}if(!Dd(a,48)){return false}b=wd(a,48);if(b.Rb()!=this.Rb()){return false}return Ut(this,b)};_.Fb=function au(){return _z(this)};var sh=Kw(280);Gi(127,280,BF,fu);_.vc=function gu(a){return bu(this,a)};_.xc=function hu(){return new Lz(this.b)};_.Rb=function iu(){return this.b.a.length};_.Gb=function ju(){return Vt(this.b)};var Tf=Kw(127);Gi(50,1,{50:1},mu);_.Gb=function nu(){return '#'+SD(this)+'('+this.d+SE+this.e+SE+this.f+SE+this.c+')'};_.a=false;_.c=0;_.d=0;_.e=0;_.f=0;var Uf=Kw(50);Gi(15,8,CF);_.a=0;_.b=0;_.c=false;var ou,pu,qu,ru,su,tu,uu,vu,wu,xu,yu,zu,Au,Bu,Cu,Du,Eu,Fu,Gu;var mg=Lw(15,Ju);Gi(225,15,CF,Ku);_.Ac=function Lu(a,b){lm(a.k,b.Bb,b.Cb,2,new Pi(a,Cu,12,new gk(128,128,128,128)))};var dg=Lw(225,null);Gi(234,15,CF,Mu);_.Ac=function Nu(a,b){Rn(a,(il(),Tk),10)};var Vf=Lw(234,null);Gi(235,15,CF,Ou);_.Ac=function Pu(a,b){Rn(a,(il(),el),23);lm(a.k,a.Bb,a.Cb,2,new Pi(a,Eu,35,new gk(255,150,100,64)))};var Wf=Lw(235,null);Gi(236,15,CF,Qu);_.Ac=function Ru(a,b){var c,d,e;rr(a,b,'lightning bolt',280);e=hm(a.k,b.Bb,b.Cb,4);rz(e,a);for(d=new Lz(e);d.a<d.c.a.length;){c=wd(Jz(d),35);Rn(c,(il(),Zk),2);Rn(c,cl,2)}};var Xf=Lw(236,null);Gi(237,15,CF,Su);_.Ac=function Tu(a,b){Rn(a,(il(),gl),8)};var Yf=Lw(237,null);Gi(238,15,CF,Uu);_.Ac=function Vu(a,b){if($n(b,(il(),el))){b.bc('The sand caresses you.',new fk(255,150,100));return}b.lc(95,a,'sand storm',1,false);Rn(b,dl,2)};var Zf=Lw(238,null);Gi(239,15,CF,Wu);_.Ac=function Xu(a,b){};var $f=Lw(239,null);Gi(240,15,CF,Yu);_.Ac=function Zu(a,b){if(b==a){return}rr(a,b,'batter',95);Rn(b,(il(),Zk),1)};var _f=Lw(240,null);Gi(241,15,CF,$u);_.Ac=function _u(a,b){Rn(a,(il(),Vk),12)};var ag=Lw(241,null);Gi(242,15,CF,av);_.Ac=function bv(a,b){Rn(a,(il(),hl),4);lm(a.k,b.Bb,b.Cb,2,new Pi(a,ru,4,new gk(64,64,192,128)))};var bg=Lw(242,null);Gi(243,15,CF,cv);_.Ac=function dv(a,b){if(a==b){return}rr(a,b,'black hole',200);Rn(b,(il(),hl),1)};var cg=Lw(243,null);Gi(226,15,CF,ev);_.Ac=function fv(a,b){if(a==b){return}if(b.sb%2==0){rr(a,b,'pit of malice stun',20);Rn(b,(il(),hl),1)}};var eg=Lw(226,null);Gi(227,15,CF,gv);_.Ac=function hv(a,b){var c,d,e,f,g,h;f=lk(a.j,b.Bb,b.Cb);c=wd(oz(f,$wnd.Math.max(f.a.length-4,0)),21);h=jm(a.k,c.c,c.d,1);(!h||h.a.length<3)&&(h=jm(a.k,c.c,c.d,2));if(!h||h.a.length==0){return}if(h.a.length!=0){g=wd(qz(h,0),18);Er(a,g.a-a.Bb,g.b-a.Cb)}d=qr(a);e=qr(a);d.p+=' (dopple1)';e.p+=' (dopple2)';d.wb=a.wb;e.wb=a.wb;if(h.a.length!=0){g=wd(qz(h,0),18);ep(a.k.i,d,g.a,g.b)}if(h.a.length!=0){g=wd(qz(h,0),18);ep(a.k.i,e,g.a,g.b)}};var fg=Lw(227,null);Gi(228,15,CF,iv);_.Ac=function jv(a,b){Rn(a,(il(),bl),8)};var gg=Lw(228,null);Gi(229,15,CF,kv);_.Ac=function lv(a,b){Rn(a,(il(),Wk),20)};var hg=Lw(229,null);Gi(230,15,CF,mv);_.Ac=function nv(a,b){Rn(a,(il(),Yk),7)};var ig=Lw(230,null);Gi(231,15,CF,ov);_.Ac=function pv(a,b){Rn(a,(il(),Rk),11)};var jg=Lw(231,null);Gi(232,15,CF,qv);_.Ac=function rv(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;e=$wnd.Math.atan2(b.Cb-a.Cb,b.Bb-a.Bb);p=hm(a.k,a.Bb,a.Cb,4);m=new xz;for(o=new Lz(p);o.a<o.c.a.length;){n=wd(Jz(o),35);if(n==a){continue}d=$wnd.Math.atan2(b.Cb-a.Cb,b.Bb-a.Bb);c=$wnd.Math.abs(d-e);c>DF&&(c=EF-c);c<FF&&(Nc(m.a,m.a.length,n),true)}for(l=new Lz(m);l.a<l.c.a.length;){k=wd(Jz(l),35);Rn(k,(il(),fl),8);h=Kd(px(k.Bb-a.Bb));i=Kd(px(k.Cb-a.Cb));k.kc(h,i);k.kc(h,i);k.kc(h,i);Rn(k,hl,8)}j=new Pi(a,Au,1,new gk(128,128,255,64));for(g=-6;g<=6;g++){for(i=-6;i<=6;i++){q=a.Bb+g;r=a.Cb+i;if(q<0||r<0||q>=100||r>=50){continue}if(a.k.u[q][r]){continue}f=$wnd.Math.atan2(r-a.Cb,q-a.Bb);c=$wnd.Math.abs(f-e);c>DF&&(c=EF-c);c<FF&&mz(a.k.b[q][r],new Pi(j.a,j.d,j.c,j.b))}}};var kg=Lw(232,null);Gi(233,15,CF,sv);_.Ac=function tv(a,b){var c,d,e,f,g;e=$wnd.Math.max($wnd.Math.abs(a.Bb-b.Bb),$wnd.Math.abs(a.Cb-b.Cb));if(e>2){f=lk(a.j,b.Bb,b.Cb);c=(YD(1,f.a.length),wd(f.a[1],21));Er(a,c.c-a.Bb,c.d-a.Cb)}else{g=new qk(a.k,b.Bb,b.Cb,null);d=em(new Vz(Oc(Gc(ae,1),QE,27,0,[a.j,g])),a.Bb,a.Cb);Er(a,d.a-a.Bb,d.b-a.Cb)}};var lg=Lw(233,null);Gi(220,1,{},vv);var uv;var ng=Kw(220);Gi(58,1,{58:1},xv);var tg=Kw(58);Gi(44,8,GF);_.b=0;var yv,zv,Av,Bv;var sg=Lw(44,Ev);Gi(185,44,GF,Fv);_.Bc=function Gv(a,b){gp(b.k.i);Vl(b.k);Ir(b);lr(b,'Went downstairs.',(Yj(),Wj))};var og=Lw(185,null);Gi(186,44,GF,Hv);_.Bc=function Iv(a,b){};var pg=Lw(186,null);Gi(187,44,GF,Jv);_.Bc=function Kv(a,b){};var qg=Lw(187,null);Gi(188,44,GF,Lv);_.Bc=function Mv(a,b){};var rg=Lw(188,null);Gi(57,1,{57:1},Ov);var vg=Kw(57);Gi(93,8,{93:1,3:1,6:1,8:1},Rv);_.b=0;var Pv;var ug=Lw(93,Sv);Gi(156,1,{},Xv);var wg=Kw(156);Gi(133,1,{},dw);var zg=Kw(133);Gi(302,$wnd.Function,{},ew);_.Mb=function fw(a){Yv(this.a)};Gi(151,1,{},gw);_.handleEvent=function hw(a){Zv(this.a,a)};var xg=Kw(151);Gi(152,1,{},iw);_.handleEvent=function jw(a){_v(this.a)};var yg=Kw(152);Gi(102,1,{135:1});_.Gb=function lw(){return this.a};var Ag=Kw(102);Gi(154,13,wE,mw);var Bg=Kw(154);Gi(55,13,wE,nw);var Ng=Kw(55);Gi(250,55,wE,ow);var Cg=Kw(250);Gi(153,13,wE,pw);var Dg=Kw(153);sd={3:1,136:1,6:1};var Eg=Kw(136);Gi(49,1,{3:1,49:1,6:1},vw);_.Ub=function ww(a){return uw(this,wd(a,49))};_.Db=function xw(a){return Dd(a,49)&&wd(a,49).a==this.a};_.Fb=function yw(){return this.a};_.Gb=function zw(){return String.fromCharCode(this.a)};_.a=0;var Fg=Kw(49);var Bw;Gi(138,13,wE,Yw);var Gg=Kw(138);Gi(85,1,{3:1,85:1});var Rg=Kw(85);td={3:1,6:1,137:1,85:1};var Ig=Kw(137);Gi(77,13,wE,_w,ax);var Lg=Kw(77);Gi(87,13,wE,bx,cx);var Mg=Kw(87);Gi(37,85,{3:1,6:1,37:1,85:1},ex);_.Ub=function gx(a){return dx(this,wd(a,37))};_.Db=function hx(a){return Dd(a,37)&&wd(a,37).a==this.a};_.Fb=function ix(){return this.a};_.Gb=function lx(){return ''+this.a};_.a=0;var Og=Kw(37);var nx;Gi(318,1,{});Gi(106,86,wE,qx);_.Hb=function rx(a){return new TypeError(a)};var Qg=Kw(106);ud={3:1,135:1,6:1,2:1};var Wg=Kw(2);Gi(103,102,{135:1},Cx,Dx);var Ug=Kw(103);Gi(105,55,wE,Ex);var Vg=Kw(105);Gi(322,1,{});Gi(76,13,wE,Fx,Gx);var Yg=Kw(76);Gi(90,279,{61:1});_.Hc=function Qx(){Ox(this)};_.Ob=function Rx(a){return Hx(this,a)};_.Pb=function Sx(){return new Yx(this)};_.Qb=function Tx(a){return Ix(this,a)};_.Kc=function Ux(a,b){return Lx(this,a,b)};_.Lc=function Vx(a){return Nx(this,a)};_.Rb=function Wx(){return Px(this)};var ah=Kw(90);Gi(164,280,BF,Yx);_.wc=function Zx(a){return Xx(this,a)};_.xc=function $x(){return new by(this.a)};_.Rb=function _x(){return this.a.Rb()};var _g=Kw(164);Gi(165,1,{},by);_.Nc=function dy(){var a;return kA(this.e,this),XD(this.b),this.c=this.a,a=wd(this.a.Nc(),19),this.b=ay(this),a};_.Mc=function cy(){return this.b};_.Oc=function ey(){aE(!!this.c);kA(this.e,this);this.c.Oc();this.c=null;this.b=ay(this);lA(this.e,this)};_.b=false;var $g=Kw(165);Gi(62,28,HF);_.Pc=function gy(a,b){throw qi(new Gx('Add not supported on this list'))};_.vc=function hy(a){this.Pc(this.Rb(),a);return true};_.Db=function iy(a){var b,c,d,e,f;if(a===this){return true}if(!Dd(a,33)){return false}f=wd(a,33);if(this.Rb()!=f.Rb()){return false}e=f.xc();for(c=this.xc();c.Mc();){b=c.Nc();d=e.Nc();if(!(Jd(b)===Jd(d)||b!=null&&Gb(b,d))){return false}}return true};_.Fb=function jy(){return aA(this)};_.xc=function ky(){return new qy(this)};_.Rc=function ly(a){return new uy(this,a)};_.Sc=function my(a){throw qi(new Gx('Remove not supported on this list'))};var fh=Kw(62);Gi(68,1,{},qy);_.Mc=function ry(){return ny(this)};_.Nc=function sy(){return oy(this)};_.Oc=function ty(){py(this)};_.b=0;_.c=-1;var bh=Kw(68);Gi(107,68,{},uy);_.Oc=function wy(){py(this)};_.Tc=function vy(a){this.a.Pc(this.b,a);++this.b;this.c=-1};var dh=Kw(107);Gi(155,62,HF,xy);_.Pc=function yy(a,b){$D(a,this.b);lz(this.c,this.a+a,b);++this.b};_.Qc=function zy(a){YD(a,this.b);return oz(this.c,this.a+a)};_.Sc=function Ay(a){var b;YD(a,this.b);b=qz(this.c,this.a+a);--this.b;return b};_.Rb=function By(){return this.b};_.a=0;_.b=0;var eh=Kw(155);Gi(41,280,BF,Cy);_.wc=function Dy(a){return this.a.Ob(a)};_.xc=function Ey(){var a;return a=this.a.Pb().xc(),new Gy(a)};_.Rb=function Fy(){return this.a.Rb()};var hh=Kw(41);Gi(39,1,{},Gy);_.Mc=function Hy(){return this.a.Mc()};_.Nc=function Iy(){var a;return a=wd(this.a.Nc(),19),a.Uc()};_.Oc=function Jy(){this.a.Oc()};var gh=Kw(39);Gi(69,1,{69:1,19:1});_.Db=function Ly(a){var b;if(!Dd(a,19)){return false}b=wd(a,19);return WB(this.d,b.Uc())&&WB(this.e,b.Vc())};_.Uc=function My(){return this.d};_.Vc=function Ny(){return this.e};_.Fb=function Oy(){return XB(this.d)^XB(this.e)};_.Wc=function Py(a){return Ky(this,a)};_.Gb=function Qy(){return this.d+'='+this.e};var ih=Kw(69);Gi(63,69,{69:1,63:1,19:1},Ry);var jh=Kw(63);Gi(282,1,{19:1});_.Db=function Sy(a){var b;if(!Dd(a,19)){return false}b=wd(a,19);return WB(this.b.value[0],b.Uc())&&WB(cB(this),b.Vc())};_.Fb=function Ty(){return XB(this.b.value[0])^XB(cB(this))};_.Gb=function Uy(){return this.b.value[0]+'='+cB(this)};var kh=Kw(282);Gi(110,280,BF,Vy);_.wc=function Wy(a){return Dd(a,19)&&_i(this.a,wd(a,19))};_.xc=function Xy(){return this.a.Sb()};_.Rb=function Yy(){return this.a.Rb()};var mh=Kw(110);Gi(112,280,BF,Zy);_.wc=function $y(a){return aj(this.a,a)};_.xc=function _y(){var a;return a=(new QC(this.a)).a.Sb(),new bz(a)};_.Rb=function az(){return this.a.c};var oh=Kw(112);Gi(113,1,{},bz);_.Mc=function cz(){return ny(this.a.a)};_.Nc=function dz(){var a;return a=JC(this.a),a.Uc()};_.Oc=function ez(){KC(this.a)};var nh=Kw(113);Gi(283,28,AF);_.vc=function fz(a){return bE(ZB(this,a)),true};var qh=Kw(283);Gi(284,62,HF);_.Pc=function gz(a,b){var c;c=this.Rc(a);c.Tc(b)};_.Qc=function hz(b){var c;c=this.Rc(b);try{return c.Nc()}catch(a){a=pi(a);if(Dd(a,82)){throw qi(new nw("Can't get element "+b))}else throw qi(a)}};_.xc=function iz(){return IB(this,0)};_.Sc=function jz(b){var c,d;c=this.Rc(b);try{d=c.Nc();c.Oc();return d}catch(a){a=pi(a);if(Dd(a,82)){throw qi(new nw("Can't remove element "+b))}else throw qi(a)}};var rh=Kw(284);Gi(14,62,{3:1,4:1,29:1,28:1,62:1,14:1,31:1,33:1,291:1},xz,yz,zz);_.Pc=function Az(a,b){lz(this,a,b)};_.vc=function Bz(a){return mz(this,a)};_.wc=function Cz(a){return pz(this,a,0)!=-1};_.Qc=function Dz(a){return oz(this,a)};_.xc=function Ez(){return new Lz(this)};_.Sc=function Fz(a){return qz(this,a)};_.Rb=function Gz(){return this.a.length};_.yc=function Hz(){return vz(this)};_.zc=function Iz(a){return wz(this,a)};var uh=Kw(14);Gi(22,1,{},Lz);_.Mc=function Mz(){return this.a<this.c.a.length};_.Nc=function Nz(){return Jz(this)};_.Oc=function Oz(){Kz(this)};_.a=0;_.b=-1;var th=Kw(22);Gi(20,62,{3:1,29:1,28:1,62:1,31:1,33:1,291:1},Vz);_.wc=function Wz(a){return fy(this,a)!=-1};_.Qc=function Xz(a){return YD(a,this.a.length),this.a[a]};_.Rb=function Yz(){return this.a.length};_.yc=function Zz(){return Uz(this,Kc(Sg,QE,1,this.a.length,5,1))};_.zc=function $z(a){return Uz(this,a)};var vh=Kw(20);var dA;Gi(249,1,{3:1},hA);_.Wb=function iA(a,b){return gA(a,b)};_.Db=function jA(a){return this===a};var wh=Kw(249);Gi(261,13,wE,nA);var xh=Kw(261);Gi(51,90,IF,oA,pA);_.Ic=function qA(a,b){return Jd(a)===Jd(b)||a!=null&&Gb(a,b)};_.Jc=function rA(a){var b;b=Kb(a);return b|0};var yh=Kw(51);Gi(45,280,JF,uA,vA);_.vc=function xA(a){return sA(this,a)};_.wc=function yA(a){return tA(this,a)};_.xc=function zA(){var a;return a=(new Cy(this.a)).a.Pb().xc(),new Gy(a)};_.Rb=function AA(){return this.a.Rb()};var zh=Kw(45);Gi(222,1,{29:1},GA);_.xc=function HA(){return new IA(this)};_.c=0;var Bh=Kw(222);Gi(128,1,{},IA);_.Nc=function KA(){return this.d=this.a[this.c++],this.d};_.Mc=function JA(){var a;if(this.c<this.a.length){return true}a=this.b.next();if(!a.done){this.a=a.value[1];this.c=0;return true}return false};_.Oc=function LA(){FA(this.e,this.d.Uc());this.c!=0&&--this.c};_.c=0;_.d=null;var Ah=Kw(128);var OA;Gi(223,1,{29:1},YA);_.xc=function ZA(){return new $A(this)};_.c=0;_.d=0;var Eh=Kw(223);Gi(129,1,{},$A);_.Nc=function aB(){return this.c=this.a,this.a=this.b.next(),new dB(this.d,this.c,this.d.d)};_.Mc=function _A(){return !this.a.done};_.Oc=function bB(){XA(this.d,this.c.value[0])};var Ch=Kw(129);Gi(224,282,{19:1},dB);_.Uc=function eB(){return this.b.value[0]};_.Vc=function fB(){return cB(this)};_.Wc=function gB(a){return WA(this.a,this.b.value[0],a)};_.c=0;var Dh=Kw(224);Gi(244,51,IF,kB);_.Hc=function lB(){Ox(this.c);this.b.b=this.b;this.b.a=this.b};_.Ob=function mB(a){return Hx(this.c,a)};_.Pb=function nB(){return new xB(this)};_.Qb=function oB(a){var b;b=wd(Ix(this.c,a),60);if(b){iB(this,b);return b.e}return null};_.Kc=function pB(a,b){var c,d,e;d=wd(Ix(this.c,a),60);if(!d){c=new vB(this,a,b);Lx(this.c,a,c);sB(c);return null}else{e=Ky(d,b);iB(this,d);return e}};_.Lc=function qB(a){return jB(this,a)};_.Rb=function rB(){return Px(this.c)};_.a=false;var Ih=Kw(244);Gi(60,63,{69:1,63:1,60:1,19:1},uB,vB);var Fh=Kw(60);Gi(245,280,BF,xB);_.wc=function yB(a){return wB(this,a)};_.xc=function zB(){return new BB(this)};_.Rb=function AB(){return Px(this.a.c)};var Hh=Kw(245);Gi(246,1,{},BB);_.Nc=function DB(){return kA(this.c.a.c,this),XD(this.b!=this.c.a.b),this.a=this.b,this.b=this.b.a,this.a};_.Mc=function CB(){return this.b!=this.c.a.b};_.Oc=function EB(){aE(!!this.a);kA(this.c.a.c,this);tB(this.a);Nx(this.c.a.c,this.a.d);lA(this.c.a.c,this);this.a=null};var Gh=Kw(246);Gi(114,45,JF,FB);var Jh=Kw(114);Gi(130,284,{3:1,4:1,29:1,28:1,62:1,31:1,33:1},KB);_.vc=function LB(a){return GB(this,a)};_.Rc=function MB(a){return IB(this,a)};_.Rb=function NB(){return this.b};_.b=0;var Mh=Kw(130);Gi(251,1,{},PB);_.Tc=function QB(a){HB(this.d,a,this.b.b,this.b);++this.a;this.c=null};_.Mc=function RB(){return this.b!=this.d.c};_.Nc=function SB(){return OB(this)};_.Oc=function TB(){var a;aE(!!this.c);a=this.c.a;JB(this.d,this.c);this.b==this.c?(this.b=a):--this.a;this.c=null};_.a=0;_.c=null;var Kh=Kw(251);Gi(96,1,{},UB);var Lh=Kw(96);Gi(82,13,{3:1,24:1,13:1,17:1,82:1},VB);var Nh=Kw(82);Gi(95,283,AF,aC);_.wc=function bC(a){return (a==null?-1:pz(this.b,a,0))!=-1};_.xc=function cC(){return new gC(this)};_.Rb=function dC(){return this.b.a.length};_.yc=function eC(){return vz(this.b)};_.zc=function fC(a){return wz(this.b,a)};var Ph=Kw(95);Gi(248,1,{},gC);_.Mc=function hC(){return this.a<this.c.b.a.length};_.Nc=function iC(){XD(this.a<this.c.b.a.length);this.b=this.a++;return oz(this.c.b,this.b)};_.Oc=function jC(){aE(this.b!=-1);_B(this.c,this.a=this.b);this.b=-1};_.a=0;_.b=-1;var Oh=Kw(248);Gi(157,1,{},uC);_.a=false;_.b=0;_.c=0;_.d=0;var kC,lC,mC=0;var Qh=Kw(157);Gi(253,1,{});_.Zc=function yC(a){vC(this,a)};_.Xc=function wC(){return this.d};_.Yc=function xC(){return this.e};_.d=0;_.e=0;var Sh=Kw(253);Gi(254,253,{});var Rh=Kw(254);Gi(92,1,{},BC);_.Xc=function CC(){return this.a};_.Yc=function DC(){AC(this);return this.c};_.Zc=function EC(a){AC(this);hB(this.d,a)};_.$c=function FC(a){ZD(a);AC(this);if(ny(this.d)){a.bd(oy(this.d));return true}return false};_.a=0;_.c=0;var Th=Kw(92);Gi(104,1,{},HC);_.Gb=function IC(){return !this.a?this.c:this.e.length==0?this.a.a:this.a.a+(''+this.e)};var Uh=Kw(104);Gi(109,1,{},LC);_.Nc=function OC(){return JC(this)};_.Mc=function NC(){return ny(this.a)};_.Oc=function PC(){KC(this)};var Vh=Kw(109);Gi(91,110,BF,QC);var Wh=Kw(91);Gi(64,63,{69:1,63:1,19:1,64:1},RC);_.b=false;var Xh=Kw(64);Gi(111,1,{},SC);_.Gb=function TC(){return 'State: mv='+this.c+' value='+this.d+' done='+this.a+' found='+this.b};_.a=false;_.b=false;_.c=false;var Yh=Kw(111);Gi(52,8,RF,ZC);_._c=function $C(){return false};_.ad=function _C(){return false};var UC,VC,WC,XC;var ai=Lw(52,aD);Gi(167,52,RF,bD);_.ad=function cD(){return true};var Zh=Lw(167,null);Gi(168,52,RF,dD);_._c=function eD(){return true};_.ad=function fD(){return true};var $h=Lw(168,null);Gi(169,52,RF,gD);_._c=function hD(){return true};var _h=Lw(169,null);Gi(53,8,{3:1,6:1,8:1,53:1},nD);var jD,kD,lD;var ci=Lw(53,oD);Gi(260,1,{},pD);var di=Kw(260);Gi(97,1,{},qD);var ei=Kw(97);Gi(99,1,{},rD);var fi=Kw(99);Gi(98,1,{},sD);var gi=Kw(98);Gi(252,1,{});_.c=false;var mi=Kw(252);Gi(65,252,{65:1},yD);var li=Kw(65);Gi(255,254,{},CD);_.$c=function DD(a){this.b=false;while(!this.b&&this.c.$c(new ED(this,a)));return this.b};_.b=false;var ii=Kw(255);Gi(257,1,{},ED);_.bd=function FD(a){BD(this.a,this.b,a)};var hi=Kw(257);Gi(256,1,{},HD);_.bd=function ID(a){GD(this,a)};var ji=Kw(256);Gi(258,1,{},KD);_.bd=function LD(a){JD(this,a)};var ki=Kw(258);Gi(320,1,{});Gi(317,1,{});var gE=0;var iE,jE=0,kE;Gi(734,1,{});var Nd=Mw('I');var ni=Mw('Z');var Ld=Mw('C');var Md=Mw('D');var pE=(gc(),jc);var gwtOnLoad=gwtOnLoad=Ci;Ai(Mi);Di('permProps',[[]]);if (foo_Game) foo_Game.onScriptLoad(gwtOnLoad);})();
