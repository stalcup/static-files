var g,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={ia:!0},ea={};try{ea.__proto__=da;ca=ea.ia;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function l(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}var ha=this||self;function ia(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function ja(a){return ia(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++ka}}})}var ka=1E3;function m(){}m.prototype.B=function(a){return n(this,a)};m.prototype.v=function(){return la(this)};m.prototype.toString=function(){return p(ma(na(this.constructor)))+"@"+p((this.v()>>>0).toString(16))};function oa(){}l(oa,m);oa.prototype.c=function(a){this.a=a;if(a instanceof Object)try{a.ma=this}catch(b){}};function pa(a){a.a instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(a.a):a.a.stack=Error().stack)}oa.prototype.toString=function(){var a=ma(na(this.constructor)),b=this.b;return null==b?a:p(a)+": "+p(b)};function qa(){}l(qa,oa);function ra(){}l(ra,qa);function sa(){}l(sa,ra);function ta(){}l(ta,sa);function n(a,b){return Object.is(a,b)||null==a&&null==b};function la(a){return a.Z||(Object.defineProperties(a,{Z:{value:++ua,enumerable:!1}}),a.Z)}var ua=0;var va;function wa(){wa=function(){};va=xa([256],q,ya,q.a)};function r(a){return Math.max(Math.min(a,2147483647),-2147483648)|0};function za(){}l(za,m);function q(){this.G=0}l(q,za);function Aa(a){if(-129<a&&128>a){var b=a+128|0,c=(wa(),va)[b];c||(c=va[b]=Ba(a));return c}return Ba(a)}function Ba(a){var b=new q;b.G=a;return b}q.prototype.B=function(a){return ya(a)&&a.G==this.G};q.prototype.v=function(){return this.G};q.prototype.toString=function(){return""+this.G};function ya(a){return a instanceof q};function xa(a,b,c,d){return Ca(a,d,{S:b,ba:c,P:a.length})}function Ca(a,b,c){var d=a[0];if(null==d)return null;var e=[];c&&(e.O=c);if(1<a.length){a=a.slice(1);c=c&&{S:c.S,ba:c.ba,P:c.P-1};for(var f=0;f<d;f++)e[f]=Ca(a,b,c)}else if(void 0!==b)for(a=0;a<d;a++)e[a]=b;else e.length=d;return e};function Da(a){this.b=a}l(Da,m);Da.prototype.a=function(a,b){var c;return c=this.b,c(a,b)};function Ea(){}l(Ea,m);Ea.prototype.a=function(a,b){var c=typeof a;"number"==c?b=Fa(a,b):"boolean"==c?b=a==b?0:a?1:-1:"string"==c?b=a==b?0:a<b?-1:1:(a=a.G,b=b.G,b=a<b?-1:a>b?1:0);return b};var Ga;function Ha(){Ha=function(){};Ga=new Ea};function t(a,b){var c;!(c=n(a,b))&&(c=null!=a)&&(c=a.B?a.B(b):Object.is(a,b));return c}function u(a){return null!=a?Ia(a):0};function Ja(){this.h=this.f=0}l(Ja,m);Ja.prototype.b=function(){return this.f<this.i.a.length};Ja.prototype.a=function(){var a;this.b();this.h=(a=this.f,this.f=this.f+1|0,a);return this.i.a[this.h]};Ja.prototype.c=function(){this.i.N(this.f=this.h);this.h=-1};function Ka(a,b){a.O=b.O;return a};function La(){}l(La,m);g=La.prototype;g.add=function(){throw Ma("Add not supported on this collection").a;};g.V=function(a){var b=!1;for(a=a.g();a.b();){var c=a.a();b=!!(+b|+this.add(c))}};g.s=function(){for(var a=this.g();a.b();)a.a(),a.c()};g.u=function(a){return Na(this,a,!1)};g.L=function(){return 0==this.j()};g.H=function(a){Na(this,a,!0)};g.fa=function(a){for(var b=this.g();b.b();){var c=b.a();a.u(c)&&b.c()}};g.W=function(){return this.ea(Array(this.j()))};
g.ea=function(a){var b=this.j();a.length<b&&(a=Ka(Array(b),a));for(var c=a,d=this.g(),e=0;e<b;e=e+1|0){var f=d.a();c[e]=f}a.length>b&&(a[b]=null);return a};g.toString=function(){for(var a=Oa("[","]"),b=this.g();b.b();){var c=b.a();Pa(a,n(c,this)?"(this Collection)":p(c))}return a.toString()};function Na(a,b,c){for(a=a.g();a.b();){var d=a.a();if(t(b,d))return c&&a.c(),!0}return!1};function Qa(){}l(Qa,La);g=Qa.prototype;g.add=function(a){this.$(this.j(),a);return!0};g.$=function(){throw Ma("Add not supported on this list").a;};g.s=function(){this.ca(0,this.j())};g.B=function(a){if(n(a,this))return!0;if(null==a||!a.X||this.j()!=a.j())return!1;a=a.g();for(var b=this.g();b.b();){var c=b.a(),d=a.a();if(!t(c,d))return!1}return!0};g.v=function(){for(var a=1,b=this.g();b.b();){var c=b.a();a=Math.imul(31,a)+u(c)|0;a|=0}return a};
g.indexOf=function(a){for(var b=0,c=this.j();b<c;b=b+1|0)if(t(a,this.R(b)))return b;return-1};g.g=function(){var a=new w;a.i=this;a.f=0;a.h=-1;return a};g.lastIndexOf=function(a){for(var b=this.j()-1|0;-1<b;b=b-1|0)if(t(a,this.R(b)))return b;return-1};g.N=function(){throw Ma("Remove not supported on this list").a;};g.ga=function(){throw Ma("Set not supported on this list").a;};g.ca=function(a,b){var c=new Ra;c.i=this;c.h=-1;for(c.f=a;a<b;a=a+1|0)c.a(),c.c()};
g.U=function(a){var b=this.W();Sa(b,b.length,a);for(a=0;a<b.length;a=a+1|0)this.ga(a,b[a])};g.X=!0;function Ta(){}l(Ta,Qa);function Ua(){var a=new Ta;a.a=[];return a}g=Ta.prototype;g.add=function(a){this.a[this.a.length]=a;return!0};g.$=function(a,b){this.a.splice(a,0,b)};g.V=function(a){var b=a.W();if(0!=b.length){a=b;var c=this.a,d=this.a.length;b=b.length;var e=0;n(a,c)&&(a=a.slice(e,e+b|0),e=0);var f=e;for(e=e+b|0;f<e;){var k=Math.min(f+1E4|0,e);b=k-f|0;f=a.slice(f,k);f.splice(0,0,d,0);Array.prototype.splice.apply(c,f);f=k;d=d+b|0}}};g.s=function(){this.a=[]};g.u=function(a){return-1!=this.indexOf(a)};
g.R=function(a){return this.a[a]};g.indexOf=function(a){a:{for(var b=0;b<this.a.length;b=b+1|0)if(t(a,this.a[b])){a=b;break a}a=-1}return a};g.g=function(){var a=new Ja;a.i=this;a.f=0;a.h=-1;return a};g.L=function(){return 0==this.a.length};g.lastIndexOf=function(a){a:{for(var b=this.j()-1|0;0<=b;b=b-1|0)if(t(a,this.a[b])){a=b;break a}a=-1}return a};g.N=function(a){this.a.splice(a,1)};g.H=function(a){a=this.indexOf(a);-1!=a&&this.N(a)};g.ga=function(a,b){this.a[a]=b};g.j=function(){return this.a.length};
g.U=function(a){var b=this.a,c=this.a.length,d=b.length;if(0>c)throw d=new Va,d.b="fromIndex: 0 > toIndex: "+c,pa(d),d.c(Error(d)),d.a;if(c>d)throw a=new ta,a.b="fromIndex: 0, toIndex: "+c+", length: "+d,pa(a),a.c(Error(a)),a.a;Sa(b,c,a)};g.W=function(){var a=this.a;return Ka(a.slice(0,this.a.length),a)};g.ea=function(a){var b=this.a.length;a.length<b&&(a=Ka(Array(b),a));for(var c=0;c<b;c=c+1|0)a[c]=this.a[c];a.length>b&&(a[b]=null);return a};g.ca=function(a,b){this.a.splice(a,b-a|0)};g.X=!0;function x(){}l(x,La);x.prototype.B=function(a){if(n(a,this))return!0;if(null==a||!a.Y)return!1;if(a.j()!=this.j())a=!1;else a:{for(a=a.g();a.b();){var b=a.a();if(!this.u(b)){a=!1;break a}}a=!0}return a};x.prototype.v=function(){return Wa(this)};x.prototype.fa=function(a){if(this.j()<a.j())for(var b=this.g();b.b();){var c=b.a();a.u(c)&&b.c()}else for(a=a.g();a.b();)b=a.a(),this.H(b)};x.prototype.Y=!0;function Xa(){}l(Xa,m);Xa.prototype.b=function(){return this.f.b()};Xa.prototype.a=function(){return this.f.a().m()};Xa.prototype.c=function(){this.f.c()};function Ya(){}l(Ya,x);g=Ya.prototype;g.s=function(){this.a.I()};g.u=function(a){return this.a.F(a)};g.g=function(){var a=this.a.A().g(),b=new Xa;b.f=a;return b};g.H=function(a){this.a.F(a)&&this.a.J(a)};g.j=function(){return this.a.D()};function Za(){}l(Za,m);Za.prototype.b=function(){return this.f.b()};Za.prototype.a=function(){return this.f.a().o()};Za.prototype.c=function(){this.f.c()};function y(){}l(y,La);y.prototype.s=function(){this.a.I()};y.prototype.u=function(a){return this.a.aa(a)};y.prototype.g=function(){var a=this.a.A().g(),b=new Za;b.f=a;return b};y.prototype.j=function(){return this.a.D()};function $a(){}l($a,m);g=$a.prototype;g.m=function(){return this.b};g.o=function(){return this.a};g.da=function(a){var b=this.a;this.a=a;return b};g.B=function(a){return null!=a&&a.K?t(this.b,a.m())&&t(this.a,a.o()):!1};g.v=function(){return u(this.b)^u(this.a)};g.toString=function(){return p(this.b)+"="+p(this.a)};g.K=!0;function ab(){}l(ab,$a);function bb(a,b){var c=new ab;c.b=a;c.a=b;return c};function cb(){}l(cb,m);cb.prototype.toString=function(){return this.a};function db(){}l(db,cb);function eb(){}l(eb,m);function Oa(a,b){var c=new eb;c.f=", ".toString();c.c=a.toString();c.b=b.toString();c.h=p(c.c)+p(c.b);return c}function Pa(a,b){if(a.a){var c=a.a,d=a.f;c.a=p(c.a)+p(d)}else c=new db,c.a=a.c,a.a=c;a=a.a;a.a=p(a.a)+p(b)}eb.prototype.toString=function(){var a;this.a?a=0==this.b.length?this.a.toString():p(this.a.toString())+p(this.b):a=this.h;return a};function fb(){}l(fb,m);g=fb.prototype;g.I=function(){this.A().s()};g.F=function(a){return!!hb(this,a,!1)};g.aa=function(a){for(var b=this.A().g();b.b();){var c=b.a().o();if(t(a,c))return!0}return!1};function ib(a,b){var c=b.m();b=b.o();var d=a.get(c);return!t(b,d)||null==d&&!a.F(c)?!1:!0}g.B=function(a){if(n(a,this))return!0;if(null==a||!a.ha||this.D()!=a.D())return!1;for(a=a.A().g();a.b();){var b=a.a();if(!ib(this,b))return!1}return!0};g.get=function(a){return jb(hb(this,a,!1))};g.v=function(){return Wa(this.A())};
g.ja=function(){var a=new Ya;a.a=this;return a};g.M=function(){throw Ma("Put not supported on this map").a;};g.J=function(a){jb(hb(this,a,!0))};g.D=function(){return this.A().j()};g.toString=function(){for(var a=Oa("{","}"),b=this.A().g();b.b();){var c=b.a();c=p(kb(this,c.m()))+"="+p(kb(this,c.o()));Pa(a,c)}return a.toString()};function kb(a,b){return n(b,a)?"(this Map)":p(b)}g.values=function(){var a=new y;a.a=this;return a};function jb(a){return a?a.o():null}
function hb(a,b,c){for(a=a.A().g();a.b();){var d=a.a();if(t(b,d.m()))return c&&(d=bb(d.m(),d.o()),a.c()),d}return null}g.ha=!0;function lb(){this.h=!1}l(lb,m);lb.prototype.b=function(){return this.h};function mb(a){if(a.f.b())return!0;if(!n(a.f,a.C))return!1;a.f=a.i.a.g();return a.f.b()}lb.prototype.a=function(){this.b();this.l=this.f;var a=this.f.a();this.h=mb(this);return a};lb.prototype.c=function(){this.l.c();this.l=null;this.h=mb(this)};function nb(){}l(nb,x);g=nb.prototype;g.s=function(){this.a.I()};g.u=function(a){return null!=a&&a.K?ib(this.a,a):!1};g.g=function(){var a=new lb;a.i=this.a;a.C=a.i.b.g();a.f=a.C;a.h=mb(a);return a};g.H=function(a){this.u(a)&&this.a.J(a.m())};g.j=function(){return this.a.D()};function ob(){this.f=0}l(ob,m);ob.prototype.b=function(){if(this.f<this.h.length)return!0;var a=this.C.next();return a.done?!1:(this.h=a.value[1],this.f=0,!0)};ob.prototype.a=function(){var a;return this.i=this.h[a=this.f,this.f=this.f+1|0,a]};ob.prototype.c=function(){pb(this.l,this.i.m());0!=this.f&&(this.f=this.f-1|0)};function qb(){this.a=0}l(qb,m);function rb(a,b,c){var d=z(b),e=A(a,d);if(0==e.length)a.b.set(d,e);else if(d=sb(b,e))return d.da(c);e[e.length]=bb(b,c);a.a=a.a+1|0;return null}function pb(a,b){for(var c=z(b),d=A(a,c),e=0;e<d.length;e=e+1|0){var f=d[e];if(t(b,f.m())){1==d.length?(d.length=0,b=a.b,b["delete"].call(b,c)):d.splice(e,1);a.a=a.a-1|0;f.o();break}}}function sb(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(t(a,d.m()))return d}return null}
qb.prototype.g=function(){var a=new ob;a.l=this;a.C=a.l.b.entries();a.f=0;a.h=[];a.i=null;return a};function A(a,b){return(a=a.b.get(b))?a:[]}function z(a){var b;null==a?b=0:b=Ia(a)|0;return b};function tb(){}l(tb,m);tb.prototype.b=function(){return!this.h.done};tb.prototype.a=function(){this.l=this.h;this.h=this.i.next();var a=new ub,b=this.l,c=this.f.b;a.b=this.f;a.a=b;a.c=c;return a};tb.prototype.c=function(){vb(this.f,this.l.value[0])};function C(){}l(C,m);C.prototype.B=function(a){return null!=a&&a.K?t(this.m(),a.m())&&t(this.o(),a.o()):!1};C.prototype.v=function(){return u(this.m())^u(this.o())};C.prototype.toString=function(){return p(this.m())+"="+p(this.o())};C.prototype.K=!0;function ub(){this.c=0}l(ub,C);ub.prototype.m=function(){return this.a.value[0]};ub.prototype.o=function(){return this.b.b!=this.c?this.b.a.get(this.a.value[0]):this.a.value[1]};ub.prototype.da=function(a){return wb(this.b,this.a.value[0],a)};function xb(){this.b=this.c=0}l(xb,m);function wb(a,b,c){var d=a.a.get(b);a.a.set(b,void 0===c?null:c);void 0===d?a.c=a.c+1|0:a.b=a.b+1|0;return d}function vb(a,b){if(void 0===a.a.get(b))a.b=a.b+1|0;else{var c=a.a;c["delete"].call(c,b);a.c=a.c-1|0}}xb.prototype.g=function(){var a=new tb;a.f=this;a.i=a.f.a.entries();a.h=a.i.next();return a};function yb(){}l(yb,fb);g=yb.prototype;g.I=function(){zb(this)};function zb(a){var b=new qb;b.b=new Map;b.c=a;a.a=b;b=new xb;b.a=new Map;b.f=a;a.b=b}g.F=function(a){var b;Ab(a)?b=null==a?!!sb(null,A(this.a,z(null))):void 0!==this.b.a.get(a):b=!!sb(a,A(this.a,z(a)));return b};g.aa=function(a){return Bb(a,this.b)||Bb(a,this.a)};function Bb(a,b){for(b=b.g();b.b();){var c=b.a().o();if(t(a,c))return!0}return!1}g.A=function(){var a=new nb;a.a=this;return a};
g.get=function(a){var b;Ab(a)?b=null==a?jb(sb(null,A(this.a,z(null)))):this.b.a.get(a):b=jb(sb(a,A(this.a,z(a))));return b};g.M=function(a,b){var c;Ab(a)?c=null==a?rb(this.a,null,b):wb(this.b,a,b):c=rb(this.a,a,b);return c};g.J=function(a){Ab(a)?null==a?pb(this.a,null):vb(this.b,a):pb(this.a,a)};g.D=function(){return this.a.a+this.b.c|0};function Cb(){}l(Cb,yb);function Db(){var a=new Cb;zb(a);return a};function Eb(){}l(Eb,x);function Fb(){var a=new Eb;a.a=Db();return a}g=Eb.prototype;g.add=function(a){return null==this.a.M(a,this)};g.s=function(){this.a.I()};g.u=function(a){return this.a.F(a)};g.L=function(){return 0==this.a.D()};g.g=function(){return this.a.ja().g()};g.H=function(a){this.a.J(a)};g.j=function(){return this.a.D()};g.Y=!0;function Wa(a){var b=0;for(a=a.g();a.b();){var c=a.a();b=b+u(c)|0;b|=0}return b};function Va(){}l(Va,ra);function w(){this.h=this.f=0}l(w,m);w.prototype.b=function(){return this.f<this.i.j()};w.prototype.a=function(){var a;this.b();return this.i.R(this.h=(a=this.f,this.f=this.f+1|0,a))};w.prototype.c=function(){this.i.N(this.h);this.f=this.h;this.h=-1};function Ra(){w.call(this)}l(Ra,w);function Sa(a,b,c){Ha();c=c?c:Ga;Gb(a.slice(0,b),a,0,b,0,c)}
function Gb(a,b,c,d,e,f){if(7>(d-c|0)){a=c;for(var k=a+1|0;k<d;k=k+1|0)for(var h=k;h>a&&0<f.a(b[h-1|0],b[h]);h=h-1|0){var v=b[h];b[h]=b[h-1|0];b[h-1|0]=v}}else if(v=c+e|0,k=d+e|0,h=v+((k-v|0)>>1)|0,Gb(b,a,v,h,-e|0,f),Gb(b,a,h,k,-e|0,f),0>=f.a(a[h-1|0],a[h]))for(;c<d;)f=h=void 0,k=(h=c,c=c+1|0,h),h=a[f=v,v=v+1|0,f],b[k]=h;else for(e=h;c<d;)if(e>=k||v<h&&0>=f.a(a[v],a[e])){var B=void 0,N=void 0,gb=(B=c,c=c+1|0,B);B=a[N=v,v=v+1|0,N];b[gb]=B}else N=B=void 0,gb=(B=c,c=c+1|0,B),B=a[N=e,e=e+1|0,N],b[gb]=
B};function Fa(a,b){return a<b?-1:a>b?1:a==b?0==a?Fa(1/a,1/b):0:isNaN(a)?isNaN(b)?0:1:-1};function Ia(a){if(a.v)return a.v();var b=typeof a;if("number"==b)b=r(a);else if("boolean"==b)b=a?1231:1237;else if("string"==b){Hb();b=":"+p(a);var c=Ib[b];if(null!=c)b=r(c);else{c=Jb[b];if(null==c){var d=0;c=a.length;for(var e=c-4|0,f=0;f<e;)d=a.charCodeAt(f+3|0)+Math.imul(31,a.charCodeAt(f+2|0)+Math.imul(31,a.charCodeAt(f+1|0)+Math.imul(31,a.charCodeAt(f)+Math.imul(31,d))))|0,d|=0,f=f+4|0;for(;f<c;){e=void 0;d=Math.imul(d,31);var k=(e=f,f=f+1|0,e);d=d+a.charCodeAt(k)|0}a=d|0}else a=r(c);256==Kb&&
(Jb=Ib,Ib=new m,Kb=0);Kb=Kb+1|0;b=Ib[b]=a}}else b=la(a);return b};var Ib,Jb;function Hb(){Hb=function(){};Jb=new m;Kb=0;Ib=new m}var Kb=0;function Lb(){}l(Lb,ra);function Ma(a){var b=new Lb;b.b=a;pa(b);b.c(Error(b));return b};function Mb(){}l(Mb,m);function p(a){if(null==a)a="null";else if(Array.isArray(a)){var b=a.O;a=ma(b?na(b.S,b.P):na(m,1))+"@"+(la(a)>>>0).toString(16)}else a=a.toString();return a}function Ab(a){return"string"===typeof a};function Nb(a,b){this.b=a;this.a=b}l(Nb,m);function ma(a){var b=ja(a.b);0!=a.a&&(b="L"+p(b)+";");a=a.a;for(var c="",d=0;d<a;d=d+1|0)c=p(c)+"[";return p(c)+p(b)}Nb.prototype.toString=function(){return"class "+p(ma(this))};function na(a,b){var c=b||0;return ia(a.prototype,"$$class/"+c,function(){return new Nb(a,c)})};var D;function Ob(){Ob=function(){};D=ha.document};function E(a){this.a=a}l(E,m);E.prototype.handleEvent=function(a){var b=this.a;b(a)};function Pb(){this.f=this.c=this.b=this.a=0;this.C=this.T=this.l=this.h=!1}l(Pb,m);function Qb(a,b){var c=new Pb;c.h=!0;c.l=!1;c.ka=new Set;c.i=a;c.c=Math.sqrt(b);c.f=Math.sqrt(b);return c};function Rb(){this.c=0}l(Rb,m);function Sb(a,b,c){var d=new Rb;d.a=a;d.b=b;d.c=c;return d};function Tb(){}l(Tb,m);function Ub(){var a=new Tb;a.a=xa([(F(),400),400],Mb,Ab,Mb.a);return a};var G,Vb,H,I,J,K,L,Wb,Xb,Yb,Zb,M,O,$b,ac;function P(){for(var a=0,b=J.g();b.b();){var c=b.a();c.h&&(a+=c.c*c.f)}Xb.textContent=p(bc(a))+" sqft"}function Q(){if(1!=G.j())Yb.style.display="none",Vb.value="",Zb.textContent="";else{Yb.style.display="block";var a=G.g().a();Vb.value=a.i;Zb.textContent=p(bc(a.c))+"x"+p(bc(a.f))+" ("+p(bc(a.c*a.f))+" sqft)"}}function bc(a){return(new Number(a)).toFixed(Aa(1))}
function cc(){for(var a=J.g();a.b();){var b=a.a();if(b.h){var c=b.c/2,d=b.f/2,e=Math.round(2*(b.a-c));c=Math.round(2*(b.a+c));var f=Math.round(2*(b.b-d));d=Math.round(2*(b.b+d));b.a=(e+c|0)/4;b.b=(f+d|0)/4;b.c=(c-e|0)/2;b.f=(d-f|0)/2}}P();Q()}function dc(a){var b=Qb(a.i,a.c*a.f);b.a=a.a;b.b=a.b;b.c=a.c;b.f=a.f;b.l=a.l;b.C=a.C;b.h=a.h;return b}
function ec(a,b){F();J.U(new Da(function(f,k){return Fa(f.c*f.f,k.c*k.f)}));for(var c=J.g();c.b();){var d=c.a();if(d.h){var e=Math.abs(d.b-b);if(Math.abs(d.a-a)<d.c/2&&e<d.f/2)return d}}return null}function fc(a,b){K.F(a)&&K.F(b)&&K.get(a).ka.add(b)}function gc(a){if(a=K.get(a))a.T=!0}function hc(a){if(a=K.get(a))a.C=!0}function ic(a){if(a=K.get(a))a.h=!1}function R(a){if(a=K.get(a))a.l=!0}
function S(){F();M.save();M.fillStyle="rgb(128, 192, 128)";M.fillRect(0,0,1200,1200);M.translate(T+600,-U+600);M.translate(-3.25,-3.25);for(var a=0;400>a;a=a+1|0)for(var b=0;400>b;b=b+1|0){var c=O.a[a][b];null!=c&&(M.fillStyle="outer wall"===c?"black":"inner wall"===c?"gray":"white",M.fillRect(Math.round(6.5*(a-200|0)),Math.round(6.5*(b-200|0)),7,7))}M.translate(3.25,3.25);for(a=J.g();a.b();){b=a.a();var d=b.c/2,e=b.f/2;c=Math.round(2*(b.a-d));d=Math.round(2*(b.a+d));var f=Math.round(2*(b.b-e));e=
Math.round(2*(b.b+e));M.translate(-3.25,-3.25);M.fillStyle=b.la;M.fillRect(Math.round(6.5*c),Math.round(6.5*f),Math.round(6.5*(d-c|0)),Math.round(6.5*(e-f|0)));M.translate(3.25,3.25);G.u(b)&&(M.translate(-3.25,-3.25),M.fillStyle="rgba(0, 0, 0, 0.125)",M.fillRect(Math.round(6.5*c),Math.round(6.5*f),Math.round(6.5*(d-c|0)),Math.round(6.5*(e-f|0))),M.translate(3.25,3.25))}M.fillStyle="black";M.textAlign="center";for(a=J.g();a.b();)b=a.a(),M.font=n(I,b)?r(16.25)+"px bold Arial":r(13)+"px plain Arial",
c=b.c/2,e=b.f/2,M.fillText(b.i,r((Math.round(6.5*Math.round(2*(b.a-c)))+Math.round(6.5*Math.round(2*(b.a+c)))|0)/2),r((Math.round(6.5*Math.round(2*(b.b-e)))+Math.round(6.5*Math.round(2*(b.b+e)))|0)/2));M.restore()}
function V(){F();O=Ub();for(var a=J.g();a.b();){var b=a.a();if(b.h){var c=b.c/2,d=b.f/2,e=Math.round(2*(b.a-c))+200|0;c=Math.round(2*(b.a+c))+200|0;var f=Math.round(2*(b.b+d))+200|0;for(b=Math.round(2*(b.b-d))+200|0;b<=f;b=b+1|0)for(d=e;d<=c;d=d+1|0)O.a[d][b]="foundation"}}for(a=1;399>a;a=a+1|0)for(e=1;399>e;e=e+1|0)if(null!=O.a[a][e]&&"foundation"===O.a[a][e]){c=!1;for(f=-1;2>f;f=f+1|0)for(b=-1;2>b;b=b+1|0)if(null==O.a[a+f|0][e+b|0]){c=!0;break}c&&(O.a[a][e]="outer wall")}for(a=J.g();a.b();)if(e=
a.a(),e.h&&!e.l){c=e.c/2;f=e.f/2;for(b=0;b<=e.c;b+=.5){d=Math.round(2*(e.a+b-c))+200|0;var k=Math.round(2*(e.b-f))+200|0;"foundation"===O.a[d][k]&&(O.a[d][k]="inner wall")}for(b=0;b<=e.c;b+=.5)d=Math.round(2*(e.a+b-c))+200|0,k=Math.round(2*(e.b+f))+200|0,"foundation"===O.a[d][k]&&(O.a[d][k]="inner wall");for(b=0;b<=e.f;b+=.5)d=Math.round(2*(e.a-c))+200|0,k=Math.round(2*(e.b+b-f))+200|0,"foundation"===O.a[d][k]&&(O.a[d][k]="inner wall");for(b=0;b<=e.f;b+=.5)d=Math.round(2*(e.a+c))+200|0,k=Math.round(2*
(e.b+b-f))+200|0,"foundation"===O.a[d][k]&&(O.a[d][k]="inner wall")}}
function W(){F();K.get("front yard").a=0;K.get("front yard").b=-50;K.get("back yard").a=0;K.get("back yard").b=50;if(jc)for(var a=J.g();a.b();)for(var b=a.a(),c=J.g();c.b();){var d=c.a();if(!n(b,d)){var e=(b.c+d.c)/2,f=kc(b,d);if(!(f>e)){var k=e-f;if(b.T||d.T)k=.5;e=d.a-b.a;var h=d.b-b.b;e/=f;h/=f;f=.1*.4*k;b.a-=f*e;d.a+=f*e;b.b-=f*h;d.b+=f*h}}}if(lc)for(a=$b.g();a.b();)e=a.a(),b=e.a,c=e.b,h=kc(b,c),d=b.a-c.a,f=b.b-c.b,d/=h,f/=h,e=.03*e.c,b.a-=e*d,c.a+=e*d,b.b-=e*f,c.b+=e*f;if(mc)for(a=J.g();a.b();)for(b=
a.a(),c=J.g();c.b();)d=c.a(),n(b,d)||(h=kc(b,d),f=b.a-d.a,e=b.b-d.b,f/=h,e/=h,h=.003/h,b.a-=h*f,d.a+=h*f,b.b-=h*e,d.b+=h*e);nc&&(oc(1),oc(2));if(pc)for(a=ac.g();a.b();)c=a.a(),b=c.a,c=c.b,e=kc(b,c),d=c.a-b.a,f=c.b-b.b,d/=e,f/=e,e=.1*.1,b.a-=e*d,c.a+=e*d,b.b-=e*f,c.b+=e*f;if(qc)for(a=J.g();a.b();)for(b=a.a(),c=J.g();c.b();)d=c.a(),n(b,d)||(k=(b.c+d.c)/2,f=d.a-b.a,e=d.b-b.b,h=k-Math.abs(f),k-=Math.abs(e),0>h||0>k||(h<k?(e=h/2,b.a-=e*Math.sign(f),d.a+=e*Math.sign(f)):(f=k/2,b.b-=f*Math.sign(e),d.b+=
f*Math.sign(e))))}
function oc(a){F();for(var b=J.g();b.b();)for(var c=b.a(),d=J.g();d.b();){var e=d.a();if(!n(c,e)&&c.h&&e.h){var f=c.c<e.c?e:c;e=c.c<e.c?c:e;var k=(f.c+e.c)/2,h=k-Math.abs(e.a-f.a);k-=Math.abs(e.b-f.b);if(!(-.5>h||-.5>k)){if(1>h){var v=f.b-f.c/2;h=e.b+e.c/2;var B=f.b+f.c/2,N=e.b-e.c/2;v>h||B<N||(v-=N,h=B-h,Math.abs(v)<Math.abs(h)&&Math.abs(v)<a&&.1<Math.abs(v)&&(e.b+=v/5),Math.abs(v)>Math.abs(h)&&Math.abs(h)<a&&.1<Math.abs(h)&&(e.b+=h/5))}1>k&&(h=f.a-f.c/2,k=e.a+e.c/2,f=f.a+f.c/2,B=e.a-e.c/2,h>k||
f<B||(h-=B,f-=k,Math.abs(h)<Math.abs(f)&&Math.abs(h)<a&&.1<Math.abs(h)&&(e.a+=h/5),Math.abs(h)>Math.abs(f)&&Math.abs(f)<a&&.1<Math.abs(f)&&(e.a+=f/5)))}}}}function kc(a,b){F();return Math.sqrt(Math.pow(a.a-b.a,Aa(2))+Math.pow(a.b-b.b,Aa(2)))}function X(a,b,c){a=K.get(a);b=K.get(b);a&&b&&$b.add(Sb(a,b,c))}function rc(a,b){a=K.get(a);b=K.get(b);a&&b&&ac.add(Sb(a,b,.3))}
function Y(a,b){a=Qb(a,b);a.la="rgba("+r(255*Math.random())+", "+r(255*Math.random())+", "+r(255*Math.random())+", 0.125)";J.add(a);K.M(a.i,a)}function Z(a){F();L=a;M.canvas.style.cursor=a}
function F(){F=function(){};J=Ua();K=Db();$b=Ua();ac=Ua();H=(Ob(),D).getElementById("canvas");M=H.getContext("2d");Xb=D.getElementById("layout-indoor-space-value");Yb=D.getElementById("room-inspector");Vb=D.getElementById("room-name-value");Zb=D.getElementById("room-size-value");sc=tc=-1;Wb=Ua();G=Fb();I=null;O=Ub();jc=!0;qc=!1;mc=pc=!0;nc=!1;lc=!0}var tc=0,sc=0,T=0,U=0,uc=!1,jc=!1,qc=!1,pc=!1,mc=!1,nc=!1,lc=!1;F();Y("guest bedroom 1",Math.imul(12,12));Y("guest bedroom 2",Math.imul(12,12));Y("guest bathroom",Math.imul(8,8));Y("garage",Math.imul(20,20));Y("laundry room",Math.imul(8,8));Y("back yard",Math.imul(32,32));Y("front yard",Math.imul(32,32));Y("living room",Math.imul(16,16));Y("master bedroom",Math.imul(16,16));Y("dining room",Math.imul(12,12));Y("kitchen",Math.imul(12,12));Y("foyer",Math.imul(8,8));Y("public bathroom",Math.imul(8,8));Y("master bathroom",Math.imul(8,8));
Y("walk in closet",Math.imul(8,8));Y("coat closet",Math.imul(4,4));X("foyer","front yard",1.3);X("living room","hall 1",1.3);X("hall 1","hall 2",1.3);X("hall 2","hall 3",1.3);X("hall 3","hall 4",1.3);X("hall 4","hall 5",1.3);X("foyer","coat closet",1);X("master bedroom","master bathroom",1);X("master bedroom","walk in closet",1);X("living room","kitchen",.7);X("kitchen","dining room",.7);X("foyer","living room",.7);X("foyer","dining room",.7);X("living room","dining room",.7);
X("dining room","back yard",.7);X("living room","master bedroom",.7);X("garage","foyer",.7);X("hall 1","living room",.7);X("garage","front yard",.7);X("hall 1","guest bedroom 1",.7);X("hall 3","guest bedroom 2",.7);X("hall 5","guest bedroom 1",.7);X("public bathroom","foyer",.3);X("public bathroom","living room",.3);X("master bedroom","back yard",.3);X("laundry room","garage",.3);X("kitchen","laundry room",.3);X("master bedroom","laundry room",.3);X("master bathroom","walk in closet",.3);
X("laundry room","master bedroom",.3);X("guest bedroom 1","living room",.3);X("guest bedroom 2","living room",.3);X("guest bedroom 3","living room",.3);X("guest bedroom 1","guest bedroom 2",.3);X("guest bedroom 2","guest bedroom 3",.3);X("guest bedroom 3","guest bedroom 1",.3);X("guest bathroom","guest bedroom 1",.3);X("guest bathroom","guest bedroom 2",.3);X("guest bathroom","guest bedroom 3",.3);J.U(new Da(function(a,b){return-Fa(a.c*a.f,b.c*b.f)|0}));rc("front yard","back yard");rc("kitchen","front yard");
rc("master","front yard");R("living room");R("kitchen");R("foyer");R("hall 1");R("hall 2");R("hall 3");R("hall 4");R("hall 5");ic("front yard");ic("back yard");gc("front yard");gc("back yard");hc("foyer");hc("living room");hc("dining room");hc("kitchen");fc("foyer","front yard");fc("master bathroom","master bedroom");fc("walk in closet","master bedroom");fc("guest bathroom","guest bedroom 1");fc("guest bathroom","guest bedroom 2");
for(var vc=J.g();vc.b();){var wc=vc.a();wc.a=-50+100*Math.random();wc.b=-50+100*Math.random()}jc=!0;qc=!1;mc=pc=!0;nc=!1;lc=!0;for(var xc=0;500>xc;xc=xc+1|0)W();for(var yc=0;500>yc;yc=yc+1|0)W();for(var zc=0;500>zc;zc=zc+1|0)W();jc=!1;mc=qc=!0;nc=!1;lc=!0;for(var Ac=0;500>Ac;Ac=Ac+1|0)W();jc=!1;qc=!0;mc=!1;lc=nc=!0;for(var Bc=0;500>Bc;Bc=Bc+1|0)W();jc=!1;qc=!0;mc=!1;lc=nc=!0;for(var Cc=0;500>Cc;Cc=Cc+1|0)W();cc();
for(var Dc=0,Ec=0,Fc=0,Gc=J.g();Gc.b();){var Hc=Gc.a();if(Hc.h)for(var Ic=0;Ic<Hc.c*Hc.f;Ic=Ic+1|0)Dc+=Hc.a,Ec+=Hc.b,Fc=Fc+1|0}T=Dc/Fc;U=Ec/Fc;U=T=0;(Ob(),D).getElementById("room-name-value").addEventListener("input",new E(function(a){ha.console.dir(a);1==G.j()&&(G.g().a().i=Vb.value,S())}));H.addEventListener("mousedown",new E(function(){uc=!0}));H.addEventListener("mouseup",new E(function(){uc=!1}));
H.addEventListener("contextmenu",new E(function(a){a.bubbles=!1;a.preventDefault();var b=a.currentTarget.getBoundingClientRect(),c=(a.x-b.left-600)/13+T;a=(a.y-b.top-600)/13+U;G.s();I?(J.H(I),K.J(I.i)):(I=Qb("",Math.imul(8,8)),I.a=c,I.b=a,J.add(I),K.M(I.i,I));V();S();P();Q()}));
H.addEventListener("mousedown",new E(function(a){a.bubbles=!1;var b=a.currentTarget.getBoundingClientRect(),c=(a.x-b.left-600)/13+T;b=(a.y-b.top-600)/13+U;I&&1==a.button&&a.altKey&&(I.l=!I.l,V());a=a.shiftKey||a.ctrlKey;c=ec(c,b);a||G.u(c)||(G.s(),Q());c&&(a&&G.u(c)?G.H(c):G.add(c),Q());S()}));H.addEventListener("mouseup",new E(function(a){a.bubbles=!1;J.L()||(cc(),V(),S())}));
H.addEventListener("mousemove",new E(function(a){a.bubbles=!1;var b=a.currentTarget.getBoundingClientRect(),c=a.x-b.left,d=a.y-b.top;a=c-tc;b=d-sc;tc=c;sc=d;if(uc){if(!G.L()){for(c=G.g();c.b();)if(d=c.a(),"nw-resize"===L&&(d.b+=b/13/2,d.f-=b/13,d.a+=a/13/2,d.c-=a/13),"ne-resize"===L&&(d.b+=b/13/2,d.f-=b/13,d.a+=a/13/2,d.c+=a/13),"sw-resize"===L&&(d.b+=b/13/2,d.f+=b/13,d.a+=a/13/2,d.c-=a/13),"se-resize"===L&&(d.b+=b/13/2,d.f+=b/13,d.a+=a/13/2,d.c+=a/13),"w-resize"===L&&(d.a+=a/13/2,d.c-=a/13),"e-resize"===
L&&(d.a+=a/13/2,d.c+=a/13),"n-resize"===L&&(d.b+=b/13/2,d.f-=b/13),"s-resize"===L&&(d.b+=b/13/2,d.f+=b/13),"move"===L||"auto"===L)d.a+=a/13,d.b+=b/13;V();S();P();Q()}}else b=(c-600)/13+T,c=(d-600)/13+U,a=ec(b,c),n(a,I)||(I=a,S()),I?(a=1>b-(I.a-I.c/2),b=1>I.a+I.c/2-b,d=1>c-(I.b-I.f/2),c=1>I.b+I.f/2-c,a&&d?Z("nw-resize"):b&&d?Z("ne-resize"):a&&c?Z("sw-resize"):b&&c?Z("se-resize"):a?Z("w-resize"):b?Z("e-resize"):d?Z("n-resize"):c?Z("s-resize"):Z("move")):Z("auto")}));
H.addEventListener("keydown",new E(function(a){a.bubbles=!1;var b=a.code;if("ArrowRight"===b){for(a=G.g();a.b();)a.a().a+=.5;V();S()}else if("ArrowLeft"===b){for(a=G.g();a.b();)a.a().a-=.5;V();S()}else if("ArrowUp"===b){for(a=G.g();a.b();)a.a().b-=.5;V();S()}else if("ArrowDown"===b){for(a=G.g();a.b();)a.a().b+=.5;V();S()}else if("Delete"===b)J.fa(G),G.s(),V(),S(),P(),Q();else if("KeyC"===b&&a.ctrlKey)for(Wb.s(),a=G.g();a.b();)b=a.a(),Wb.add(dc(b));else if("KeyV"===b&&a.ctrlKey){for(a=Wb.g();a.b();)b=
a.a(),b.a+=4,b.b+=4;a=Ua();for(b=Wb.g();b.b();){var c=b.a();a.add(dc(c))}J.V(a);G.s();G.V(a);V();S();P();Q()}else if("KeyA"===b&&a.ctrlKey){G.s();for(a=J.g();a.b();)b=a.a(),b.h&&G.add(b);S();Q()}}));V();S();P();Q();
