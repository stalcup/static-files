var g,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba;if("function"==typeof Object.setPrototypeOf)ba=Object.setPrototypeOf;else{var ca;a:{var da={ia:!0},ea={};try{ea.__proto__=da;ca=ea.ia;break a}catch(a){}ca=!1}ba=ca?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=ba;
function l(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c]}var ha=this||self;function ia(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function ja(a){return ia(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++ka}}})}var ka=1E3;function m(){}m.prototype.B=function(a){return n(this,a)};m.prototype.v=function(){return la(this)};m.prototype.toString=function(){return p(ma(na(this.constructor)))+"@"+p((this.v()>>>0).toString(16))};function oa(){}l(oa,m);oa.prototype.c=function(a){this.a=a;if(a instanceof Object)try{a.ma=this}catch(b){}};function pa(a){a.a instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(a.a):a.a.stack=Error().stack)}oa.prototype.toString=function(){var a=ma(na(this.constructor)),b=this.b;return null==b?a:p(a)+": "+p(b)};function qa(){}l(qa,oa);function ra(){}l(ra,qa);function sa(){}l(sa,ra);function ta(){}l(ta,sa);function n(a,b){return Object.is(a,b)||null==a&&null==b};function la(a){return a.Z||(Object.defineProperties(a,{Z:{value:++ua,enumerable:!1}}),a.Z)}var ua=0;var va;function wa(){wa=function(){};va=xa([256],q,ya,q.a)};function r(a){return Math.max(Math.min(a,2147483647),-2147483648)|0};function za(){}l(za,m);function q(){this.G=0}l(q,za);function Aa(){var a=(wa(),va)[130];if(!a){a=va;var b=new q;b.G=2;a=a[130]=b}return a}q.prototype.B=function(a){return ya(a)&&a.G==this.G};q.prototype.v=function(){return this.G};q.prototype.toString=function(){return""+this.G};function ya(a){return a instanceof q};function xa(a,b,c,d){return Ba(a,d,{S:b,ba:c,P:a.length})}function Ba(a,b,c){var d=a[0];if(null==d)return null;var e=[];c&&(e.O=c);if(1<a.length){a=a.slice(1);c=c&&{S:c.S,ba:c.ba,P:c.P-1};for(var f=0;f<d;f++)e[f]=Ba(a,b,c)}else if(void 0!==b)for(a=0;a<d;a++)e[a]=b;else e.length=d;return e};function Ca(a){this.b=a}l(Ca,m);Ca.prototype.a=function(a,b){var c;return c=this.b,c(a,b)};function Da(){}l(Da,m);Da.prototype.a=function(a,b){var c=typeof a;"number"==c?b=Ea(a,b):"boolean"==c?b=a==b?0:a?1:-1:"string"==c?b=a==b?0:a<b?-1:1:(a=a.G,b=b.G,b=a<b?-1:a>b?1:0);return b};var Fa;function Ga(){Ga=function(){};Fa=new Da};function t(a,b){var c;!(c=n(a,b))&&(c=null!=a)&&(c=a.B?a.B(b):Object.is(a,b));return c}function u(a){return null!=a?Ha(a):0};function Ia(){this.h=this.f=0}l(Ia,m);Ia.prototype.a=function(){return this.f<this.i.a.length};Ia.prototype.b=function(){var a;this.a();this.h=(a=this.f,this.f=this.f+1|0,a);return this.i.a[this.h]};Ia.prototype.c=function(){this.i.N(this.f=this.h);this.h=-1};function Ja(a,b){a.O=b.O;return a};function Ka(){}l(Ka,m);g=Ka.prototype;g.add=function(){throw La("Add not supported on this collection").a;};g.V=function(a){var b=!1;for(a=a.g();a.a();){var c=a.b();b=!!(+b|+this.add(c))}};g.s=function(){for(var a=this.g();a.a();)a.b(),a.c()};g.u=function(a){return Ma(this,a,!1)};g.L=function(){return 0==this.j()};g.H=function(a){Ma(this,a,!0)};g.fa=function(a){for(var b=this.g();b.a();){var c=b.b();a.u(c)&&b.c()}};g.W=function(){return this.ea(Array(this.j()))};
g.ea=function(a){var b=this.j();a.length<b&&(a=Ja(Array(b),a));for(var c=a,d=this.g(),e=0;e<b;e=e+1|0){var f=d.b();c[e]=f}a.length>b&&(a[b]=null);return a};g.toString=function(){for(var a=Na("[","]"),b=this.g();b.a();){var c=b.b();Oa(a,n(c,this)?"(this Collection)":p(c))}return a.toString()};function Ma(a,b,c){for(a=a.g();a.a();){var d=a.b();if(t(b,d))return c&&a.c(),!0}return!1};function Pa(){}l(Pa,Ka);g=Pa.prototype;g.add=function(a){this.$(this.j(),a);return!0};g.$=function(){throw La("Add not supported on this list").a;};g.s=function(){this.ca(0,this.j())};g.B=function(a){if(n(a,this))return!0;if(null==a||!a.X||this.j()!=a.j())return!1;a=a.g();for(var b=this.g();b.a();){var c=b.b(),d=a.b();if(!t(c,d))return!1}return!0};g.v=function(){for(var a=1,b=this.g();b.a();){var c=b.b();a=Math.imul(31,a)+u(c)|0;a|=0}return a};
g.indexOf=function(a){for(var b=0,c=this.j();b<c;b=b+1|0)if(t(a,this.R(b)))return b;return-1};g.g=function(){var a=new w;a.i=this;a.f=0;a.h=-1;return a};g.lastIndexOf=function(a){for(var b=this.j()-1|0;-1<b;b=b-1|0)if(t(a,this.R(b)))return b;return-1};g.N=function(){throw La("Remove not supported on this list").a;};g.ga=function(){throw La("Set not supported on this list").a;};g.ca=function(a,b){var c=new Qa;c.i=this;c.h=-1;for(c.f=a;a<b;a=a+1|0)c.b(),c.c()};
g.U=function(a){var b=this.W();Ra(b,b.length,a);for(a=0;a<b.length;a=a+1|0)this.ga(a,b[a])};g.X=!0;function Sa(){}l(Sa,Pa);function Ta(){var a=new Sa;a.a=[];return a}g=Sa.prototype;g.add=function(a){this.a[this.a.length]=a;return!0};g.$=function(a,b){this.a.splice(a,0,b)};g.V=function(a){var b=a.W();if(0!=b.length){a=b;var c=this.a,d=this.a.length;b=b.length;var e=0;n(a,c)&&(a=a.slice(e,e+b|0),e=0);var f=e;for(e=e+b|0;f<e;){var k=Math.min(f+1E4|0,e);b=k-f|0;f=a.slice(f,k);f.splice(0,0,d,0);Array.prototype.splice.apply(c,f);f=k;d=d+b|0}}};g.s=function(){this.a=[]};g.u=function(a){return-1!=this.indexOf(a)};
g.R=function(a){return this.a[a]};g.indexOf=function(a){a:{for(var b=0;b<this.a.length;b=b+1|0)if(t(a,this.a[b])){a=b;break a}a=-1}return a};g.g=function(){var a=new Ia;a.i=this;a.f=0;a.h=-1;return a};g.L=function(){return 0==this.a.length};g.lastIndexOf=function(a){a:{for(var b=this.j()-1|0;0<=b;b=b-1|0)if(t(a,this.a[b])){a=b;break a}a=-1}return a};g.N=function(a){this.a.splice(a,1)};g.H=function(a){a=this.indexOf(a);-1!=a&&this.N(a)};g.ga=function(a,b){this.a[a]=b};g.j=function(){return this.a.length};
g.U=function(a){var b=this.a,c=this.a.length,d=b.length;if(0>c)throw d=new Ua,d.b="fromIndex: 0 > toIndex: "+c,pa(d),d.c(Error(d)),d.a;if(c>d)throw a=new ta,a.b="fromIndex: 0, toIndex: "+c+", length: "+d,pa(a),a.c(Error(a)),a.a;Ra(b,c,a)};g.W=function(){var a=this.a;return Ja(a.slice(0,this.a.length),a)};g.ea=function(a){var b=this.a.length;a.length<b&&(a=Ja(Array(b),a));for(var c=0;c<b;c=c+1|0)a[c]=this.a[c];a.length>b&&(a[b]=null);return a};g.ca=function(a,b){this.a.splice(a,b-a|0)};g.X=!0;function x(){}l(x,Ka);x.prototype.B=function(a){if(n(a,this))return!0;if(null==a||!a.Y)return!1;if(a.j()!=this.j())a=!1;else a:{for(a=a.g();a.a();){var b=a.b();if(!this.u(b)){a=!1;break a}}a=!0}return a};x.prototype.v=function(){return Va(this)};x.prototype.fa=function(a){if(this.j()<a.j())for(var b=this.g();b.a();){var c=b.b();a.u(c)&&b.c()}else for(a=a.g();a.a();)b=a.b(),this.H(b)};x.prototype.Y=!0;function Wa(){}l(Wa,m);Wa.prototype.a=function(){return this.f.a()};Wa.prototype.b=function(){return this.f.b().m()};Wa.prototype.c=function(){this.f.c()};function Xa(){}l(Xa,x);g=Xa.prototype;g.s=function(){this.a.I()};g.u=function(a){return this.a.F(a)};g.g=function(){var a=this.a.A().g(),b=new Wa;b.f=a;return b};g.H=function(a){this.a.F(a)&&this.a.J(a)};g.j=function(){return this.a.D()};function Ya(){}l(Ya,m);Ya.prototype.a=function(){return this.f.a()};Ya.prototype.b=function(){return this.f.b().o()};Ya.prototype.c=function(){this.f.c()};function y(){}l(y,Ka);y.prototype.s=function(){this.a.I()};y.prototype.u=function(a){return this.a.aa(a)};y.prototype.g=function(){var a=this.a.A().g(),b=new Ya;b.f=a;return b};y.prototype.j=function(){return this.a.D()};function Za(){}l(Za,m);g=Za.prototype;g.m=function(){return this.b};g.o=function(){return this.a};g.da=function(a){var b=this.a;this.a=a;return b};g.B=function(a){return null!=a&&a.K?t(this.b,a.m())&&t(this.a,a.o()):!1};g.v=function(){return u(this.b)^u(this.a)};g.toString=function(){return p(this.b)+"="+p(this.a)};g.K=!0;function $a(){}l($a,Za);function ab(a,b){var c=new $a;c.b=a;c.a=b;return c};function cb(){}l(cb,m);cb.prototype.toString=function(){return this.a};function db(){}l(db,cb);function eb(){}l(eb,m);function Na(a,b){var c=new eb;c.f=", ".toString();c.c=a.toString();c.b=b.toString();c.h=p(c.c)+p(c.b);return c}function Oa(a,b){if(a.a){var c=a.a,d=a.f;c.a=p(c.a)+p(d)}else c=new db,c.a=a.c,a.a=c;a=a.a;a.a=p(a.a)+p(b)}eb.prototype.toString=function(){var a;this.a?a=0==this.b.length?this.a.toString():p(this.a.toString())+p(this.b):a=this.h;return a};function fb(){}l(fb,m);g=fb.prototype;g.I=function(){this.A().s()};g.F=function(a){return!!gb(this,a,!1)};g.aa=function(a){for(var b=this.A().g();b.a();){var c=b.b().o();if(t(a,c))return!0}return!1};function hb(a,b){var c=b.m();b=b.o();var d=a.get(c);return!t(b,d)||null==d&&!a.F(c)?!1:!0}g.B=function(a){if(n(a,this))return!0;if(null==a||!a.ha||this.D()!=a.D())return!1;for(a=a.A().g();a.a();){var b=a.b();if(!hb(this,b))return!1}return!0};g.get=function(a){return ib(gb(this,a,!1))};g.v=function(){return Va(this.A())};
g.ja=function(){var a=new Xa;a.a=this;return a};g.M=function(){throw La("Put not supported on this map").a;};g.J=function(a){ib(gb(this,a,!0))};g.D=function(){return this.A().j()};g.toString=function(){for(var a=Na("{","}"),b=this.A().g();b.a();){var c=b.b();c=p(jb(this,c.m()))+"="+p(jb(this,c.o()));Oa(a,c)}return a.toString()};function jb(a,b){return n(b,a)?"(this Map)":p(b)}g.values=function(){var a=new y;a.a=this;return a};function ib(a){return a?a.o():null}
function gb(a,b,c){for(a=a.A().g();a.a();){var d=a.b();if(t(b,d.m()))return c&&(d=ab(d.m(),d.o()),a.c()),d}return null}g.ha=!0;function kb(){this.h=!1}l(kb,m);kb.prototype.a=function(){return this.h};function lb(a){if(a.f.a())return!0;if(!n(a.f,a.C))return!1;a.f=a.i.a.g();return a.f.a()}kb.prototype.b=function(){this.a();this.l=this.f;var a=this.f.b();this.h=lb(this);return a};kb.prototype.c=function(){this.l.c();this.l=null;this.h=lb(this)};function mb(){}l(mb,x);g=mb.prototype;g.s=function(){this.a.I()};g.u=function(a){return null!=a&&a.K?hb(this.a,a):!1};g.g=function(){var a=new kb;a.i=this.a;a.C=a.i.b.g();a.f=a.C;a.h=lb(a);return a};g.H=function(a){this.u(a)&&this.a.J(a.m())};g.j=function(){return this.a.D()};function nb(){this.f=0}l(nb,m);nb.prototype.a=function(){if(this.f<this.h.length)return!0;var a=this.C.next();return a.done?!1:(this.h=a.value[1],this.f=0,!0)};nb.prototype.b=function(){var a;return this.i=this.h[a=this.f,this.f=this.f+1|0,a]};nb.prototype.c=function(){ob(this.l,this.i.m());0!=this.f&&(this.f=this.f-1|0)};function pb(){this.a=0}l(pb,m);function qb(a,b,c){var d=z(b),e=A(a,d);if(0==e.length)a.b.set(d,e);else if(d=rb(b,e))return d.da(c);e[e.length]=ab(b,c);a.a=a.a+1|0;return null}function ob(a,b){for(var c=z(b),d=A(a,c),e=0;e<d.length;e=e+1|0){var f=d[e];if(t(b,f.m())){1==d.length?(d.length=0,b=a.b,b["delete"].call(b,c)):d.splice(e,1);a.a=a.a-1|0;f.o();break}}}function rb(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(t(a,d.m()))return d}return null}
pb.prototype.g=function(){var a=new nb;a.l=this;a.C=a.l.b.entries();a.f=0;a.h=[];a.i=null;return a};function A(a,b){return(a=a.b.get(b))?a:[]}function z(a){var b;null==a?b=0:b=Ha(a)|0;return b};function sb(){}l(sb,m);sb.prototype.a=function(){return!this.h.done};sb.prototype.b=function(){this.l=this.h;this.h=this.i.next();var a=new tb,b=this.l,c=this.f.b;a.b=this.f;a.a=b;a.c=c;return a};sb.prototype.c=function(){ub(this.f,this.l.value[0])};function B(){}l(B,m);B.prototype.B=function(a){return null!=a&&a.K?t(this.m(),a.m())&&t(this.o(),a.o()):!1};B.prototype.v=function(){return u(this.m())^u(this.o())};B.prototype.toString=function(){return p(this.m())+"="+p(this.o())};B.prototype.K=!0;function tb(){this.c=0}l(tb,B);tb.prototype.m=function(){return this.a.value[0]};tb.prototype.o=function(){return this.b.b!=this.c?this.b.a.get(this.a.value[0]):this.a.value[1]};tb.prototype.da=function(a){return vb(this.b,this.a.value[0],a)};function wb(){this.b=this.c=0}l(wb,m);function vb(a,b,c){var d=a.a.get(b);a.a.set(b,void 0===c?null:c);void 0===d?a.c=a.c+1|0:a.b=a.b+1|0;return d}function ub(a,b){if(void 0===a.a.get(b))a.b=a.b+1|0;else{var c=a.a;c["delete"].call(c,b);a.c=a.c-1|0}}wb.prototype.g=function(){var a=new sb;a.f=this;a.i=a.f.a.entries();a.h=a.i.next();return a};function xb(){}l(xb,fb);g=xb.prototype;g.I=function(){yb(this)};function yb(a){var b=new pb;b.b=new Map;b.c=a;a.a=b;b=new wb;b.a=new Map;b.f=a;a.b=b}g.F=function(a){var b;zb(a)?b=null==a?!!rb(null,A(this.a,z(null))):void 0!==this.b.a.get(a):b=!!rb(a,A(this.a,z(a)));return b};g.aa=function(a){return Ab(a,this.b)||Ab(a,this.a)};function Ab(a,b){for(b=b.g();b.a();){var c=b.b().o();if(t(a,c))return!0}return!1}g.A=function(){var a=new mb;a.a=this;return a};
g.get=function(a){var b;zb(a)?b=null==a?ib(rb(null,A(this.a,z(null)))):this.b.a.get(a):b=ib(rb(a,A(this.a,z(a))));return b};g.M=function(a,b){var c;zb(a)?c=null==a?qb(this.a,null,b):vb(this.b,a,b):c=qb(this.a,a,b);return c};g.J=function(a){zb(a)?null==a?ob(this.a,null):ub(this.b,a):ob(this.a,a)};g.D=function(){return this.a.a+this.b.c|0};function Bb(){}l(Bb,xb);function Cb(){var a=new Bb;yb(a);return a};function Db(){}l(Db,x);function Eb(){var a=new Db;a.a=Cb();return a}g=Db.prototype;g.add=function(a){return null==this.a.M(a,this)};g.s=function(){this.a.I()};g.u=function(a){return this.a.F(a)};g.L=function(){return 0==this.a.D()};g.g=function(){return this.a.ja().g()};g.H=function(a){this.a.J(a)};g.j=function(){return this.a.D()};g.Y=!0;function Va(a){var b=0;for(a=a.g();a.a();){var c=a.b();b=b+u(c)|0;b|=0}return b};function Ua(){}l(Ua,ra);function w(){this.h=this.f=0}l(w,m);w.prototype.a=function(){return this.f<this.i.j()};w.prototype.b=function(){var a;this.a();return this.i.R(this.h=(a=this.f,this.f=this.f+1|0,a))};w.prototype.c=function(){this.i.N(this.h);this.f=this.h;this.h=-1};function Qa(){w.call(this)}l(Qa,w);function Ra(a,b,c){Ga();c=c?c:Fa;Fb(a.slice(0,b),a,0,b,0,c)}
function Fb(a,b,c,d,e,f){if(7>(d-c|0)){a=c;for(var k=a+1|0;k<d;k=k+1|0)for(var h=k;h>a&&0<f.a(b[h-1|0],b[h]);h=h-1|0){var v=b[h];b[h]=b[h-1|0];b[h-1|0]=v}}else if(v=c+e|0,k=d+e|0,h=v+((k-v|0)>>1)|0,Fb(b,a,v,h,-e|0,f),Fb(b,a,h,k,-e|0,f),0>=f.a(a[h-1|0],a[h]))for(;c<d;)f=h=void 0,k=(h=c,c=c+1|0,h),h=a[f=v,v=v+1|0,f],b[k]=h;else for(e=h;c<d;)if(e>=k||v<h&&0>=f.a(a[v],a[e])){var C=void 0,M=void 0,bb=(C=c,c=c+1|0,C);C=a[M=v,v=v+1|0,M];b[bb]=C}else M=C=void 0,bb=(C=c,c=c+1|0,C),C=a[M=e,e=e+1|0,M],b[bb]=
C};function Ea(a,b){return a<b?-1:a>b?1:a==b?0==a?Ea(1/a,1/b):0:isNaN(a)?isNaN(b)?0:1:-1};function Ha(a){if(a.v)return a.v();var b=typeof a;if("number"==b)b=r(a);else if("boolean"==b)b=a?1231:1237;else if("string"==b){Gb();b=":"+p(a);var c=Hb[b];if(null!=c)b=r(c);else{c=Ib[b];if(null==c){var d=0;c=a.length;for(var e=c-4|0,f=0;f<e;)d=a.charCodeAt(f+3|0)+Math.imul(31,a.charCodeAt(f+2|0)+Math.imul(31,a.charCodeAt(f+1|0)+Math.imul(31,a.charCodeAt(f)+Math.imul(31,d))))|0,d|=0,f=f+4|0;for(;f<c;){e=void 0;d=Math.imul(d,31);var k=(e=f,f=f+1|0,e);d=d+a.charCodeAt(k)|0}a=d|0}else a=r(c);256==Jb&&
(Ib=Hb,Hb=new m,Jb=0);Jb=Jb+1|0;b=Hb[b]=a}}else b=la(a);return b};var Hb,Ib;function Gb(){Gb=function(){};Ib=new m;Jb=0;Hb=new m}var Jb=0;function Kb(){}l(Kb,ra);function La(a){var b=new Kb;b.b=a;pa(b);b.c(Error(b));return b};function Lb(){}l(Lb,m);function p(a){if(null==a)a="null";else if(Array.isArray(a)){var b=a.O;a=ma(b?na(b.S,b.P):na(m,1))+"@"+(la(a)>>>0).toString(16)}else a=a.toString();return a}function zb(a){return"string"===typeof a};function Mb(a,b){this.b=a;this.a=b}l(Mb,m);function ma(a){var b=ja(a.b);0!=a.a&&(b="L"+p(b)+";");a=a.a;for(var c="",d=0;d<a;d=d+1|0)c=p(c)+"[";return p(c)+p(b)}Mb.prototype.toString=function(){return"class "+p(ma(this))};function na(a,b){var c=b||0;return ia(a.prototype,"$$class/"+c,function(){return new Mb(a,c)})};var Nb;function Ob(){Ob=function(){};Nb=ha.document};function D(a){this.a=a}l(D,m);D.prototype.handleEvent=function(a){var b=this.a;b(a)};function Pb(){this.f=this.c=this.b=this.a=0;this.C=this.T=this.i=this.h=!1}l(Pb,m);function Qb(a,b){var c=new Pb;c.h=!0;c.i=!1;c.ka=new Set;c.l=a;c.c=Math.sqrt(b);c.f=Math.sqrt(b);return c};function Rb(){this.c=0}l(Rb,m);function Sb(a,b,c){var d=new Rb;d.a=a;d.b=b;d.c=c;return d};function Tb(){}l(Tb,m);function Ub(){var a=new Tb;a.a=xa([(E(),400),400],Lb,zb,Lb.a);return a};var F,G,H,I,J,K,Vb,L,N,Wb,Xb;function Yb(){for(var a=I.g();a.a();){var b=a.b();b.h&&(b.a=Math.round(2*b.a)/2,b.b=Math.round(2*b.b)/2,b.c=Math.round(4*b.c)/4,b.f=Math.round(4*b.f)/4)}}function Zb(a){var b=Qb(a.l,a.c*a.f);b.a=a.a;b.b=a.b;b.c=a.c;b.f=a.f;b.i=a.i;b.C=a.C;b.h=a.h;return b}function $b(a,b){E();I.U(new Ca(function(f,k){return Ea(f.c*f.f,k.c*k.f)}));for(var c=I.g();c.a();){var d=c.b();if(d.h){var e=Math.abs(d.b-b);if(Math.abs(d.a-a)<d.c/2&&e<d.f/2)return d}}return null}
function ac(a,b){J.F(a)&&J.F(b)&&J.get(a).ka.add(b)}function bc(a){if(a=J.get(a))a.T=!0}function cc(a){if(a=J.get(a))a.C=!0}function dc(a){if(a=J.get(a))a.h=!1}function O(a){if(a=J.get(a))a.i=!0}
function P(){E();L.save();L.fillStyle="rgb(128, 192, 128)";L.fillRect(0,0,1200,1200);L.translate(Q+600,-R+600);L.translate(-3.25,-3.25);for(var a=0;400>a;a=a+1|0)for(var b=0;400>b;b=b+1|0){var c=N.a[a][b];null!=c&&(L.fillStyle="outer wall"===c?"black":"inner wall"===c?"gray":"white",L.fillRect(Math.round(6.5*(a-200|0)),Math.round(6.5*(b-200|0)),7,7))}L.translate(3.25,3.25);for(a=I.g();a.a();){var d=a.b();L.fillStyle=d.la;L.fillRect(r(13*Math.round(d.a-d.c/2)),r(13*Math.round(d.b-d.f/2)),r(13*Math.round(d.c)),
r(13*Math.round(d.f)));if(G.u(d)&&(L.fillStyle="rgba(0, 0, 0, 0.125)",L.fillRect(Math.round(13*(d.a-d.c/2)),Math.round(13*(d.b-d.f/2)),Math.round(13*d.c),Math.round(13*d.f)),1==G.j())){L.lineWidth=1;b=r(9.75);c=Math.round(13*(d.a-d.c/2));var e=Math.round(13*(d.b-d.f/2)),f=Math.round(13*(d.a+d.c/2));d=Math.round(13*(d.b+d.f/2));var k=(c+f-b|0)/2|0,h=(e+d-b|0)/2|0;S(c,e,b);S(f-b|0,e,b);S(f-b|0,d-b|0,b);S(c,d-b|0,b);S(k,e,b);S(k,d-b|0,b);S(c,h,b);S(f-b|0,h,b)}}L.fillStyle="black";L.textAlign="center";
for(a=I.g();a.a();)b=a.b(),L.font=n(H,b)?r(16.25)+"px bold Arial":r(13)+"px plain Arial",L.fillText(b.l,r(13*b.a),r(13*b.b));L.restore()}function S(a,b,c){E();L.fillStyle="black";L.fillRect(a,b,c,c);L.strokeStyle="white";L.strokeRect(a,b,c,c)}
function T(){E();N=Ub();for(var a=I.g();a.a();){var b=a.b();if(b.h){var c=b.c/2,d=b.f/2,e=Math.round(2*(b.a-c))+200|0;c=Math.round(2*(b.a+c))+200|0;var f=Math.round(2*(b.b+d))+200|0;for(b=Math.round(2*(b.b-d))+200|0;b<=f;b=b+1|0)for(d=e;d<=c;d=d+1|0)N.a[d][b]="foundation"}}for(a=1;399>a;a=a+1|0)for(e=1;399>e;e=e+1|0)if(null!=N.a[a][e]&&"foundation"===N.a[a][e]){c=!1;for(f=-1;2>f;f=f+1|0)for(b=-1;2>b;b=b+1|0)if(null==N.a[a+f|0][e+b|0]){c=!0;break}c&&(N.a[a][e]="outer wall")}for(a=I.g();a.a();)if(e=
a.b(),e.h&&!e.i){c=e.c/2;f=e.f/2;for(b=0;b<=e.c;b+=.5){d=Math.round(2*(e.a+b-c))+200|0;var k=Math.round(2*(e.b-f))+200|0;"foundation"===N.a[d][k]&&(N.a[d][k]="inner wall")}for(b=0;b<=e.c;b+=.5)d=Math.round(2*(e.a+b-c))+200|0,k=Math.round(2*(e.b+f))+200|0,"foundation"===N.a[d][k]&&(N.a[d][k]="inner wall");for(b=0;b<=e.f;b+=.5)d=Math.round(2*(e.a-c))+200|0,k=Math.round(2*(e.b+b-f))+200|0,"foundation"===N.a[d][k]&&(N.a[d][k]="inner wall");for(b=0;b<=e.f;b+=.5)d=Math.round(2*(e.a+c))+200|0,k=Math.round(2*
(e.b+b-f))+200|0,"foundation"===N.a[d][k]&&(N.a[d][k]="inner wall")}}
function U(){E();J.get("front yard").a=0;J.get("front yard").b=-50;J.get("back yard").a=0;J.get("back yard").b=50;if(V)for(var a=I.g();a.a();)for(var b=a.b(),c=I.g();c.a();){var d=c.b();if(!n(b,d)){var e=(b.c+d.c)/2,f=ec(b,d);if(!(f>e)){var k=e-f;if(b.T||d.T)k=.5;e=d.a-b.a;var h=d.b-b.b;e/=f;h/=f;f=.1*.4*k;b.a-=f*e;d.a+=f*e;b.b-=f*h;d.b+=f*h}}}if(W)for(a=Wb.g();a.a();)e=a.b(),b=e.a,c=e.b,h=ec(b,c),d=b.a-c.a,f=b.b-c.b,d/=h,f/=h,e=.03*e.c,b.a-=e*d,c.a+=e*d,b.b-=e*f,c.b+=e*f;if(fc)for(a=I.g();a.a();)for(b=
a.b(),c=I.g();c.a();)d=c.b(),n(b,d)||(h=ec(b,d),f=b.a-d.a,e=b.b-d.b,f/=h,e/=h,h=.003/h,b.a-=h*f,d.a+=h*f,b.b-=h*e,d.b+=h*e);gc&&(hc(1),hc(2));if(ic)for(a=Xb.g();a.a();)c=a.b(),b=c.a,c=c.b,e=ec(b,c),d=c.a-b.a,f=c.b-b.b,d/=e,f/=e,e=.1*.1,b.a-=e*d,c.a+=e*d,b.b-=e*f,c.b+=e*f;if(jc)for(a=I.g();a.a();)for(b=a.b(),c=I.g();c.a();)d=c.b(),n(b,d)||(k=(b.c+d.c)/2,f=d.a-b.a,e=d.b-b.b,h=k-Math.abs(f),k-=Math.abs(e),0>h||0>k||(h<k?(e=h/2,b.a-=e*Math.sign(f),d.a+=e*Math.sign(f)):(f=k/2,b.b-=f*Math.sign(e),d.b+=
f*Math.sign(e))))}
function hc(a){E();for(var b=I.g();b.a();)for(var c=b.b(),d=I.g();d.a();){var e=d.b();if(!n(c,e)&&c.h&&e.h){var f=c.c<e.c?e:c;e=c.c<e.c?c:e;var k=(f.c+e.c)/2,h=k-Math.abs(e.a-f.a);k-=Math.abs(e.b-f.b);if(!(-.5>h||-.5>k)){if(1>h){var v=f.b-f.c/2;h=e.b+e.c/2;var C=f.b+f.c/2,M=e.b-e.c/2;v>h||C<M||(v-=M,h=C-h,Math.abs(v)<Math.abs(h)&&Math.abs(v)<a&&.1<Math.abs(v)&&(e.b+=v/5),Math.abs(v)>Math.abs(h)&&Math.abs(h)<a&&.1<Math.abs(h)&&(e.b+=h/5))}1>k&&(h=f.a-f.c/2,k=e.a+e.c/2,f=f.a+f.c/2,C=e.a-e.c/2,h>k||
f<C||(h-=C,f-=k,Math.abs(h)<Math.abs(f)&&Math.abs(h)<a&&.1<Math.abs(h)&&(e.a+=h/5),Math.abs(h)>Math.abs(f)&&Math.abs(f)<a&&.1<Math.abs(f)&&(e.a+=f/5)))}}}}function ec(a,b){E();return Math.sqrt(Math.pow(a.a-b.a,Aa())+Math.pow(a.b-b.b,Aa()))}function X(a,b,c){a=J.get(a);b=J.get(b);a&&b&&Wb.add(Sb(a,b,c))}function kc(a,b){a=J.get(a);b=J.get(b);a&&b&&Xb.add(Sb(a,b,.3))}
function Y(a,b){a=Qb(a,b);a.la="rgba("+r(255*Math.random())+", "+r(255*Math.random())+", "+r(255*Math.random())+", 0.125)";I.add(a);J.M(a.l,a)}function Z(a){E();K=a;L.canvas.style.cursor=a}function E(){E=function(){};I=Ta();J=Cb();Wb=Ta();Xb=Ta();F=(Ob(),Nb).getElementById("canvas");L=F.getContext("2d");lc=mc=-1;Vb=Ta();G=Eb();H=null;N=Ub();V=!0;jc=!1;fc=ic=!0;gc=!1;W=!0}var mc=0,lc=0,Q=0,R=0,nc=!1,V=!1,jc=!1,ic=!1,fc=!1,gc=!1,W=!1;E();Y("guest bedroom 1",Math.imul(12,12));Y("guest bedroom 2",Math.imul(12,12));Y("guest bathroom",Math.imul(8,8));Y("garage",Math.imul(20,20));Y("laundry room",Math.imul(8,8));Y("back yard",Math.imul(32,32));Y("front yard",Math.imul(32,32));Y("living room",Math.imul(16,16));Y("master bedroom",Math.imul(16,16));Y("dining room",Math.imul(12,12));Y("kitchen",Math.imul(12,12));Y("foyer",Math.imul(8,8));Y("public bathroom",Math.imul(8,8));Y("master bathroom",Math.imul(8,8));
Y("walk in closet",Math.imul(8,8));Y("coat closet",Math.imul(4,4));X("foyer","front yard",1.3);X("living room","hall 1",1.3);X("hall 1","hall 2",1.3);X("hall 2","hall 3",1.3);X("hall 3","hall 4",1.3);X("hall 4","hall 5",1.3);X("foyer","coat closet",1);X("master bedroom","master bathroom",1);X("master bedroom","walk in closet",1);X("living room","kitchen",.7);X("kitchen","dining room",.7);X("foyer","living room",.7);X("foyer","dining room",.7);X("living room","dining room",.7);
X("dining room","back yard",.7);X("living room","master bedroom",.7);X("garage","foyer",.7);X("hall 1","living room",.7);X("garage","front yard",.7);X("hall 1","guest bedroom 1",.7);X("hall 3","guest bedroom 2",.7);X("hall 5","guest bedroom 1",.7);X("public bathroom","foyer",.3);X("public bathroom","living room",.3);X("master bedroom","back yard",.3);X("laundry room","garage",.3);X("kitchen","laundry room",.3);X("master bedroom","laundry room",.3);X("master bathroom","walk in closet",.3);
X("laundry room","master bedroom",.3);X("guest bedroom 1","living room",.3);X("guest bedroom 2","living room",.3);X("guest bedroom 3","living room",.3);X("guest bedroom 1","guest bedroom 2",.3);X("guest bedroom 2","guest bedroom 3",.3);X("guest bedroom 3","guest bedroom 1",.3);X("guest bathroom","guest bedroom 1",.3);X("guest bathroom","guest bedroom 2",.3);X("guest bathroom","guest bedroom 3",.3);I.U(new Ca(function(a,b){return-Ea(a.c*a.f,b.c*b.f)|0}));kc("front yard","back yard");kc("kitchen","front yard");
kc("master","front yard");O("living room");O("kitchen");O("foyer");O("hall 1");O("hall 2");O("hall 3");O("hall 4");O("hall 5");dc("front yard");dc("back yard");bc("front yard");bc("back yard");cc("foyer");cc("living room");cc("dining room");cc("kitchen");ac("foyer","front yard");ac("master bathroom","master bedroom");ac("walk in closet","master bedroom");ac("guest bathroom","guest bedroom 1");ac("guest bathroom","guest bedroom 2");
for(var oc=I.g();oc.a();){var pc=oc.b();pc.a=-50+100*Math.random();pc.b=-50+100*Math.random()}V=!0;jc=!1;fc=ic=!0;gc=!1;W=!0;for(var qc=0;500>qc;qc=qc+1|0)U();for(var rc=0;500>rc;rc=rc+1|0)U();for(var sc=0;500>sc;sc=sc+1|0)U();V=!1;fc=jc=!0;gc=!1;W=!0;for(var tc=0;500>tc;tc=tc+1|0)U();V=!1;jc=!0;fc=!1;W=gc=!0;for(var uc=0;500>uc;uc=uc+1|0)U();V=!1;jc=!0;fc=!1;W=gc=!0;for(var vc=0;500>vc;vc=vc+1|0)U();Yb();
for(var wc=0,xc=0,yc=0,zc=I.g();zc.a();){var Ac=zc.b();if(Ac.h)for(var Bc=0;Bc<Ac.c*Ac.f;Bc=Bc+1|0)wc+=Ac.a,xc+=Ac.b,yc=yc+1|0}Q=wc/yc;R=xc/yc;R=Q=0;F.addEventListener("mousedown",new D(function(){nc=!0}));F.addEventListener("mouseup",new D(function(){nc=!1}));
F.addEventListener("contextmenu",new D(function(a){a.bubbles=!1;a.preventDefault();var b=a.currentTarget.getBoundingClientRect(),c=(a.x-b.left-600)/13+Q;a=(a.y-b.top-600)/13+R;G.s();H?(I.H(H),J.J(H.l)):(H=Qb("",Math.imul(8,8)),H.a=c,H.b=a,I.add(H),J.M(H.l,H));T();P()}));
F.addEventListener("mousedown",new D(function(a){a.bubbles=!1;var b=a.currentTarget.getBoundingClientRect(),c=(a.x-b.left-600)/13+Q;b=(a.y-b.top-600)/13+R;H&&1==a.button&&a.altKey&&(H.i=!H.i,T());a=a.shiftKey||a.ctrlKey;c=$b(c,b);a||G.u(c)||G.s();c&&(a&&G.u(c)?G.H(c):G.add(c));P()}));F.addEventListener("mouseup",new D(function(a){a.bubbles=!1;I.L()||(Yb(),T(),P())}));
F.addEventListener("mousemove",new D(function(a){a.bubbles=!1;var b=a.currentTarget.getBoundingClientRect(),c=a.x-b.left,d=a.y-b.top;b=c-mc;var e=d-lc;mc=c;lc=d;if(nc){if(!G.L()){for(c=G.g();c.a();)if(d=c.b(),a.ctrlKey)d.c+=.1*b,d.f+=.1*e,d.c=Math.max(d.c,2),d.f=Math.max(d.f,2);else if("nw-resize"===K&&(d.b+=e/13/2,d.f-=e/13,d.a+=b/13/2,d.c-=b/13),"ne-resize"===K&&(d.b+=e/13/2,d.f-=e/13,d.a+=b/13/2,d.c+=b/13),"sw-resize"===K&&(d.b+=e/13/2,d.f+=e/13,d.a+=b/13/2,d.c-=b/13),"se-resize"===K&&(d.b+=e/
13/2,d.f+=e/13,d.a+=b/13/2,d.c+=b/13),"w-resize"===K&&(d.a+=b/13/2,d.c-=b/13),"e-resize"===K&&(d.a+=b/13/2,d.c+=b/13),"n-resize"===K&&(d.b+=e/13/2,d.f-=e/13),"s-resize"===K&&(d.b+=e/13/2,d.f+=e/13),"move"===K||"auto"===K)d.a+=b/13,d.b+=e/13;T();P()}}else e=(c-600)/13+Q,a=(d-600)/13+R,b=$b(e,a),n(b,H)||(H=b,P()),H?(b=1>e-(H.a-H.c/2),e=1>H.a+H.c/2-e,c=1>a-(H.b-H.f/2),a=1>H.b+H.f/2-a,b&&c?Z("nw-resize"):e&&c?Z("ne-resize"):b&&a?Z("sw-resize"):e&&a?Z("se-resize"):b?Z("w-resize"):e?Z("e-resize"):c?Z("n-resize"):
a?Z("s-resize"):Z("move")):Z("auto")}));
(Ob(),Nb).addEventListener("keydown",new D(function(a){a.bubbles=!1;var b=a.code;if("ArrowRight"===b){for(a=G.g();a.a();)a.b().a+=.5;T();P()}else if("ArrowLeft"===b){for(a=G.g();a.a();)a.b().a-=.5;T();P()}else if("ArrowUp"===b){for(a=G.g();a.a();)a.b().b-=.5;T();P()}else if("ArrowDown"===b){for(a=G.g();a.a();)a.b().b+=.5;T();P()}else if("Delete"===b)I.fa(G),G.s(),T(),P();else if("KeyC"===b&&a.ctrlKey)for(Vb.s(),a=G.g();a.a();)b=a.b(),Vb.add(Zb(b));else if("KeyV"===b&&a.ctrlKey){for(a=Vb.g();a.a();)b=
a.b(),b.a+=4,b.b+=4;a=Ta();for(b=Vb.g();b.a();){var c=b.b();a.add(Zb(c))}I.V(a);G.s();G.V(a);T();P()}else if("KeyA"===b&&a.ctrlKey){G.s();for(a=I.g();a.a();)b=a.b(),b.h&&G.add(b);P()}}));F.addEventListener("dblclick",new D(function(a){a.bubbles=!1;H&&!a.altKey&&(a=ha.window.prompt("Room Name?"),null!=a&&(H.l=a,P()))}));T();P();
